var nb=Object.defineProperty;var sb=(t,e,r)=>e in t?nb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var hm=(t,e,r)=>sb(t,typeof e!="symbol"?e+"":e,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function r(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=r(o);fetch(o.href,l)}})();function ib(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var yc={exports:{}},Wi={},vc={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fm;function ob(){if(fm)return _e;fm=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function w(L){return L===null||typeof L!="object"?null:(L=v&&L[v]||L["@@iterator"],typeof L=="function"?L:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,_={};function S(L,W,xe){this.props=L,this.context=W,this.refs=_,this.updater=xe||b}S.prototype.isReactComponent={},S.prototype.setState=function(L,W){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,W,"setState")},S.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function C(){}C.prototype=S.prototype;function P(L,W,xe){this.props=L,this.context=W,this.refs=_,this.updater=xe||b}var j=P.prototype=new C;j.constructor=P,k(j,S.prototype),j.isPureReactComponent=!0;var I=Array.isArray,A=Object.prototype.hasOwnProperty,B={current:null},G={key:!0,ref:!0,__self:!0,__source:!0};function z(L,W,xe){var be,Ee={},Se=null,Le=null;if(W!=null)for(be in W.ref!==void 0&&(Le=W.ref),W.key!==void 0&&(Se=""+W.key),W)A.call(W,be)&&!G.hasOwnProperty(be)&&(Ee[be]=W[be]);var Ce=arguments.length-2;if(Ce===1)Ee.children=xe;else if(1<Ce){for(var Me=Array(Ce),gt=0;gt<Ce;gt++)Me[gt]=arguments[gt+2];Ee.children=Me}if(L&&L.defaultProps)for(be in Ce=L.defaultProps,Ce)Ee[be]===void 0&&(Ee[be]=Ce[be]);return{$$typeof:t,type:L,key:Se,ref:Le,props:Ee,_owner:B.current}}function M(L,W){return{$$typeof:t,type:L.type,key:W,ref:L.ref,props:L.props,_owner:L._owner}}function te(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function Ne(L){var W={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(xe){return W[xe]})}var ce=/\/+/g;function fe(L,W){return typeof L=="object"&&L!==null&&L.key!=null?Ne(""+L.key):W.toString(36)}function ke(L,W,xe,be,Ee){var Se=typeof L;(Se==="undefined"||Se==="boolean")&&(L=null);var Le=!1;if(L===null)Le=!0;else switch(Se){case"string":case"number":Le=!0;break;case"object":switch(L.$$typeof){case t:case e:Le=!0}}if(Le)return Le=L,Ee=Ee(Le),L=be===""?"."+fe(Le,0):be,I(Ee)?(xe="",L!=null&&(xe=L.replace(ce,"$&/")+"/"),ke(Ee,W,xe,"",function(gt){return gt})):Ee!=null&&(te(Ee)&&(Ee=M(Ee,xe+(!Ee.key||Le&&Le.key===Ee.key?"":(""+Ee.key).replace(ce,"$&/")+"/")+L)),W.push(Ee)),1;if(Le=0,be=be===""?".":be+":",I(L))for(var Ce=0;Ce<L.length;Ce++){Se=L[Ce];var Me=be+fe(Se,Ce);Le+=ke(Se,W,xe,Me,Ee)}else if(Me=w(L),typeof Me=="function")for(L=Me.call(L),Ce=0;!(Se=L.next()).done;)Se=Se.value,Me=be+fe(Se,Ce++),Le+=ke(Se,W,xe,Me,Ee);else if(Se==="object")throw W=String(L),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return Le}function Ae(L,W,xe){if(L==null)return L;var be=[],Ee=0;return ke(L,be,"","",function(Se){return W.call(xe,Se,Ee++)}),be}function De(L){if(L._status===-1){var W=L._result;W=W(),W.then(function(xe){(L._status===0||L._status===-1)&&(L._status=1,L._result=xe)},function(xe){(L._status===0||L._status===-1)&&(L._status=2,L._result=xe)}),L._status===-1&&(L._status=0,L._result=W)}if(L._status===1)return L._result.default;throw L._result}var pe={current:null},J={transition:null},oe={ReactCurrentDispatcher:pe,ReactCurrentBatchConfig:J,ReactCurrentOwner:B};function Z(){throw Error("act(...) is not supported in production builds of React.")}return _e.Children={map:Ae,forEach:function(L,W,xe){Ae(L,function(){W.apply(this,arguments)},xe)},count:function(L){var W=0;return Ae(L,function(){W++}),W},toArray:function(L){return Ae(L,function(W){return W})||[]},only:function(L){if(!te(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},_e.Component=S,_e.Fragment=r,_e.Profiler=o,_e.PureComponent=P,_e.StrictMode=i,_e.Suspense=h,_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oe,_e.act=Z,_e.cloneElement=function(L,W,xe){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var be=k({},L.props),Ee=L.key,Se=L.ref,Le=L._owner;if(W!=null){if(W.ref!==void 0&&(Se=W.ref,Le=B.current),W.key!==void 0&&(Ee=""+W.key),L.type&&L.type.defaultProps)var Ce=L.type.defaultProps;for(Me in W)A.call(W,Me)&&!G.hasOwnProperty(Me)&&(be[Me]=W[Me]===void 0&&Ce!==void 0?Ce[Me]:W[Me])}var Me=arguments.length-2;if(Me===1)be.children=xe;else if(1<Me){Ce=Array(Me);for(var gt=0;gt<Me;gt++)Ce[gt]=arguments[gt+2];be.children=Ce}return{$$typeof:t,type:L.type,key:Ee,ref:Se,props:be,_owner:Le}},_e.createContext=function(L){return L={$$typeof:u,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:l,_context:L},L.Consumer=L},_e.createElement=z,_e.createFactory=function(L){var W=z.bind(null,L);return W.type=L,W},_e.createRef=function(){return{current:null}},_e.forwardRef=function(L){return{$$typeof:d,render:L}},_e.isValidElement=te,_e.lazy=function(L){return{$$typeof:y,_payload:{_status:-1,_result:L},_init:De}},_e.memo=function(L,W){return{$$typeof:p,type:L,compare:W===void 0?null:W}},_e.startTransition=function(L){var W=J.transition;J.transition={};try{L()}finally{J.transition=W}},_e.unstable_act=Z,_e.useCallback=function(L,W){return pe.current.useCallback(L,W)},_e.useContext=function(L){return pe.current.useContext(L)},_e.useDebugValue=function(){},_e.useDeferredValue=function(L){return pe.current.useDeferredValue(L)},_e.useEffect=function(L,W){return pe.current.useEffect(L,W)},_e.useId=function(){return pe.current.useId()},_e.useImperativeHandle=function(L,W,xe){return pe.current.useImperativeHandle(L,W,xe)},_e.useInsertionEffect=function(L,W){return pe.current.useInsertionEffect(L,W)},_e.useLayoutEffect=function(L,W){return pe.current.useLayoutEffect(L,W)},_e.useMemo=function(L,W){return pe.current.useMemo(L,W)},_e.useReducer=function(L,W,xe){return pe.current.useReducer(L,W,xe)},_e.useRef=function(L){return pe.current.useRef(L)},_e.useState=function(L){return pe.current.useState(L)},_e.useSyncExternalStore=function(L,W,xe){return pe.current.useSyncExternalStore(L,W,xe)},_e.useTransition=function(){return pe.current.useTransition()},_e.version="18.3.1",_e}var pm;function Od(){return pm||(pm=1,vc.exports=ob()),vc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mm;function ab(){if(mm)return Wi;mm=1;var t=Od(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(d,h,p){var y,v={},w=null,b=null;p!==void 0&&(w=""+p),h.key!==void 0&&(w=""+h.key),h.ref!==void 0&&(b=h.ref);for(y in h)i.call(h,y)&&!l.hasOwnProperty(y)&&(v[y]=h[y]);if(d&&d.defaultProps)for(y in h=d.defaultProps,h)v[y]===void 0&&(v[y]=h[y]);return{$$typeof:e,type:d,key:w,ref:b,props:v,_owner:o.current}}return Wi.Fragment=r,Wi.jsx=u,Wi.jsxs=u,Wi}var gm;function lb(){return gm||(gm=1,yc.exports=ab()),yc.exports}var m=lb(),T=Od();const Tt=ib(T);var Ua={},wc={exports:{}},Vt={},xc={exports:{}},bc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ym;function ub(){return ym||(ym=1,(function(t){function e(J,oe){var Z=J.length;J.push(oe);e:for(;0<Z;){var L=Z-1>>>1,W=J[L];if(0<o(W,oe))J[L]=oe,J[Z]=W,Z=L;else break e}}function r(J){return J.length===0?null:J[0]}function i(J){if(J.length===0)return null;var oe=J[0],Z=J.pop();if(Z!==oe){J[0]=Z;e:for(var L=0,W=J.length,xe=W>>>1;L<xe;){var be=2*(L+1)-1,Ee=J[be],Se=be+1,Le=J[Se];if(0>o(Ee,Z))Se<W&&0>o(Le,Ee)?(J[L]=Le,J[Se]=Z,L=Se):(J[L]=Ee,J[be]=Z,L=be);else if(Se<W&&0>o(Le,Z))J[L]=Le,J[Se]=Z,L=Se;else break e}}return oe}function o(J,oe){var Z=J.sortIndex-oe.sortIndex;return Z!==0?Z:J.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var h=[],p=[],y=1,v=null,w=3,b=!1,k=!1,_=!1,S=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(J){for(var oe=r(p);oe!==null;){if(oe.callback===null)i(p);else if(oe.startTime<=J)i(p),oe.sortIndex=oe.expirationTime,e(h,oe);else break;oe=r(p)}}function I(J){if(_=!1,j(J),!k)if(r(h)!==null)k=!0,De(A);else{var oe=r(p);oe!==null&&pe(I,oe.startTime-J)}}function A(J,oe){k=!1,_&&(_=!1,C(z),z=-1),b=!0;var Z=w;try{for(j(oe),v=r(h);v!==null&&(!(v.expirationTime>oe)||J&&!Ne());){var L=v.callback;if(typeof L=="function"){v.callback=null,w=v.priorityLevel;var W=L(v.expirationTime<=oe);oe=t.unstable_now(),typeof W=="function"?v.callback=W:v===r(h)&&i(h),j(oe)}else i(h);v=r(h)}if(v!==null)var xe=!0;else{var be=r(p);be!==null&&pe(I,be.startTime-oe),xe=!1}return xe}finally{v=null,w=Z,b=!1}}var B=!1,G=null,z=-1,M=5,te=-1;function Ne(){return!(t.unstable_now()-te<M)}function ce(){if(G!==null){var J=t.unstable_now();te=J;var oe=!0;try{oe=G(!0,J)}finally{oe?fe():(B=!1,G=null)}}else B=!1}var fe;if(typeof P=="function")fe=function(){P(ce)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,Ae=ke.port2;ke.port1.onmessage=ce,fe=function(){Ae.postMessage(null)}}else fe=function(){S(ce,0)};function De(J){G=J,B||(B=!0,fe())}function pe(J,oe){z=S(function(){J(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_continueExecution=function(){k||b||(k=!0,De(A))},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return r(h)},t.unstable_next=function(J){switch(w){case 1:case 2:case 3:var oe=3;break;default:oe=w}var Z=w;w=oe;try{return J()}finally{w=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(J,oe){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var Z=w;w=J;try{return oe()}finally{w=Z}},t.unstable_scheduleCallback=function(J,oe,Z){var L=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?L+Z:L):Z=L,J){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=Z+W,J={id:y++,callback:oe,priorityLevel:J,startTime:Z,expirationTime:W,sortIndex:-1},Z>L?(J.sortIndex=Z,e(p,J),r(h)===null&&J===r(p)&&(_?(C(z),z=-1):_=!0,pe(I,Z-L))):(J.sortIndex=W,e(h,J),k||b||(k=!0,De(A))),J},t.unstable_shouldYield=Ne,t.unstable_wrapCallback=function(J){var oe=w;return function(){var Z=w;w=oe;try{return J.apply(this,arguments)}finally{w=Z}}}})(bc)),bc}var vm;function cb(){return vm||(vm=1,xc.exports=ub()),xc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wm;function db(){if(wm)return Vt;wm=1;var t=Od(),e=cb();function r(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(n,s){u(n,s),u(n+"Capture",s)}function u(n,s){for(o[n]=s,n=0;n<s.length;n++)i.add(s[n])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},v={};function w(n){return h.call(v,n)?!0:h.call(y,n)?!1:p.test(n)?v[n]=!0:(y[n]=!0,!1)}function b(n,s,a,c){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function k(n,s,a,c){if(s===null||typeof s>"u"||b(n,s,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function _(n,s,a,c,f,g,x){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=n,this.type=s,this.sanitizeURL=g,this.removeEmptyString=x}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){S[n]=new _(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];S[s]=new _(s,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){S[n]=new _(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){S[n]=new _(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){S[n]=new _(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){S[n]=new _(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){S[n]=new _(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){S[n]=new _(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){S[n]=new _(n,5,!1,n.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function P(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(C,P);S[s]=new _(s,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(C,P);S[s]=new _(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(C,P);S[s]=new _(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){S[n]=new _(n,1,!1,n.toLowerCase(),null,!1,!1)}),S.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){S[n]=new _(n,1,!1,n.toLowerCase(),null,!0,!0)});function j(n,s,a,c){var f=S.hasOwnProperty(s)?S[s]:null;(f!==null?f.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(k(s,a,f,c)&&(a=null),c||f===null?w(s)&&(a===null?n.removeAttribute(s):n.setAttribute(s,""+a)):f.mustUseProperty?n[f.propertyName]=a===null?f.type===3?!1:"":a:(s=f.attributeName,c=f.attributeNamespace,a===null?n.removeAttribute(s):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,c?n.setAttributeNS(c,s,a):n.setAttribute(s,a))))}var I=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),B=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),te=Symbol.for("react.provider"),Ne=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),ke=Symbol.for("react.suspense_list"),Ae=Symbol.for("react.memo"),De=Symbol.for("react.lazy"),pe=Symbol.for("react.offscreen"),J=Symbol.iterator;function oe(n){return n===null||typeof n!="object"?null:(n=J&&n[J]||n["@@iterator"],typeof n=="function"?n:null)}var Z=Object.assign,L;function W(n){if(L===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);L=s&&s[1]||""}return`
`+L+n}var xe=!1;function be(n,s){if(!n||xe)return"";xe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(U){var c=U}Reflect.construct(n,[],s)}else{try{s.call()}catch(U){c=U}n.call(s.prototype)}else{try{throw Error()}catch(U){c=U}n()}}catch(U){if(U&&c&&typeof U.stack=="string"){for(var f=U.stack.split(`
`),g=c.stack.split(`
`),x=f.length-1,E=g.length-1;1<=x&&0<=E&&f[x]!==g[E];)E--;for(;1<=x&&0<=E;x--,E--)if(f[x]!==g[E]){if(x!==1||E!==1)do if(x--,E--,0>E||f[x]!==g[E]){var N=`
`+f[x].replace(" at new "," at ");return n.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",n.displayName)),N}while(1<=x&&0<=E);break}}}finally{xe=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?W(n):""}function Ee(n){switch(n.tag){case 5:return W(n.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return n=be(n.type,!1),n;case 11:return n=be(n.type.render,!1),n;case 1:return n=be(n.type,!0),n;default:return""}}function Se(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case G:return"Fragment";case B:return"Portal";case M:return"Profiler";case z:return"StrictMode";case fe:return"Suspense";case ke:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Ne:return(n.displayName||"Context")+".Consumer";case te:return(n._context.displayName||"Context")+".Provider";case ce:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Ae:return s=n.displayName||null,s!==null?s:Se(n.type)||"Memo";case De:s=n._payload,n=n._init;try{return Se(n(s))}catch{}}return null}function Le(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Se(s);case 8:return s===z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ce(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Me(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function gt(n){var s=Me(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),c=""+n[s];if(!n.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,g=a.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(x){c=""+x,g.call(this,x)}}),Object.defineProperty(n,s,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(x){c=""+x},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Gr(n){n._valueTracker||(n._valueTracker=gt(n))}function Ro(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return n&&(c=Me(n)?n.checked?"true":"false":n.value),n=c,n!==a?(s.setValue(n),!0):!1}function En(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function ti(n,s){var a=s.checked;return Z({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function ri(n,s){var a=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;a=Ce(s.value!=null?s.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ni(n,s){s=s.checked,s!=null&&j(n,"checked",s,!1)}function si(n,s){ni(n,s);var a=Ce(s.value),c=s.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?No(n,s.type,a):s.hasOwnProperty("defaultValue")&&No(n,s.type,Ce(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function Po(n,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,a||s===n.value||(n.value=s),n.defaultValue=s}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function No(n,s,a){(s!=="number"||En(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var Jr=Array.isArray;function R(n,s,a,c){if(n=n.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=s.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&c&&(n[a].defaultSelected=!0)}else{for(a=""+Ce(a),s=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,c&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function V(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(r(91));return Z({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function F(n,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(r(92));if(Jr(a)){if(1<a.length)throw Error(r(93));a=a[0]}s=a}s==null&&(s=""),a=s}n._wrapperState={initialValue:Ce(a)}}function ee(n,s){var a=Ce(s.value),c=Ce(s.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),s.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function X(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function Y(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function he(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?Y(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Te,Re=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,c,f){MSApp.execUnsafeLocalFunction(function(){return n(s,a,c,f)})}:n})(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(Te=Te||document.createElement("div"),Te.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Te.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function et(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var Ut={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kr=["Webkit","ms","Moz","O"];Object.keys(Ut).forEach(function(n){kr.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),Ut[s]=Ut[n]})});function Ao(n,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Ut.hasOwnProperty(n)&&Ut[n]?(""+s).trim():s+"px"}function es(n,s){n=n.style;for(var a in s)if(s.hasOwnProperty(a)){var c=a.indexOf("--")===0,f=Ao(a,s[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,f):n[a]=f}}var ii=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function oi(n,s){if(s){if(ii[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(r(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(r(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(r(61))}if(s.style!=null&&typeof s.style!="object")throw Error(r(62))}}function ts(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ai=null;function rs(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ol=null,ns=null,ss=null;function jh(n){if(n=Ri(n)){if(typeof Ol!="function")throw Error(r(280));var s=n.stateNode;s&&(s=ta(s),Ol(n.stateNode,n.type,s))}}function Rh(n){ns?ss?ss.push(n):ss=[n]:ns=n}function Ph(){if(ns){var n=ns,s=ss;if(ss=ns=null,jh(n),s)for(n=0;n<s.length;n++)jh(s[n])}}function Nh(n,s){return n(s)}function Ah(){}var Il=!1;function Oh(n,s,a){if(Il)return n(s,a);Il=!0;try{return Nh(n,s,a)}finally{Il=!1,(ns!==null||ss!==null)&&(Ah(),Ph())}}function li(n,s){var a=n.stateNode;if(a===null)return null;var c=ta(a);if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var Ll=!1;if(d)try{var ui={};Object.defineProperty(ui,"passive",{get:function(){Ll=!0}}),window.addEventListener("test",ui,ui),window.removeEventListener("test",ui,ui)}catch{Ll=!1}function uw(n,s,a,c,f,g,x,E,N){var U=Array.prototype.slice.call(arguments,3);try{s.apply(a,U)}catch(H){this.onError(H)}}var ci=!1,Oo=null,Io=!1,Dl=null,cw={onError:function(n){ci=!0,Oo=n}};function dw(n,s,a,c,f,g,x,E,N){ci=!1,Oo=null,uw.apply(cw,arguments)}function hw(n,s,a,c,f,g,x,E,N){if(dw.apply(this,arguments),ci){if(ci){var U=Oo;ci=!1,Oo=null}else throw Error(r(198));Io||(Io=!0,Dl=U)}}function Tn(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function Ih(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function Lh(n){if(Tn(n)!==n)throw Error(r(188))}function fw(n){var s=n.alternate;if(!s){if(s=Tn(n),s===null)throw Error(r(188));return s!==n?null:n}for(var a=n,c=s;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(c=f.return,c!==null){a=c;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return Lh(f),n;if(g===c)return Lh(f),s;g=g.sibling}throw Error(r(188))}if(a.return!==c.return)a=f,c=g;else{for(var x=!1,E=f.child;E;){if(E===a){x=!0,a=f,c=g;break}if(E===c){x=!0,c=f,a=g;break}E=E.sibling}if(!x){for(E=g.child;E;){if(E===a){x=!0,a=g,c=f;break}if(E===c){x=!0,c=g,a=f;break}E=E.sibling}if(!x)throw Error(r(189))}}if(a.alternate!==c)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?n:s}function Dh(n){return n=fw(n),n!==null?Mh(n):null}function Mh(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=Mh(n);if(s!==null)return s;n=n.sibling}return null}var Vh=e.unstable_scheduleCallback,$h=e.unstable_cancelCallback,pw=e.unstable_shouldYield,mw=e.unstable_requestPaint,tt=e.unstable_now,gw=e.unstable_getCurrentPriorityLevel,Ml=e.unstable_ImmediatePriority,Uh=e.unstable_UserBlockingPriority,Lo=e.unstable_NormalPriority,yw=e.unstable_LowPriority,Fh=e.unstable_IdlePriority,Do=null,_r=null;function vw(n){if(_r&&typeof _r.onCommitFiberRoot=="function")try{_r.onCommitFiberRoot(Do,n,void 0,(n.current.flags&128)===128)}catch{}}var or=Math.clz32?Math.clz32:bw,ww=Math.log,xw=Math.LN2;function bw(n){return n>>>=0,n===0?32:31-(ww(n)/xw|0)|0}var Mo=64,Vo=4194304;function di(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function $o(n,s){var a=n.pendingLanes;if(a===0)return 0;var c=0,f=n.suspendedLanes,g=n.pingedLanes,x=a&268435455;if(x!==0){var E=x&~f;E!==0?c=di(E):(g&=x,g!==0&&(c=di(g)))}else x=a&~f,x!==0?c=di(x):g!==0&&(c=di(g));if(c===0)return 0;if(s!==0&&s!==c&&(s&f)===0&&(f=c&-c,g=s&-s,f>=g||f===16&&(g&4194240)!==0))return s;if((c&4)!==0&&(c|=a&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=c;0<s;)a=31-or(s),f=1<<a,c|=n[a],s&=~f;return c}function kw(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _w(n,s){for(var a=n.suspendedLanes,c=n.pingedLanes,f=n.expirationTimes,g=n.pendingLanes;0<g;){var x=31-or(g),E=1<<x,N=f[x];N===-1?((E&a)===0||(E&c)!==0)&&(f[x]=kw(E,s)):N<=s&&(n.expiredLanes|=E),g&=~E}}function Vl(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Bh(){var n=Mo;return Mo<<=1,(Mo&4194240)===0&&(Mo=64),n}function $l(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function hi(n,s,a){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-or(s),n[s]=a}function Sw(n,s){var a=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var f=31-or(a),g=1<<f;s[f]=0,c[f]=-1,n[f]=-1,a&=~g}}function Ul(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var c=31-or(a),f=1<<c;f&s|n[c]&s&&(n[c]|=s),a&=~f}}var Oe=0;function zh(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var Wh,Fl,qh,Hh,Kh,Bl=!1,Uo=[],Yr=null,Qr=null,Xr=null,fi=new Map,pi=new Map,Zr=[],Ew="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gh(n,s){switch(n){case"focusin":case"focusout":Yr=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":Xr=null;break;case"pointerover":case"pointerout":fi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":pi.delete(s.pointerId)}}function mi(n,s,a,c,f,g){return n===null||n.nativeEvent!==g?(n={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:g,targetContainers:[f]},s!==null&&(s=Ri(s),s!==null&&Fl(s)),n):(n.eventSystemFlags|=c,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function Tw(n,s,a,c,f){switch(s){case"focusin":return Yr=mi(Yr,n,s,a,c,f),!0;case"dragenter":return Qr=mi(Qr,n,s,a,c,f),!0;case"mouseover":return Xr=mi(Xr,n,s,a,c,f),!0;case"pointerover":var g=f.pointerId;return fi.set(g,mi(fi.get(g)||null,n,s,a,c,f)),!0;case"gotpointercapture":return g=f.pointerId,pi.set(g,mi(pi.get(g)||null,n,s,a,c,f)),!0}return!1}function Jh(n){var s=Cn(n.target);if(s!==null){var a=Tn(s);if(a!==null){if(s=a.tag,s===13){if(s=Ih(a),s!==null){n.blockedOn=s,Kh(n.priority,function(){qh(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Fo(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=Wl(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);ai=c,a.target.dispatchEvent(c),ai=null}else return s=Ri(a),s!==null&&Fl(s),n.blockedOn=a,!1;s.shift()}return!0}function Yh(n,s,a){Fo(n)&&a.delete(s)}function Cw(){Bl=!1,Yr!==null&&Fo(Yr)&&(Yr=null),Qr!==null&&Fo(Qr)&&(Qr=null),Xr!==null&&Fo(Xr)&&(Xr=null),fi.forEach(Yh),pi.forEach(Yh)}function gi(n,s){n.blockedOn===s&&(n.blockedOn=null,Bl||(Bl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Cw)))}function yi(n){function s(f){return gi(f,n)}if(0<Uo.length){gi(Uo[0],n);for(var a=1;a<Uo.length;a++){var c=Uo[a];c.blockedOn===n&&(c.blockedOn=null)}}for(Yr!==null&&gi(Yr,n),Qr!==null&&gi(Qr,n),Xr!==null&&gi(Xr,n),fi.forEach(s),pi.forEach(s),a=0;a<Zr.length;a++)c=Zr[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<Zr.length&&(a=Zr[0],a.blockedOn===null);)Jh(a),a.blockedOn===null&&Zr.shift()}var is=I.ReactCurrentBatchConfig,Bo=!0;function jw(n,s,a,c){var f=Oe,g=is.transition;is.transition=null;try{Oe=1,zl(n,s,a,c)}finally{Oe=f,is.transition=g}}function Rw(n,s,a,c){var f=Oe,g=is.transition;is.transition=null;try{Oe=4,zl(n,s,a,c)}finally{Oe=f,is.transition=g}}function zl(n,s,a,c){if(Bo){var f=Wl(n,s,a,c);if(f===null)au(n,s,c,zo,a),Gh(n,c);else if(Tw(f,n,s,a,c))c.stopPropagation();else if(Gh(n,c),s&4&&-1<Ew.indexOf(n)){for(;f!==null;){var g=Ri(f);if(g!==null&&Wh(g),g=Wl(n,s,a,c),g===null&&au(n,s,c,zo,a),g===f)break;f=g}f!==null&&c.stopPropagation()}else au(n,s,c,null,a)}}var zo=null;function Wl(n,s,a,c){if(zo=null,n=rs(c),n=Cn(n),n!==null)if(s=Tn(n),s===null)n=null;else if(a=s.tag,a===13){if(n=Ih(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return zo=n,null}function Qh(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gw()){case Ml:return 1;case Uh:return 4;case Lo:case yw:return 16;case Fh:return 536870912;default:return 16}default:return 16}}var en=null,ql=null,Wo=null;function Xh(){if(Wo)return Wo;var n,s=ql,a=s.length,c,f="value"in en?en.value:en.textContent,g=f.length;for(n=0;n<a&&s[n]===f[n];n++);var x=a-n;for(c=1;c<=x&&s[a-c]===f[g-c];c++);return Wo=f.slice(n,1<c?1-c:void 0)}function qo(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Ho(){return!0}function Zh(){return!1}function Ft(n){function s(a,c,f,g,x){this._reactName=a,this._targetInst=f,this.type=c,this.nativeEvent=g,this.target=x,this.currentTarget=null;for(var E in n)n.hasOwnProperty(E)&&(a=n[E],this[E]=a?a(g):g[E]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ho:Zh,this.isPropagationStopped=Zh,this}return Z(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ho)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ho)},persist:function(){},isPersistent:Ho}),s}var os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hl=Ft(os),vi=Z({},os,{view:0,detail:0}),Pw=Ft(vi),Kl,Gl,wi,Ko=Z({},vi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yl,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==wi&&(wi&&n.type==="mousemove"?(Kl=n.screenX-wi.screenX,Gl=n.screenY-wi.screenY):Gl=Kl=0,wi=n),Kl)},movementY:function(n){return"movementY"in n?n.movementY:Gl}}),ef=Ft(Ko),Nw=Z({},Ko,{dataTransfer:0}),Aw=Ft(Nw),Ow=Z({},vi,{relatedTarget:0}),Jl=Ft(Ow),Iw=Z({},os,{animationName:0,elapsedTime:0,pseudoElement:0}),Lw=Ft(Iw),Dw=Z({},os,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Mw=Ft(Dw),Vw=Z({},os,{data:0}),tf=Ft(Vw),$w={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bw(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=Fw[n])?!!s[n]:!1}function Yl(){return Bw}var zw=Z({},vi,{key:function(n){if(n.key){var s=$w[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=qo(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Uw[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yl,charCode:function(n){return n.type==="keypress"?qo(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?qo(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ww=Ft(zw),qw=Z({},Ko,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rf=Ft(qw),Hw=Z({},vi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yl}),Kw=Ft(Hw),Gw=Z({},os,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jw=Ft(Gw),Yw=Z({},Ko,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Qw=Ft(Yw),Xw=[9,13,27,32],Ql=d&&"CompositionEvent"in window,xi=null;d&&"documentMode"in document&&(xi=document.documentMode);var Zw=d&&"TextEvent"in window&&!xi,nf=d&&(!Ql||xi&&8<xi&&11>=xi),sf=" ",of=!1;function af(n,s){switch(n){case"keyup":return Xw.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lf(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var as=!1;function ex(n,s){switch(n){case"compositionend":return lf(s);case"keypress":return s.which!==32?null:(of=!0,sf);case"textInput":return n=s.data,n===sf&&of?null:n;default:return null}}function tx(n,s){if(as)return n==="compositionend"||!Ql&&af(n,s)?(n=Xh(),Wo=ql=en=null,as=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return nf&&s.locale!=="ko"?null:s.data;default:return null}}var rx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uf(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!rx[n.type]:s==="textarea"}function cf(n,s,a,c){Rh(c),s=Xo(s,"onChange"),0<s.length&&(a=new Hl("onChange","change",null,a,c),n.push({event:a,listeners:s}))}var bi=null,ki=null;function nx(n){jf(n,0)}function Go(n){var s=hs(n);if(Ro(s))return n}function sx(n,s){if(n==="change")return s}var df=!1;if(d){var Xl;if(d){var Zl="oninput"in document;if(!Zl){var hf=document.createElement("div");hf.setAttribute("oninput","return;"),Zl=typeof hf.oninput=="function"}Xl=Zl}else Xl=!1;df=Xl&&(!document.documentMode||9<document.documentMode)}function ff(){bi&&(bi.detachEvent("onpropertychange",pf),ki=bi=null)}function pf(n){if(n.propertyName==="value"&&Go(ki)){var s=[];cf(s,ki,n,rs(n)),Oh(nx,s)}}function ix(n,s,a){n==="focusin"?(ff(),bi=s,ki=a,bi.attachEvent("onpropertychange",pf)):n==="focusout"&&ff()}function ox(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Go(ki)}function ax(n,s){if(n==="click")return Go(s)}function lx(n,s){if(n==="input"||n==="change")return Go(s)}function ux(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var ar=typeof Object.is=="function"?Object.is:ux;function _i(n,s){if(ar(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var f=a[c];if(!h.call(s,f)||!ar(n[f],s[f]))return!1}return!0}function mf(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function gf(n,s){var a=mf(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=s&&c>=s)return{node:a,offset:s-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=mf(a)}}function yf(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?yf(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function vf(){for(var n=window,s=En();s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=En(n.document)}return s}function eu(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function cx(n){var s=vf(),a=n.focusedElem,c=n.selectionRange;if(s!==a&&a&&a.ownerDocument&&yf(a.ownerDocument.documentElement,a)){if(c!==null&&eu(a)){if(s=c.start,n=c.end,n===void 0&&(n=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(n,a.value.length);else if(n=(s=a.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var f=a.textContent.length,g=Math.min(c.start,f);c=c.end===void 0?g:Math.min(c.end,f),!n.extend&&g>c&&(f=c,c=g,g=f),f=gf(a,g);var x=gf(a,c);f&&x&&(n.rangeCount!==1||n.anchorNode!==f.node||n.anchorOffset!==f.offset||n.focusNode!==x.node||n.focusOffset!==x.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),n.removeAllRanges(),g>c?(n.addRange(s),n.extend(x.node,x.offset)):(s.setEnd(x.node,x.offset),n.addRange(s)))}}for(s=[],n=a;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)n=s[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var dx=d&&"documentMode"in document&&11>=document.documentMode,ls=null,tu=null,Si=null,ru=!1;function wf(n,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ru||ls==null||ls!==En(c)||(c=ls,"selectionStart"in c&&eu(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Si&&_i(Si,c)||(Si=c,c=Xo(tu,"onSelect"),0<c.length&&(s=new Hl("onSelect","select",null,s,a),n.push({event:s,listeners:c}),s.target=ls)))}function Jo(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var us={animationend:Jo("Animation","AnimationEnd"),animationiteration:Jo("Animation","AnimationIteration"),animationstart:Jo("Animation","AnimationStart"),transitionend:Jo("Transition","TransitionEnd")},nu={},xf={};d&&(xf=document.createElement("div").style,"AnimationEvent"in window||(delete us.animationend.animation,delete us.animationiteration.animation,delete us.animationstart.animation),"TransitionEvent"in window||delete us.transitionend.transition);function Yo(n){if(nu[n])return nu[n];if(!us[n])return n;var s=us[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in xf)return nu[n]=s[a];return n}var bf=Yo("animationend"),kf=Yo("animationiteration"),_f=Yo("animationstart"),Sf=Yo("transitionend"),Ef=new Map,Tf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tn(n,s){Ef.set(n,s),l(s,[n])}for(var su=0;su<Tf.length;su++){var iu=Tf[su],hx=iu.toLowerCase(),fx=iu[0].toUpperCase()+iu.slice(1);tn(hx,"on"+fx)}tn(bf,"onAnimationEnd"),tn(kf,"onAnimationIteration"),tn(_f,"onAnimationStart"),tn("dblclick","onDoubleClick"),tn("focusin","onFocus"),tn("focusout","onBlur"),tn(Sf,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ei="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),px=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ei));function Cf(n,s,a){var c=n.type||"unknown-event";n.currentTarget=a,hw(c,s,void 0,n),n.currentTarget=null}function jf(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],f=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var x=c.length-1;0<=x;x--){var E=c[x],N=E.instance,U=E.currentTarget;if(E=E.listener,N!==g&&f.isPropagationStopped())break e;Cf(f,E,U),g=N}else for(x=0;x<c.length;x++){if(E=c[x],N=E.instance,U=E.currentTarget,E=E.listener,N!==g&&f.isPropagationStopped())break e;Cf(f,E,U),g=N}}}if(Io)throw n=Dl,Io=!1,Dl=null,n}function Ue(n,s){var a=s[fu];a===void 0&&(a=s[fu]=new Set);var c=n+"__bubble";a.has(c)||(Rf(s,n,2,!1),a.add(c))}function ou(n,s,a){var c=0;s&&(c|=4),Rf(a,n,c,s)}var Qo="_reactListening"+Math.random().toString(36).slice(2);function Ti(n){if(!n[Qo]){n[Qo]=!0,i.forEach(function(a){a!=="selectionchange"&&(px.has(a)||ou(a,!1,n),ou(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Qo]||(s[Qo]=!0,ou("selectionchange",!1,s))}}function Rf(n,s,a,c){switch(Qh(s)){case 1:var f=jw;break;case 4:f=Rw;break;default:f=zl}a=f.bind(null,s,a,n),f=void 0,!Ll||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),c?f!==void 0?n.addEventListener(s,a,{capture:!0,passive:f}):n.addEventListener(s,a,!0):f!==void 0?n.addEventListener(s,a,{passive:f}):n.addEventListener(s,a,!1)}function au(n,s,a,c,f){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var x=c.tag;if(x===3||x===4){var E=c.stateNode.containerInfo;if(E===f||E.nodeType===8&&E.parentNode===f)break;if(x===4)for(x=c.return;x!==null;){var N=x.tag;if((N===3||N===4)&&(N=x.stateNode.containerInfo,N===f||N.nodeType===8&&N.parentNode===f))return;x=x.return}for(;E!==null;){if(x=Cn(E),x===null)return;if(N=x.tag,N===5||N===6){c=g=x;continue e}E=E.parentNode}}c=c.return}Oh(function(){var U=g,H=rs(a),K=[];e:{var q=Ef.get(n);if(q!==void 0){var re=Hl,se=n;switch(n){case"keypress":if(qo(a)===0)break e;case"keydown":case"keyup":re=Ww;break;case"focusin":se="focus",re=Jl;break;case"focusout":se="blur",re=Jl;break;case"beforeblur":case"afterblur":re=Jl;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=ef;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=Aw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=Kw;break;case bf:case kf:case _f:re=Lw;break;case Sf:re=Jw;break;case"scroll":re=Pw;break;case"wheel":re=Qw;break;case"copy":case"cut":case"paste":re=Mw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=rf}var ae=(s&4)!==0,rt=!ae&&n==="scroll",D=ae?q!==null?q+"Capture":null:q;ae=[];for(var O=U,$;O!==null;){$=O;var Q=$.stateNode;if($.tag===5&&Q!==null&&($=Q,D!==null&&(Q=li(O,D),Q!=null&&ae.push(Ci(O,Q,$)))),rt)break;O=O.return}0<ae.length&&(q=new re(q,se,null,a,H),K.push({event:q,listeners:ae}))}}if((s&7)===0){e:{if(q=n==="mouseover"||n==="pointerover",re=n==="mouseout"||n==="pointerout",q&&a!==ai&&(se=a.relatedTarget||a.fromElement)&&(Cn(se)||se[Nr]))break e;if((re||q)&&(q=H.window===H?H:(q=H.ownerDocument)?q.defaultView||q.parentWindow:window,re?(se=a.relatedTarget||a.toElement,re=U,se=se?Cn(se):null,se!==null&&(rt=Tn(se),se!==rt||se.tag!==5&&se.tag!==6)&&(se=null)):(re=null,se=U),re!==se)){if(ae=ef,Q="onMouseLeave",D="onMouseEnter",O="mouse",(n==="pointerout"||n==="pointerover")&&(ae=rf,Q="onPointerLeave",D="onPointerEnter",O="pointer"),rt=re==null?q:hs(re),$=se==null?q:hs(se),q=new ae(Q,O+"leave",re,a,H),q.target=rt,q.relatedTarget=$,Q=null,Cn(H)===U&&(ae=new ae(D,O+"enter",se,a,H),ae.target=$,ae.relatedTarget=rt,Q=ae),rt=Q,re&&se)t:{for(ae=re,D=se,O=0,$=ae;$;$=cs($))O++;for($=0,Q=D;Q;Q=cs(Q))$++;for(;0<O-$;)ae=cs(ae),O--;for(;0<$-O;)D=cs(D),$--;for(;O--;){if(ae===D||D!==null&&ae===D.alternate)break t;ae=cs(ae),D=cs(D)}ae=null}else ae=null;re!==null&&Pf(K,q,re,ae,!1),se!==null&&rt!==null&&Pf(K,rt,se,ae,!0)}}e:{if(q=U?hs(U):window,re=q.nodeName&&q.nodeName.toLowerCase(),re==="select"||re==="input"&&q.type==="file")var ue=sx;else if(uf(q))if(df)ue=lx;else{ue=ox;var me=ix}else(re=q.nodeName)&&re.toLowerCase()==="input"&&(q.type==="checkbox"||q.type==="radio")&&(ue=ax);if(ue&&(ue=ue(n,U))){cf(K,ue,a,H);break e}me&&me(n,q,U),n==="focusout"&&(me=q._wrapperState)&&me.controlled&&q.type==="number"&&No(q,"number",q.value)}switch(me=U?hs(U):window,n){case"focusin":(uf(me)||me.contentEditable==="true")&&(ls=me,tu=U,Si=null);break;case"focusout":Si=tu=ls=null;break;case"mousedown":ru=!0;break;case"contextmenu":case"mouseup":case"dragend":ru=!1,wf(K,a,H);break;case"selectionchange":if(dx)break;case"keydown":case"keyup":wf(K,a,H)}var ge;if(Ql)e:{switch(n){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else as?af(n,a)&&(we="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(we="onCompositionStart");we&&(nf&&a.locale!=="ko"&&(as||we!=="onCompositionStart"?we==="onCompositionEnd"&&as&&(ge=Xh()):(en=H,ql="value"in en?en.value:en.textContent,as=!0)),me=Xo(U,we),0<me.length&&(we=new tf(we,n,null,a,H),K.push({event:we,listeners:me}),ge?we.data=ge:(ge=lf(a),ge!==null&&(we.data=ge)))),(ge=Zw?ex(n,a):tx(n,a))&&(U=Xo(U,"onBeforeInput"),0<U.length&&(H=new tf("onBeforeInput","beforeinput",null,a,H),K.push({event:H,listeners:U}),H.data=ge))}jf(K,s)})}function Ci(n,s,a){return{instance:n,listener:s,currentTarget:a}}function Xo(n,s){for(var a=s+"Capture",c=[];n!==null;){var f=n,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=li(n,a),g!=null&&c.unshift(Ci(n,g,f)),g=li(n,s),g!=null&&c.push(Ci(n,g,f))),n=n.return}return c}function cs(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Pf(n,s,a,c,f){for(var g=s._reactName,x=[];a!==null&&a!==c;){var E=a,N=E.alternate,U=E.stateNode;if(N!==null&&N===c)break;E.tag===5&&U!==null&&(E=U,f?(N=li(a,g),N!=null&&x.unshift(Ci(a,N,E))):f||(N=li(a,g),N!=null&&x.push(Ci(a,N,E)))),a=a.return}x.length!==0&&n.push({event:s,listeners:x})}var mx=/\r\n?/g,gx=/\u0000|\uFFFD/g;function Nf(n){return(typeof n=="string"?n:""+n).replace(mx,`
`).replace(gx,"")}function Zo(n,s,a){if(s=Nf(s),Nf(n)!==s&&a)throw Error(r(425))}function ea(){}var lu=null,uu=null;function cu(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var du=typeof setTimeout=="function"?setTimeout:void 0,yx=typeof clearTimeout=="function"?clearTimeout:void 0,Af=typeof Promise=="function"?Promise:void 0,vx=typeof queueMicrotask=="function"?queueMicrotask:typeof Af<"u"?function(n){return Af.resolve(null).then(n).catch(wx)}:du;function wx(n){setTimeout(function(){throw n})}function hu(n,s){var a=s,c=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(c===0){n.removeChild(f),yi(s);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=f}while(a);yi(s)}function rn(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function Of(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return n;s--}else a==="/$"&&s++}n=n.previousSibling}return null}var ds=Math.random().toString(36).slice(2),Sr="__reactFiber$"+ds,ji="__reactProps$"+ds,Nr="__reactContainer$"+ds,fu="__reactEvents$"+ds,xx="__reactListeners$"+ds,bx="__reactHandles$"+ds;function Cn(n){var s=n[Sr];if(s)return s;for(var a=n.parentNode;a;){if(s=a[Nr]||a[Sr]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=Of(n);n!==null;){if(a=n[Sr])return a;n=Of(n)}return s}n=a,a=n.parentNode}return null}function Ri(n){return n=n[Sr]||n[Nr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function hs(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(r(33))}function ta(n){return n[ji]||null}var pu=[],fs=-1;function nn(n){return{current:n}}function Fe(n){0>fs||(n.current=pu[fs],pu[fs]=null,fs--)}function Ve(n,s){fs++,pu[fs]=n.current,n.current=s}var sn={},kt=nn(sn),Ot=nn(!1),jn=sn;function ps(n,s){var a=n.type.contextTypes;if(!a)return sn;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in a)f[g]=s[g];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=f),f}function It(n){return n=n.childContextTypes,n!=null}function ra(){Fe(Ot),Fe(kt)}function If(n,s,a){if(kt.current!==sn)throw Error(r(168));Ve(kt,s),Ve(Ot,a)}function Lf(n,s,a){var c=n.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var f in c)if(!(f in s))throw Error(r(108,Le(n)||"Unknown",f));return Z({},a,c)}function na(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||sn,jn=kt.current,Ve(kt,n),Ve(Ot,Ot.current),!0}function Df(n,s,a){var c=n.stateNode;if(!c)throw Error(r(169));a?(n=Lf(n,s,jn),c.__reactInternalMemoizedMergedChildContext=n,Fe(Ot),Fe(kt),Ve(kt,n)):Fe(Ot),Ve(Ot,a)}var Ar=null,sa=!1,mu=!1;function Mf(n){Ar===null?Ar=[n]:Ar.push(n)}function kx(n){sa=!0,Mf(n)}function on(){if(!mu&&Ar!==null){mu=!0;var n=0,s=Oe;try{var a=Ar;for(Oe=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}Ar=null,sa=!1}catch(f){throw Ar!==null&&(Ar=Ar.slice(n+1)),Vh(Ml,on),f}finally{Oe=s,mu=!1}}return null}var ms=[],gs=0,ia=null,oa=0,Jt=[],Yt=0,Rn=null,Or=1,Ir="";function Pn(n,s){ms[gs++]=oa,ms[gs++]=ia,ia=n,oa=s}function Vf(n,s,a){Jt[Yt++]=Or,Jt[Yt++]=Ir,Jt[Yt++]=Rn,Rn=n;var c=Or;n=Ir;var f=32-or(c)-1;c&=~(1<<f),a+=1;var g=32-or(s)+f;if(30<g){var x=f-f%5;g=(c&(1<<x)-1).toString(32),c>>=x,f-=x,Or=1<<32-or(s)+f|a<<f|c,Ir=g+n}else Or=1<<g|a<<f|c,Ir=n}function gu(n){n.return!==null&&(Pn(n,1),Vf(n,1,0))}function yu(n){for(;n===ia;)ia=ms[--gs],ms[gs]=null,oa=ms[--gs],ms[gs]=null;for(;n===Rn;)Rn=Jt[--Yt],Jt[Yt]=null,Ir=Jt[--Yt],Jt[Yt]=null,Or=Jt[--Yt],Jt[Yt]=null}var Bt=null,zt=null,We=!1,lr=null;function $f(n,s){var a=er(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=n,s=n.deletions,s===null?(n.deletions=[a],n.flags|=16):s.push(a)}function Uf(n,s){switch(n.tag){case 5:var a=n.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,Bt=n,zt=rn(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,Bt=n,zt=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=Rn!==null?{id:Or,overflow:Ir}:null,n.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=er(18,null,null,0),a.stateNode=s,a.return=n,n.child=a,Bt=n,zt=null,!0):!1;default:return!1}}function vu(n){return(n.mode&1)!==0&&(n.flags&128)===0}function wu(n){if(We){var s=zt;if(s){var a=s;if(!Uf(n,s)){if(vu(n))throw Error(r(418));s=rn(a.nextSibling);var c=Bt;s&&Uf(n,s)?$f(c,a):(n.flags=n.flags&-4097|2,We=!1,Bt=n)}}else{if(vu(n))throw Error(r(418));n.flags=n.flags&-4097|2,We=!1,Bt=n}}}function Ff(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Bt=n}function aa(n){if(n!==Bt)return!1;if(!We)return Ff(n),We=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!cu(n.type,n.memoizedProps)),s&&(s=zt)){if(vu(n))throw Bf(),Error(r(418));for(;s;)$f(n,s),s=rn(s.nextSibling)}if(Ff(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(s===0){zt=rn(n.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}n=n.nextSibling}zt=null}}else zt=Bt?rn(n.stateNode.nextSibling):null;return!0}function Bf(){for(var n=zt;n;)n=rn(n.nextSibling)}function ys(){zt=Bt=null,We=!1}function xu(n){lr===null?lr=[n]:lr.push(n)}var _x=I.ReactCurrentBatchConfig;function Pi(n,s,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(r(309));var c=a.stateNode}if(!c)throw Error(r(147,n));var f=c,g=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(x){var E=f.refs;x===null?delete E[g]:E[g]=x},s._stringRef=g,s)}if(typeof n!="string")throw Error(r(284));if(!a._owner)throw Error(r(290,n))}return n}function la(n,s){throw n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function zf(n){var s=n._init;return s(n._payload)}function Wf(n){function s(D,O){if(n){var $=D.deletions;$===null?(D.deletions=[O],D.flags|=16):$.push(O)}}function a(D,O){if(!n)return null;for(;O!==null;)s(D,O),O=O.sibling;return null}function c(D,O){for(D=new Map;O!==null;)O.key!==null?D.set(O.key,O):D.set(O.index,O),O=O.sibling;return D}function f(D,O){return D=pn(D,O),D.index=0,D.sibling=null,D}function g(D,O,$){return D.index=$,n?($=D.alternate,$!==null?($=$.index,$<O?(D.flags|=2,O):$):(D.flags|=2,O)):(D.flags|=1048576,O)}function x(D){return n&&D.alternate===null&&(D.flags|=2),D}function E(D,O,$,Q){return O===null||O.tag!==6?(O=dc($,D.mode,Q),O.return=D,O):(O=f(O,$),O.return=D,O)}function N(D,O,$,Q){var ue=$.type;return ue===G?H(D,O,$.props.children,Q,$.key):O!==null&&(O.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===De&&zf(ue)===O.type)?(Q=f(O,$.props),Q.ref=Pi(D,O,$),Q.return=D,Q):(Q=Aa($.type,$.key,$.props,null,D.mode,Q),Q.ref=Pi(D,O,$),Q.return=D,Q)}function U(D,O,$,Q){return O===null||O.tag!==4||O.stateNode.containerInfo!==$.containerInfo||O.stateNode.implementation!==$.implementation?(O=hc($,D.mode,Q),O.return=D,O):(O=f(O,$.children||[]),O.return=D,O)}function H(D,O,$,Q,ue){return O===null||O.tag!==7?(O=Vn($,D.mode,Q,ue),O.return=D,O):(O=f(O,$),O.return=D,O)}function K(D,O,$){if(typeof O=="string"&&O!==""||typeof O=="number")return O=dc(""+O,D.mode,$),O.return=D,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case A:return $=Aa(O.type,O.key,O.props,null,D.mode,$),$.ref=Pi(D,null,O),$.return=D,$;case B:return O=hc(O,D.mode,$),O.return=D,O;case De:var Q=O._init;return K(D,Q(O._payload),$)}if(Jr(O)||oe(O))return O=Vn(O,D.mode,$,null),O.return=D,O;la(D,O)}return null}function q(D,O,$,Q){var ue=O!==null?O.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return ue!==null?null:E(D,O,""+$,Q);if(typeof $=="object"&&$!==null){switch($.$$typeof){case A:return $.key===ue?N(D,O,$,Q):null;case B:return $.key===ue?U(D,O,$,Q):null;case De:return ue=$._init,q(D,O,ue($._payload),Q)}if(Jr($)||oe($))return ue!==null?null:H(D,O,$,Q,null);la(D,$)}return null}function re(D,O,$,Q,ue){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return D=D.get($)||null,E(O,D,""+Q,ue);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case A:return D=D.get(Q.key===null?$:Q.key)||null,N(O,D,Q,ue);case B:return D=D.get(Q.key===null?$:Q.key)||null,U(O,D,Q,ue);case De:var me=Q._init;return re(D,O,$,me(Q._payload),ue)}if(Jr(Q)||oe(Q))return D=D.get($)||null,H(O,D,Q,ue,null);la(O,Q)}return null}function se(D,O,$,Q){for(var ue=null,me=null,ge=O,we=O=0,mt=null;ge!==null&&we<$.length;we++){ge.index>we?(mt=ge,ge=null):mt=ge.sibling;var Pe=q(D,ge,$[we],Q);if(Pe===null){ge===null&&(ge=mt);break}n&&ge&&Pe.alternate===null&&s(D,ge),O=g(Pe,O,we),me===null?ue=Pe:me.sibling=Pe,me=Pe,ge=mt}if(we===$.length)return a(D,ge),We&&Pn(D,we),ue;if(ge===null){for(;we<$.length;we++)ge=K(D,$[we],Q),ge!==null&&(O=g(ge,O,we),me===null?ue=ge:me.sibling=ge,me=ge);return We&&Pn(D,we),ue}for(ge=c(D,ge);we<$.length;we++)mt=re(ge,D,we,$[we],Q),mt!==null&&(n&&mt.alternate!==null&&ge.delete(mt.key===null?we:mt.key),O=g(mt,O,we),me===null?ue=mt:me.sibling=mt,me=mt);return n&&ge.forEach(function(mn){return s(D,mn)}),We&&Pn(D,we),ue}function ae(D,O,$,Q){var ue=oe($);if(typeof ue!="function")throw Error(r(150));if($=ue.call($),$==null)throw Error(r(151));for(var me=ue=null,ge=O,we=O=0,mt=null,Pe=$.next();ge!==null&&!Pe.done;we++,Pe=$.next()){ge.index>we?(mt=ge,ge=null):mt=ge.sibling;var mn=q(D,ge,Pe.value,Q);if(mn===null){ge===null&&(ge=mt);break}n&&ge&&mn.alternate===null&&s(D,ge),O=g(mn,O,we),me===null?ue=mn:me.sibling=mn,me=mn,ge=mt}if(Pe.done)return a(D,ge),We&&Pn(D,we),ue;if(ge===null){for(;!Pe.done;we++,Pe=$.next())Pe=K(D,Pe.value,Q),Pe!==null&&(O=g(Pe,O,we),me===null?ue=Pe:me.sibling=Pe,me=Pe);return We&&Pn(D,we),ue}for(ge=c(D,ge);!Pe.done;we++,Pe=$.next())Pe=re(ge,D,we,Pe.value,Q),Pe!==null&&(n&&Pe.alternate!==null&&ge.delete(Pe.key===null?we:Pe.key),O=g(Pe,O,we),me===null?ue=Pe:me.sibling=Pe,me=Pe);return n&&ge.forEach(function(rb){return s(D,rb)}),We&&Pn(D,we),ue}function rt(D,O,$,Q){if(typeof $=="object"&&$!==null&&$.type===G&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case A:e:{for(var ue=$.key,me=O;me!==null;){if(me.key===ue){if(ue=$.type,ue===G){if(me.tag===7){a(D,me.sibling),O=f(me,$.props.children),O.return=D,D=O;break e}}else if(me.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===De&&zf(ue)===me.type){a(D,me.sibling),O=f(me,$.props),O.ref=Pi(D,me,$),O.return=D,D=O;break e}a(D,me);break}else s(D,me);me=me.sibling}$.type===G?(O=Vn($.props.children,D.mode,Q,$.key),O.return=D,D=O):(Q=Aa($.type,$.key,$.props,null,D.mode,Q),Q.ref=Pi(D,O,$),Q.return=D,D=Q)}return x(D);case B:e:{for(me=$.key;O!==null;){if(O.key===me)if(O.tag===4&&O.stateNode.containerInfo===$.containerInfo&&O.stateNode.implementation===$.implementation){a(D,O.sibling),O=f(O,$.children||[]),O.return=D,D=O;break e}else{a(D,O);break}else s(D,O);O=O.sibling}O=hc($,D.mode,Q),O.return=D,D=O}return x(D);case De:return me=$._init,rt(D,O,me($._payload),Q)}if(Jr($))return se(D,O,$,Q);if(oe($))return ae(D,O,$,Q);la(D,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,O!==null&&O.tag===6?(a(D,O.sibling),O=f(O,$),O.return=D,D=O):(a(D,O),O=dc($,D.mode,Q),O.return=D,D=O),x(D)):a(D,O)}return rt}var vs=Wf(!0),qf=Wf(!1),ua=nn(null),ca=null,ws=null,bu=null;function ku(){bu=ws=ca=null}function _u(n){var s=ua.current;Fe(ua),n._currentValue=s}function Su(n,s,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),n===a)break;n=n.return}}function xs(n,s){ca=n,bu=ws=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&s)!==0&&(Lt=!0),n.firstContext=null)}function Qt(n){var s=n._currentValue;if(bu!==n)if(n={context:n,memoizedValue:s,next:null},ws===null){if(ca===null)throw Error(r(308));ws=n,ca.dependencies={lanes:0,firstContext:n}}else ws=ws.next=n;return s}var Nn=null;function Eu(n){Nn===null?Nn=[n]:Nn.push(n)}function Hf(n,s,a,c){var f=s.interleaved;return f===null?(a.next=a,Eu(s)):(a.next=f.next,f.next=a),s.interleaved=a,Lr(n,c)}function Lr(n,s){n.lanes|=s;var a=n.alternate;for(a!==null&&(a.lanes|=s),a=n,n=n.return;n!==null;)n.childLanes|=s,a=n.alternate,a!==null&&(a.childLanes|=s),a=n,n=n.return;return a.tag===3?a.stateNode:null}var an=!1;function Tu(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kf(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Dr(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function ln(n,s,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(je&2)!==0){var f=c.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),c.pending=s,Lr(n,a)}return f=c.interleaved,f===null?(s.next=s,Eu(c)):(s.next=f.next,f.next=s),c.interleaved=s,Lr(n,a)}function da(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var c=s.lanes;c&=n.pendingLanes,a|=c,s.lanes=a,Ul(n,a)}}function Gf(n,s){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var x={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?f=g=x:g=g.next=x,a=a.next}while(a!==null);g===null?f=g=s:g=g.next=s}else f=g=s;a={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}function ha(n,s,a,c){var f=n.updateQueue;an=!1;var g=f.firstBaseUpdate,x=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var N=E,U=N.next;N.next=null,x===null?g=U:x.next=U,x=N;var H=n.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==x&&(E===null?H.firstBaseUpdate=U:E.next=U,H.lastBaseUpdate=N))}if(g!==null){var K=f.baseState;x=0,H=U=N=null,E=g;do{var q=E.lane,re=E.eventTime;if((c&q)===q){H!==null&&(H=H.next={eventTime:re,lane:0,tag:E.tag,payload:E.payload,callback:E.callback,next:null});e:{var se=n,ae=E;switch(q=s,re=a,ae.tag){case 1:if(se=ae.payload,typeof se=="function"){K=se.call(re,K,q);break e}K=se;break e;case 3:se.flags=se.flags&-65537|128;case 0:if(se=ae.payload,q=typeof se=="function"?se.call(re,K,q):se,q==null)break e;K=Z({},K,q);break e;case 2:an=!0}}E.callback!==null&&E.lane!==0&&(n.flags|=64,q=f.effects,q===null?f.effects=[E]:q.push(E))}else re={eventTime:re,lane:q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(U=H=re,N=K):H=H.next=re,x|=q;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;q=E,E=q.next,q.next=null,f.lastBaseUpdate=q,f.shared.pending=null}}while(!0);if(H===null&&(N=K),f.baseState=N,f.firstBaseUpdate=U,f.lastBaseUpdate=H,s=f.shared.interleaved,s!==null){f=s;do x|=f.lane,f=f.next;while(f!==s)}else g===null&&(f.shared.lanes=0);In|=x,n.lanes=x,n.memoizedState=K}}function Jf(n,s,a){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var c=n[s],f=c.callback;if(f!==null){if(c.callback=null,c=a,typeof f!="function")throw Error(r(191,f));f.call(c)}}}var Ni={},Er=nn(Ni),Ai=nn(Ni),Oi=nn(Ni);function An(n){if(n===Ni)throw Error(r(174));return n}function Cu(n,s){switch(Ve(Oi,s),Ve(Ai,n),Ve(Er,Ni),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:he(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=he(s,n)}Fe(Er),Ve(Er,s)}function bs(){Fe(Er),Fe(Ai),Fe(Oi)}function Yf(n){An(Oi.current);var s=An(Er.current),a=he(s,n.type);s!==a&&(Ve(Ai,n),Ve(Er,a))}function ju(n){Ai.current===n&&(Fe(Er),Fe(Ai))}var Ke=nn(0);function fa(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ru=[];function Pu(){for(var n=0;n<Ru.length;n++)Ru[n]._workInProgressVersionPrimary=null;Ru.length=0}var pa=I.ReactCurrentDispatcher,Nu=I.ReactCurrentBatchConfig,On=0,Ge=null,lt=null,ft=null,ma=!1,Ii=!1,Li=0,Sx=0;function _t(){throw Error(r(321))}function Au(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!ar(n[a],s[a]))return!1;return!0}function Ou(n,s,a,c,f,g){if(On=g,Ge=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,pa.current=n===null||n.memoizedState===null?jx:Rx,n=a(c,f),Ii){g=0;do{if(Ii=!1,Li=0,25<=g)throw Error(r(301));g+=1,ft=lt=null,s.updateQueue=null,pa.current=Px,n=a(c,f)}while(Ii)}if(pa.current=va,s=lt!==null&&lt.next!==null,On=0,ft=lt=Ge=null,ma=!1,s)throw Error(r(300));return n}function Iu(){var n=Li!==0;return Li=0,n}function Tr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?Ge.memoizedState=ft=n:ft=ft.next=n,ft}function Xt(){if(lt===null){var n=Ge.alternate;n=n!==null?n.memoizedState:null}else n=lt.next;var s=ft===null?Ge.memoizedState:ft.next;if(s!==null)ft=s,lt=n;else{if(n===null)throw Error(r(310));lt=n,n={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},ft===null?Ge.memoizedState=ft=n:ft=ft.next=n}return ft}function Di(n,s){return typeof s=="function"?s(n):s}function Lu(n){var s=Xt(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var c=lt,f=c.baseQueue,g=a.pending;if(g!==null){if(f!==null){var x=f.next;f.next=g.next,g.next=x}c.baseQueue=f=g,a.pending=null}if(f!==null){g=f.next,c=c.baseState;var E=x=null,N=null,U=g;do{var H=U.lane;if((On&H)===H)N!==null&&(N=N.next={lane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),c=U.hasEagerState?U.eagerState:n(c,U.action);else{var K={lane:H,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null};N===null?(E=N=K,x=c):N=N.next=K,Ge.lanes|=H,In|=H}U=U.next}while(U!==null&&U!==g);N===null?x=c:N.next=E,ar(c,s.memoizedState)||(Lt=!0),s.memoizedState=c,s.baseState=x,s.baseQueue=N,a.lastRenderedState=c}if(n=a.interleaved,n!==null){f=n;do g=f.lane,Ge.lanes|=g,In|=g,f=f.next;while(f!==n)}else f===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Du(n){var s=Xt(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var c=a.dispatch,f=a.pending,g=s.memoizedState;if(f!==null){a.pending=null;var x=f=f.next;do g=n(g,x.action),x=x.next;while(x!==f);ar(g,s.memoizedState)||(Lt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,c]}function Qf(){}function Xf(n,s){var a=Ge,c=Xt(),f=s(),g=!ar(c.memoizedState,f);if(g&&(c.memoizedState=f,Lt=!0),c=c.queue,Mu(tp.bind(null,a,c,n),[n]),c.getSnapshot!==s||g||ft!==null&&ft.memoizedState.tag&1){if(a.flags|=2048,Mi(9,ep.bind(null,a,c,f,s),void 0,null),pt===null)throw Error(r(349));(On&30)!==0||Zf(a,s,f)}return f}function Zf(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=Ge.updateQueue,s===null?(s={lastEffect:null,stores:null},Ge.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function ep(n,s,a,c){s.value=a,s.getSnapshot=c,rp(s)&&np(n)}function tp(n,s,a){return a(function(){rp(s)&&np(n)})}function rp(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!ar(n,a)}catch{return!0}}function np(n){var s=Lr(n,1);s!==null&&hr(s,n,1,-1)}function sp(n){var s=Tr();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:n},s.queue=n,n=n.dispatch=Cx.bind(null,Ge,n),[s.memoizedState,n]}function Mi(n,s,a,c){return n={tag:n,create:s,destroy:a,deps:c,next:null},s=Ge.updateQueue,s===null?(s={lastEffect:null,stores:null},Ge.updateQueue=s,s.lastEffect=n.next=n):(a=s.lastEffect,a===null?s.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,s.lastEffect=n)),n}function ip(){return Xt().memoizedState}function ga(n,s,a,c){var f=Tr();Ge.flags|=n,f.memoizedState=Mi(1|s,a,void 0,c===void 0?null:c)}function ya(n,s,a,c){var f=Xt();c=c===void 0?null:c;var g=void 0;if(lt!==null){var x=lt.memoizedState;if(g=x.destroy,c!==null&&Au(c,x.deps)){f.memoizedState=Mi(s,a,g,c);return}}Ge.flags|=n,f.memoizedState=Mi(1|s,a,g,c)}function op(n,s){return ga(8390656,8,n,s)}function Mu(n,s){return ya(2048,8,n,s)}function ap(n,s){return ya(4,2,n,s)}function lp(n,s){return ya(4,4,n,s)}function up(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function cp(n,s,a){return a=a!=null?a.concat([n]):null,ya(4,4,up.bind(null,s,n),a)}function Vu(){}function dp(n,s){var a=Xt();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Au(s,c[1])?c[0]:(a.memoizedState=[n,s],n)}function hp(n,s){var a=Xt();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Au(s,c[1])?c[0]:(n=n(),a.memoizedState=[n,s],n)}function fp(n,s,a){return(On&21)===0?(n.baseState&&(n.baseState=!1,Lt=!0),n.memoizedState=a):(ar(a,s)||(a=Bh(),Ge.lanes|=a,In|=a,n.baseState=!0),s)}function Ex(n,s){var a=Oe;Oe=a!==0&&4>a?a:4,n(!0);var c=Nu.transition;Nu.transition={};try{n(!1),s()}finally{Oe=a,Nu.transition=c}}function pp(){return Xt().memoizedState}function Tx(n,s,a){var c=hn(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},mp(n))gp(s,a);else if(a=Hf(n,s,a,c),a!==null){var f=Rt();hr(a,n,c,f),yp(a,s,c)}}function Cx(n,s,a){var c=hn(n),f={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(mp(n))gp(s,f);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var x=s.lastRenderedState,E=g(x,a);if(f.hasEagerState=!0,f.eagerState=E,ar(E,x)){var N=s.interleaved;N===null?(f.next=f,Eu(s)):(f.next=N.next,N.next=f),s.interleaved=f;return}}catch{}finally{}a=Hf(n,s,f,c),a!==null&&(f=Rt(),hr(a,n,c,f),yp(a,s,c))}}function mp(n){var s=n.alternate;return n===Ge||s!==null&&s===Ge}function gp(n,s){Ii=ma=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function yp(n,s,a){if((a&4194240)!==0){var c=s.lanes;c&=n.pendingLanes,a|=c,s.lanes=a,Ul(n,a)}}var va={readContext:Qt,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useInsertionEffect:_t,useLayoutEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useMutableSource:_t,useSyncExternalStore:_t,useId:_t,unstable_isNewReconciler:!1},jx={readContext:Qt,useCallback:function(n,s){return Tr().memoizedState=[n,s===void 0?null:s],n},useContext:Qt,useEffect:op,useImperativeHandle:function(n,s,a){return a=a!=null?a.concat([n]):null,ga(4194308,4,up.bind(null,s,n),a)},useLayoutEffect:function(n,s){return ga(4194308,4,n,s)},useInsertionEffect:function(n,s){return ga(4,2,n,s)},useMemo:function(n,s){var a=Tr();return s=s===void 0?null:s,n=n(),a.memoizedState=[n,s],n},useReducer:function(n,s,a){var c=Tr();return s=a!==void 0?a(s):s,c.memoizedState=c.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},c.queue=n,n=n.dispatch=Tx.bind(null,Ge,n),[c.memoizedState,n]},useRef:function(n){var s=Tr();return n={current:n},s.memoizedState=n},useState:sp,useDebugValue:Vu,useDeferredValue:function(n){return Tr().memoizedState=n},useTransition:function(){var n=sp(!1),s=n[0];return n=Ex.bind(null,n[1]),Tr().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,a){var c=Ge,f=Tr();if(We){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),pt===null)throw Error(r(349));(On&30)!==0||Zf(c,s,a)}f.memoizedState=a;var g={value:a,getSnapshot:s};return f.queue=g,op(tp.bind(null,c,g,n),[n]),c.flags|=2048,Mi(9,ep.bind(null,c,g,a,s),void 0,null),a},useId:function(){var n=Tr(),s=pt.identifierPrefix;if(We){var a=Ir,c=Or;a=(c&~(1<<32-or(c)-1)).toString(32)+a,s=":"+s+"R"+a,a=Li++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=Sx++,s=":"+s+"r"+a.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},Rx={readContext:Qt,useCallback:dp,useContext:Qt,useEffect:Mu,useImperativeHandle:cp,useInsertionEffect:ap,useLayoutEffect:lp,useMemo:hp,useReducer:Lu,useRef:ip,useState:function(){return Lu(Di)},useDebugValue:Vu,useDeferredValue:function(n){var s=Xt();return fp(s,lt.memoizedState,n)},useTransition:function(){var n=Lu(Di)[0],s=Xt().memoizedState;return[n,s]},useMutableSource:Qf,useSyncExternalStore:Xf,useId:pp,unstable_isNewReconciler:!1},Px={readContext:Qt,useCallback:dp,useContext:Qt,useEffect:Mu,useImperativeHandle:cp,useInsertionEffect:ap,useLayoutEffect:lp,useMemo:hp,useReducer:Du,useRef:ip,useState:function(){return Du(Di)},useDebugValue:Vu,useDeferredValue:function(n){var s=Xt();return lt===null?s.memoizedState=n:fp(s,lt.memoizedState,n)},useTransition:function(){var n=Du(Di)[0],s=Xt().memoizedState;return[n,s]},useMutableSource:Qf,useSyncExternalStore:Xf,useId:pp,unstable_isNewReconciler:!1};function ur(n,s){if(n&&n.defaultProps){s=Z({},s),n=n.defaultProps;for(var a in n)s[a]===void 0&&(s[a]=n[a]);return s}return s}function $u(n,s,a,c){s=n.memoizedState,a=a(c,s),a=a==null?s:Z({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var wa={isMounted:function(n){return(n=n._reactInternals)?Tn(n)===n:!1},enqueueSetState:function(n,s,a){n=n._reactInternals;var c=Rt(),f=hn(n),g=Dr(c,f);g.payload=s,a!=null&&(g.callback=a),s=ln(n,g,f),s!==null&&(hr(s,n,f,c),da(s,n,f))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var c=Rt(),f=hn(n),g=Dr(c,f);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=ln(n,g,f),s!==null&&(hr(s,n,f,c),da(s,n,f))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=Rt(),c=hn(n),f=Dr(a,c);f.tag=2,s!=null&&(f.callback=s),s=ln(n,f,c),s!==null&&(hr(s,n,c,a),da(s,n,c))}};function vp(n,s,a,c,f,g,x){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,g,x):s.prototype&&s.prototype.isPureReactComponent?!_i(a,c)||!_i(f,g):!0}function wp(n,s,a){var c=!1,f=sn,g=s.contextType;return typeof g=="object"&&g!==null?g=Qt(g):(f=It(s)?jn:kt.current,c=s.contextTypes,g=(c=c!=null)?ps(n,f):sn),s=new s(a,g),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=wa,n.stateNode=s,s._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=f,n.__reactInternalMemoizedMaskedChildContext=g),s}function xp(n,s,a,c){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==n&&wa.enqueueReplaceState(s,s.state,null)}function Uu(n,s,a,c){var f=n.stateNode;f.props=a,f.state=n.memoizedState,f.refs={},Tu(n);var g=s.contextType;typeof g=="object"&&g!==null?f.context=Qt(g):(g=It(s)?jn:kt.current,f.context=ps(n,g)),f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&($u(n,s,g,a),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&wa.enqueueReplaceState(f,f.state,null),ha(n,a,f,c),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308)}function ks(n,s){try{var a="",c=s;do a+=Ee(c),c=c.return;while(c);var f=a}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:n,source:s,stack:f,digest:null}}function Fu(n,s,a){return{value:n,source:null,stack:a??null,digest:s??null}}function Bu(n,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var Nx=typeof WeakMap=="function"?WeakMap:Map;function bp(n,s,a){a=Dr(-1,a),a.tag=3,a.payload={element:null};var c=s.value;return a.callback=function(){Ta||(Ta=!0,nc=c),Bu(n,s)},a}function kp(n,s,a){a=Dr(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var f=s.value;a.payload=function(){return c(f)},a.callback=function(){Bu(n,s)}}var g=n.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){Bu(n,s),typeof c!="function"&&(cn===null?cn=new Set([this]):cn.add(this));var x=s.stack;this.componentDidCatch(s.value,{componentStack:x!==null?x:""})}),a}function _p(n,s,a){var c=n.pingCache;if(c===null){c=n.pingCache=new Nx;var f=new Set;c.set(s,f)}else f=c.get(s),f===void 0&&(f=new Set,c.set(s,f));f.has(a)||(f.add(a),n=qx.bind(null,n,s,a),s.then(n,n))}function Sp(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function Ep(n,s,a,c,f){return(n.mode&1)===0?(n===s?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Dr(-1,1),s.tag=2,ln(a,s,1))),a.lanes|=1),n):(n.flags|=65536,n.lanes=f,n)}var Ax=I.ReactCurrentOwner,Lt=!1;function jt(n,s,a,c){s.child=n===null?qf(s,null,a,c):vs(s,n.child,a,c)}function Tp(n,s,a,c,f){a=a.render;var g=s.ref;return xs(s,f),c=Ou(n,s,a,c,g,f),a=Iu(),n!==null&&!Lt?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~f,Mr(n,s,f)):(We&&a&&gu(s),s.flags|=1,jt(n,s,c,f),s.child)}function Cp(n,s,a,c,f){if(n===null){var g=a.type;return typeof g=="function"&&!cc(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=g,jp(n,s,g,c,f)):(n=Aa(a.type,null,c,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(g=n.child,(n.lanes&f)===0){var x=g.memoizedProps;if(a=a.compare,a=a!==null?a:_i,a(x,c)&&n.ref===s.ref)return Mr(n,s,f)}return s.flags|=1,n=pn(g,c),n.ref=s.ref,n.return=s,s.child=n}function jp(n,s,a,c,f){if(n!==null){var g=n.memoizedProps;if(_i(g,c)&&n.ref===s.ref)if(Lt=!1,s.pendingProps=c=g,(n.lanes&f)!==0)(n.flags&131072)!==0&&(Lt=!0);else return s.lanes=n.lanes,Mr(n,s,f)}return zu(n,s,a,c,f)}function Rp(n,s,a){var c=s.pendingProps,f=c.children,g=n!==null?n.memoizedState:null;if(c.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(Ss,Wt),Wt|=a;else{if((a&1073741824)===0)return n=g!==null?g.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,Ve(Ss,Wt),Wt|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:a,Ve(Ss,Wt),Wt|=c}else g!==null?(c=g.baseLanes|a,s.memoizedState=null):c=a,Ve(Ss,Wt),Wt|=c;return jt(n,s,f,a),s.child}function Pp(n,s){var a=s.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function zu(n,s,a,c,f){var g=It(a)?jn:kt.current;return g=ps(s,g),xs(s,f),a=Ou(n,s,a,c,g,f),c=Iu(),n!==null&&!Lt?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~f,Mr(n,s,f)):(We&&c&&gu(s),s.flags|=1,jt(n,s,a,f),s.child)}function Np(n,s,a,c,f){if(It(a)){var g=!0;na(s)}else g=!1;if(xs(s,f),s.stateNode===null)ba(n,s),wp(s,a,c),Uu(s,a,c,f),c=!0;else if(n===null){var x=s.stateNode,E=s.memoizedProps;x.props=E;var N=x.context,U=a.contextType;typeof U=="object"&&U!==null?U=Qt(U):(U=It(a)?jn:kt.current,U=ps(s,U));var H=a.getDerivedStateFromProps,K=typeof H=="function"||typeof x.getSnapshotBeforeUpdate=="function";K||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(E!==c||N!==U)&&xp(s,x,c,U),an=!1;var q=s.memoizedState;x.state=q,ha(s,c,x,f),N=s.memoizedState,E!==c||q!==N||Ot.current||an?(typeof H=="function"&&($u(s,a,H,c),N=s.memoizedState),(E=an||vp(s,a,E,c,q,N,U))?(K||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(s.flags|=4194308)):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=N),x.props=c,x.state=N,x.context=U,c=E):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{x=s.stateNode,Kf(n,s),E=s.memoizedProps,U=s.type===s.elementType?E:ur(s.type,E),x.props=U,K=s.pendingProps,q=x.context,N=a.contextType,typeof N=="object"&&N!==null?N=Qt(N):(N=It(a)?jn:kt.current,N=ps(s,N));var re=a.getDerivedStateFromProps;(H=typeof re=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(E!==K||q!==N)&&xp(s,x,c,N),an=!1,q=s.memoizedState,x.state=q,ha(s,c,x,f);var se=s.memoizedState;E!==K||q!==se||Ot.current||an?(typeof re=="function"&&($u(s,a,re,c),se=s.memoizedState),(U=an||vp(s,a,U,c,q,se,N)||!1)?(H||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(c,se,N),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(c,se,N)),typeof x.componentDidUpdate=="function"&&(s.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof x.componentDidUpdate!="function"||E===n.memoizedProps&&q===n.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&q===n.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=se),x.props=c,x.state=se,x.context=N,c=U):(typeof x.componentDidUpdate!="function"||E===n.memoizedProps&&q===n.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&q===n.memoizedState||(s.flags|=1024),c=!1)}return Wu(n,s,a,c,g,f)}function Wu(n,s,a,c,f,g){Pp(n,s);var x=(s.flags&128)!==0;if(!c&&!x)return f&&Df(s,a,!1),Mr(n,s,g);c=s.stateNode,Ax.current=s;var E=x&&typeof a.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,n!==null&&x?(s.child=vs(s,n.child,null,g),s.child=vs(s,null,E,g)):jt(n,s,E,g),s.memoizedState=c.state,f&&Df(s,a,!0),s.child}function Ap(n){var s=n.stateNode;s.pendingContext?If(n,s.pendingContext,s.pendingContext!==s.context):s.context&&If(n,s.context,!1),Cu(n,s.containerInfo)}function Op(n,s,a,c,f){return ys(),xu(f),s.flags|=256,jt(n,s,a,c),s.child}var qu={dehydrated:null,treeContext:null,retryLane:0};function Hu(n){return{baseLanes:n,cachePool:null,transitions:null}}function Ip(n,s,a){var c=s.pendingProps,f=Ke.current,g=!1,x=(s.flags&128)!==0,E;if((E=x)||(E=n!==null&&n.memoizedState===null?!1:(f&2)!==0),E?(g=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(f|=1),Ve(Ke,f&1),n===null)return wu(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((s.mode&1)===0?s.lanes=1:n.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(x=c.children,n=c.fallback,g?(c=s.mode,g=s.child,x={mode:"hidden",children:x},(c&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=x):g=Oa(x,c,0,null),n=Vn(n,c,a,null),g.return=s,n.return=s,g.sibling=n,s.child=g,s.child.memoizedState=Hu(a),s.memoizedState=qu,n):Ku(s,x));if(f=n.memoizedState,f!==null&&(E=f.dehydrated,E!==null))return Ox(n,s,x,c,E,f,a);if(g){g=c.fallback,x=s.mode,f=n.child,E=f.sibling;var N={mode:"hidden",children:c.children};return(x&1)===0&&s.child!==f?(c=s.child,c.childLanes=0,c.pendingProps=N,s.deletions=null):(c=pn(f,N),c.subtreeFlags=f.subtreeFlags&14680064),E!==null?g=pn(E,g):(g=Vn(g,x,a,null),g.flags|=2),g.return=s,c.return=s,c.sibling=g,s.child=c,c=g,g=s.child,x=n.child.memoizedState,x=x===null?Hu(a):{baseLanes:x.baseLanes|a,cachePool:null,transitions:x.transitions},g.memoizedState=x,g.childLanes=n.childLanes&~a,s.memoizedState=qu,c}return g=n.child,n=g.sibling,c=pn(g,{mode:"visible",children:c.children}),(s.mode&1)===0&&(c.lanes=a),c.return=s,c.sibling=null,n!==null&&(a=s.deletions,a===null?(s.deletions=[n],s.flags|=16):a.push(n)),s.child=c,s.memoizedState=null,c}function Ku(n,s){return s=Oa({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function xa(n,s,a,c){return c!==null&&xu(c),vs(s,n.child,null,a),n=Ku(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function Ox(n,s,a,c,f,g,x){if(a)return s.flags&256?(s.flags&=-257,c=Fu(Error(r(422))),xa(n,s,x,c)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(g=c.fallback,f=s.mode,c=Oa({mode:"visible",children:c.children},f,0,null),g=Vn(g,f,x,null),g.flags|=2,c.return=s,g.return=s,c.sibling=g,s.child=c,(s.mode&1)!==0&&vs(s,n.child,null,x),s.child.memoizedState=Hu(x),s.memoizedState=qu,g);if((s.mode&1)===0)return xa(n,s,x,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var E=c.dgst;return c=E,g=Error(r(419)),c=Fu(g,c,void 0),xa(n,s,x,c)}if(E=(x&n.childLanes)!==0,Lt||E){if(c=pt,c!==null){switch(x&-x){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(c.suspendedLanes|x))!==0?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,Lr(n,f),hr(c,n,f,-1))}return uc(),c=Fu(Error(r(421))),xa(n,s,x,c)}return f.data==="$?"?(s.flags|=128,s.child=n.child,s=Hx.bind(null,n),f._reactRetry=s,null):(n=g.treeContext,zt=rn(f.nextSibling),Bt=s,We=!0,lr=null,n!==null&&(Jt[Yt++]=Or,Jt[Yt++]=Ir,Jt[Yt++]=Rn,Or=n.id,Ir=n.overflow,Rn=s),s=Ku(s,c.children),s.flags|=4096,s)}function Lp(n,s,a){n.lanes|=s;var c=n.alternate;c!==null&&(c.lanes|=s),Su(n.return,s,a)}function Gu(n,s,a,c,f){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=a,g.tailMode=f)}function Dp(n,s,a){var c=s.pendingProps,f=c.revealOrder,g=c.tail;if(jt(n,s,c.children,a),c=Ke.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Lp(n,a,s);else if(n.tag===19)Lp(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(Ve(Ke,c),(s.mode&1)===0)s.memoizedState=null;else switch(f){case"forwards":for(a=s.child,f=null;a!==null;)n=a.alternate,n!==null&&fa(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Gu(s,!1,f,a,g);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&fa(n)===null){s.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Gu(s,!0,a,null,g);break;case"together":Gu(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ba(n,s){(s.mode&1)===0&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function Mr(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),In|=s.lanes,(a&s.childLanes)===0)return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,a=pn(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=pn(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function Ix(n,s,a){switch(s.tag){case 3:Ap(s),ys();break;case 5:Yf(s);break;case 1:It(s.type)&&na(s);break;case 4:Cu(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,f=s.memoizedProps.value;Ve(ua,c._currentValue),c._currentValue=f;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(Ve(Ke,Ke.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?Ip(n,s,a):(Ve(Ke,Ke.current&1),n=Mr(n,s,a),n!==null?n.sibling:null);Ve(Ke,Ke.current&1);break;case 19:if(c=(a&s.childLanes)!==0,(n.flags&128)!==0){if(c)return Dp(n,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ve(Ke,Ke.current),c)break;return null;case 22:case 23:return s.lanes=0,Rp(n,s,a)}return Mr(n,s,a)}var Mp,Ju,Vp,$p;Mp=function(n,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Ju=function(){},Vp=function(n,s,a,c){var f=n.memoizedProps;if(f!==c){n=s.stateNode,An(Er.current);var g=null;switch(a){case"input":f=ti(n,f),c=ti(n,c),g=[];break;case"select":f=Z({},f,{value:void 0}),c=Z({},c,{value:void 0}),g=[];break;case"textarea":f=V(n,f),c=V(n,c),g=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=ea)}oi(a,c);var x;a=null;for(U in f)if(!c.hasOwnProperty(U)&&f.hasOwnProperty(U)&&f[U]!=null)if(U==="style"){var E=f[U];for(x in E)E.hasOwnProperty(x)&&(a||(a={}),a[x]="")}else U!=="dangerouslySetInnerHTML"&&U!=="children"&&U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(o.hasOwnProperty(U)?g||(g=[]):(g=g||[]).push(U,null));for(U in c){var N=c[U];if(E=f!=null?f[U]:void 0,c.hasOwnProperty(U)&&N!==E&&(N!=null||E!=null))if(U==="style")if(E){for(x in E)!E.hasOwnProperty(x)||N&&N.hasOwnProperty(x)||(a||(a={}),a[x]="");for(x in N)N.hasOwnProperty(x)&&E[x]!==N[x]&&(a||(a={}),a[x]=N[x])}else a||(g||(g=[]),g.push(U,a)),a=N;else U==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,E=E?E.__html:void 0,N!=null&&E!==N&&(g=g||[]).push(U,N)):U==="children"?typeof N!="string"&&typeof N!="number"||(g=g||[]).push(U,""+N):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&(o.hasOwnProperty(U)?(N!=null&&U==="onScroll"&&Ue("scroll",n),g||E===N||(g=[])):(g=g||[]).push(U,N))}a&&(g=g||[]).push("style",a);var U=g;(s.updateQueue=U)&&(s.flags|=4)}},$p=function(n,s,a,c){a!==c&&(s.flags|=4)};function Vi(n,s){if(!We)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function St(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(s)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=c,n.childLanes=a,s}function Lx(n,s,a){var c=s.pendingProps;switch(yu(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(s),null;case 1:return It(s.type)&&ra(),St(s),null;case 3:return c=s.stateNode,bs(),Fe(Ot),Fe(kt),Pu(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(aa(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,lr!==null&&(oc(lr),lr=null))),Ju(n,s),St(s),null;case 5:ju(s);var f=An(Oi.current);if(a=s.type,n!==null&&s.stateNode!=null)Vp(n,s,a,c,f),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(r(166));return St(s),null}if(n=An(Er.current),aa(s)){c=s.stateNode,a=s.type;var g=s.memoizedProps;switch(c[Sr]=s,c[ji]=g,n=(s.mode&1)!==0,a){case"dialog":Ue("cancel",c),Ue("close",c);break;case"iframe":case"object":case"embed":Ue("load",c);break;case"video":case"audio":for(f=0;f<Ei.length;f++)Ue(Ei[f],c);break;case"source":Ue("error",c);break;case"img":case"image":case"link":Ue("error",c),Ue("load",c);break;case"details":Ue("toggle",c);break;case"input":ri(c,g),Ue("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},Ue("invalid",c);break;case"textarea":F(c,g),Ue("invalid",c)}oi(a,g),f=null;for(var x in g)if(g.hasOwnProperty(x)){var E=g[x];x==="children"?typeof E=="string"?c.textContent!==E&&(g.suppressHydrationWarning!==!0&&Zo(c.textContent,E,n),f=["children",E]):typeof E=="number"&&c.textContent!==""+E&&(g.suppressHydrationWarning!==!0&&Zo(c.textContent,E,n),f=["children",""+E]):o.hasOwnProperty(x)&&E!=null&&x==="onScroll"&&Ue("scroll",c)}switch(a){case"input":Gr(c),Po(c,g,!0);break;case"textarea":Gr(c),X(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=ea)}c=f,s.updateQueue=c,c!==null&&(s.flags|=4)}else{x=f.nodeType===9?f:f.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Y(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=x.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=x.createElement(a,{is:c.is}):(n=x.createElement(a),a==="select"&&(x=n,c.multiple?x.multiple=!0:c.size&&(x.size=c.size))):n=x.createElementNS(n,a),n[Sr]=s,n[ji]=c,Mp(n,s,!1,!1),s.stateNode=n;e:{switch(x=ts(a,c),a){case"dialog":Ue("cancel",n),Ue("close",n),f=c;break;case"iframe":case"object":case"embed":Ue("load",n),f=c;break;case"video":case"audio":for(f=0;f<Ei.length;f++)Ue(Ei[f],n);f=c;break;case"source":Ue("error",n),f=c;break;case"img":case"image":case"link":Ue("error",n),Ue("load",n),f=c;break;case"details":Ue("toggle",n),f=c;break;case"input":ri(n,c),f=ti(n,c),Ue("invalid",n);break;case"option":f=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},f=Z({},c,{value:void 0}),Ue("invalid",n);break;case"textarea":F(n,c),f=V(n,c),Ue("invalid",n);break;default:f=c}oi(a,f),E=f;for(g in E)if(E.hasOwnProperty(g)){var N=E[g];g==="style"?es(n,N):g==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,N!=null&&Re(n,N)):g==="children"?typeof N=="string"?(a!=="textarea"||N!=="")&&et(n,N):typeof N=="number"&&et(n,""+N):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?N!=null&&g==="onScroll"&&Ue("scroll",n):N!=null&&j(n,g,N,x))}switch(a){case"input":Gr(n),Po(n,c,!1);break;case"textarea":Gr(n),X(n);break;case"option":c.value!=null&&n.setAttribute("value",""+Ce(c.value));break;case"select":n.multiple=!!c.multiple,g=c.value,g!=null?R(n,!!c.multiple,g,!1):c.defaultValue!=null&&R(n,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(n.onclick=ea)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return St(s),null;case 6:if(n&&s.stateNode!=null)$p(n,s,n.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(r(166));if(a=An(Oi.current),An(Er.current),aa(s)){if(c=s.stateNode,a=s.memoizedProps,c[Sr]=s,(g=c.nodeValue!==a)&&(n=Bt,n!==null))switch(n.tag){case 3:Zo(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Zo(c.nodeValue,a,(n.mode&1)!==0)}g&&(s.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Sr]=s,s.stateNode=c}return St(s),null;case 13:if(Fe(Ke),c=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(We&&zt!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Bf(),ys(),s.flags|=98560,g=!1;else if(g=aa(s),c!==null&&c.dehydrated!==null){if(n===null){if(!g)throw Error(r(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[Sr]=s}else ys(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;St(s),g=!1}else lr!==null&&(oc(lr),lr=null),g=!0;if(!g)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(s.child.flags|=8192,(s.mode&1)!==0&&(n===null||(Ke.current&1)!==0?ut===0&&(ut=3):uc())),s.updateQueue!==null&&(s.flags|=4),St(s),null);case 4:return bs(),Ju(n,s),n===null&&Ti(s.stateNode.containerInfo),St(s),null;case 10:return _u(s.type._context),St(s),null;case 17:return It(s.type)&&ra(),St(s),null;case 19:if(Fe(Ke),g=s.memoizedState,g===null)return St(s),null;if(c=(s.flags&128)!==0,x=g.rendering,x===null)if(c)Vi(g,!1);else{if(ut!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(x=fa(n),x!==null){for(s.flags|=128,Vi(g,!1),c=x.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=a,a=s.child;a!==null;)g=a,n=c,g.flags&=14680066,x=g.alternate,x===null?(g.childLanes=0,g.lanes=n,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=x.childLanes,g.lanes=x.lanes,g.child=x.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=x.memoizedProps,g.memoizedState=x.memoizedState,g.updateQueue=x.updateQueue,g.type=x.type,n=x.dependencies,g.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return Ve(Ke,Ke.current&1|2),s.child}n=n.sibling}g.tail!==null&&tt()>Es&&(s.flags|=128,c=!0,Vi(g,!1),s.lanes=4194304)}else{if(!c)if(n=fa(x),n!==null){if(s.flags|=128,c=!0,a=n.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Vi(g,!0),g.tail===null&&g.tailMode==="hidden"&&!x.alternate&&!We)return St(s),null}else 2*tt()-g.renderingStartTime>Es&&a!==1073741824&&(s.flags|=128,c=!0,Vi(g,!1),s.lanes=4194304);g.isBackwards?(x.sibling=s.child,s.child=x):(a=g.last,a!==null?a.sibling=x:s.child=x,g.last=x)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=tt(),s.sibling=null,a=Ke.current,Ve(Ke,c?a&1|2:a&1),s):(St(s),null);case 22:case 23:return lc(),c=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(s.flags|=8192),c&&(s.mode&1)!==0?(Wt&1073741824)!==0&&(St(s),s.subtreeFlags&6&&(s.flags|=8192)):St(s),null;case 24:return null;case 25:return null}throw Error(r(156,s.tag))}function Dx(n,s){switch(yu(s),s.tag){case 1:return It(s.type)&&ra(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return bs(),Fe(Ot),Fe(kt),Pu(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 5:return ju(s),null;case 13:if(Fe(Ke),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));ys()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return Fe(Ke),null;case 4:return bs(),null;case 10:return _u(s.type._context),null;case 22:case 23:return lc(),null;case 24:return null;default:return null}}var ka=!1,Et=!1,Mx=typeof WeakSet=="function"?WeakSet:Set,ne=null;function _s(n,s){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){Qe(n,s,c)}else a.current=null}function Yu(n,s,a){try{a()}catch(c){Qe(n,s,c)}}var Up=!1;function Vx(n,s){if(lu=Bo,n=vf(),eu(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var f=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var x=0,E=-1,N=-1,U=0,H=0,K=n,q=null;t:for(;;){for(var re;K!==a||f!==0&&K.nodeType!==3||(E=x+f),K!==g||c!==0&&K.nodeType!==3||(N=x+c),K.nodeType===3&&(x+=K.nodeValue.length),(re=K.firstChild)!==null;)q=K,K=re;for(;;){if(K===n)break t;if(q===a&&++U===f&&(E=x),q===g&&++H===c&&(N=x),(re=K.nextSibling)!==null)break;K=q,q=K.parentNode}K=re}a=E===-1||N===-1?null:{start:E,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(uu={focusedElem:n,selectionRange:a},Bo=!1,ne=s;ne!==null;)if(s=ne,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,ne=n;else for(;ne!==null;){s=ne;try{var se=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(se!==null){var ae=se.memoizedProps,rt=se.memoizedState,D=s.stateNode,O=D.getSnapshotBeforeUpdate(s.elementType===s.type?ae:ur(s.type,ae),rt);D.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var $=s.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Q){Qe(s,s.return,Q)}if(n=s.sibling,n!==null){n.return=s.return,ne=n;break}ne=s.return}return se=Up,Up=!1,se}function $i(n,s,a){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&n)===n){var g=f.destroy;f.destroy=void 0,g!==void 0&&Yu(s,a,g)}f=f.next}while(f!==c)}}function _a(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==s)}}function Qu(n){var s=n.ref;if(s!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof s=="function"?s(n):s.current=n}}function Fp(n){var s=n.alternate;s!==null&&(n.alternate=null,Fp(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[Sr],delete s[ji],delete s[fu],delete s[xx],delete s[bx])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Bp(n){return n.tag===5||n.tag===3||n.tag===4}function zp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Bp(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Xu(n,s,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(n,s):a.insertBefore(n,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(n,a)):(s=a,s.appendChild(n)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=ea));else if(c!==4&&(n=n.child,n!==null))for(Xu(n,s,a),n=n.sibling;n!==null;)Xu(n,s,a),n=n.sibling}function Zu(n,s,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(Zu(n,s,a),n=n.sibling;n!==null;)Zu(n,s,a),n=n.sibling}var yt=null,cr=!1;function un(n,s,a){for(a=a.child;a!==null;)Wp(n,s,a),a=a.sibling}function Wp(n,s,a){if(_r&&typeof _r.onCommitFiberUnmount=="function")try{_r.onCommitFiberUnmount(Do,a)}catch{}switch(a.tag){case 5:Et||_s(a,s);case 6:var c=yt,f=cr;yt=null,un(n,s,a),yt=c,cr=f,yt!==null&&(cr?(n=yt,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):yt.removeChild(a.stateNode));break;case 18:yt!==null&&(cr?(n=yt,a=a.stateNode,n.nodeType===8?hu(n.parentNode,a):n.nodeType===1&&hu(n,a),yi(n)):hu(yt,a.stateNode));break;case 4:c=yt,f=cr,yt=a.stateNode.containerInfo,cr=!0,un(n,s,a),yt=c,cr=f;break;case 0:case 11:case 14:case 15:if(!Et&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var g=f,x=g.destroy;g=g.tag,x!==void 0&&((g&2)!==0||(g&4)!==0)&&Yu(a,s,x),f=f.next}while(f!==c)}un(n,s,a);break;case 1:if(!Et&&(_s(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(E){Qe(a,s,E)}un(n,s,a);break;case 21:un(n,s,a);break;case 22:a.mode&1?(Et=(c=Et)||a.memoizedState!==null,un(n,s,a),Et=c):un(n,s,a);break;default:un(n,s,a)}}function qp(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new Mx),s.forEach(function(c){var f=Kx.bind(null,n,c);a.has(c)||(a.add(c),c.then(f,f))})}}function dr(n,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var f=a[c];try{var g=n,x=s,E=x;e:for(;E!==null;){switch(E.tag){case 5:yt=E.stateNode,cr=!1;break e;case 3:yt=E.stateNode.containerInfo,cr=!0;break e;case 4:yt=E.stateNode.containerInfo,cr=!0;break e}E=E.return}if(yt===null)throw Error(r(160));Wp(g,x,f),yt=null,cr=!1;var N=f.alternate;N!==null&&(N.return=null),f.return=null}catch(U){Qe(f,s,U)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Hp(s,n),s=s.sibling}function Hp(n,s){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(dr(s,n),Cr(n),c&4){try{$i(3,n,n.return),_a(3,n)}catch(ae){Qe(n,n.return,ae)}try{$i(5,n,n.return)}catch(ae){Qe(n,n.return,ae)}}break;case 1:dr(s,n),Cr(n),c&512&&a!==null&&_s(a,a.return);break;case 5:if(dr(s,n),Cr(n),c&512&&a!==null&&_s(a,a.return),n.flags&32){var f=n.stateNode;try{et(f,"")}catch(ae){Qe(n,n.return,ae)}}if(c&4&&(f=n.stateNode,f!=null)){var g=n.memoizedProps,x=a!==null?a.memoizedProps:g,E=n.type,N=n.updateQueue;if(n.updateQueue=null,N!==null)try{E==="input"&&g.type==="radio"&&g.name!=null&&ni(f,g),ts(E,x);var U=ts(E,g);for(x=0;x<N.length;x+=2){var H=N[x],K=N[x+1];H==="style"?es(f,K):H==="dangerouslySetInnerHTML"?Re(f,K):H==="children"?et(f,K):j(f,H,K,U)}switch(E){case"input":si(f,g);break;case"textarea":ee(f,g);break;case"select":var q=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var re=g.value;re!=null?R(f,!!g.multiple,re,!1):q!==!!g.multiple&&(g.defaultValue!=null?R(f,!!g.multiple,g.defaultValue,!0):R(f,!!g.multiple,g.multiple?[]:"",!1))}f[ji]=g}catch(ae){Qe(n,n.return,ae)}}break;case 6:if(dr(s,n),Cr(n),c&4){if(n.stateNode===null)throw Error(r(162));f=n.stateNode,g=n.memoizedProps;try{f.nodeValue=g}catch(ae){Qe(n,n.return,ae)}}break;case 3:if(dr(s,n),Cr(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{yi(s.containerInfo)}catch(ae){Qe(n,n.return,ae)}break;case 4:dr(s,n),Cr(n);break;case 13:dr(s,n),Cr(n),f=n.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(rc=tt())),c&4&&qp(n);break;case 22:if(H=a!==null&&a.memoizedState!==null,n.mode&1?(Et=(U=Et)||H,dr(s,n),Et=U):dr(s,n),Cr(n),c&8192){if(U=n.memoizedState!==null,(n.stateNode.isHidden=U)&&!H&&(n.mode&1)!==0)for(ne=n,H=n.child;H!==null;){for(K=ne=H;ne!==null;){switch(q=ne,re=q.child,q.tag){case 0:case 11:case 14:case 15:$i(4,q,q.return);break;case 1:_s(q,q.return);var se=q.stateNode;if(typeof se.componentWillUnmount=="function"){c=q,a=q.return;try{s=c,se.props=s.memoizedProps,se.state=s.memoizedState,se.componentWillUnmount()}catch(ae){Qe(c,a,ae)}}break;case 5:_s(q,q.return);break;case 22:if(q.memoizedState!==null){Jp(K);continue}}re!==null?(re.return=q,ne=re):Jp(K)}H=H.sibling}e:for(H=null,K=n;;){if(K.tag===5){if(H===null){H=K;try{f=K.stateNode,U?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(E=K.stateNode,N=K.memoizedProps.style,x=N!=null&&N.hasOwnProperty("display")?N.display:null,E.style.display=Ao("display",x))}catch(ae){Qe(n,n.return,ae)}}}else if(K.tag===6){if(H===null)try{K.stateNode.nodeValue=U?"":K.memoizedProps}catch(ae){Qe(n,n.return,ae)}}else if((K.tag!==22&&K.tag!==23||K.memoizedState===null||K===n)&&K.child!==null){K.child.return=K,K=K.child;continue}if(K===n)break e;for(;K.sibling===null;){if(K.return===null||K.return===n)break e;H===K&&(H=null),K=K.return}H===K&&(H=null),K.sibling.return=K.return,K=K.sibling}}break;case 19:dr(s,n),Cr(n),c&4&&qp(n);break;case 21:break;default:dr(s,n),Cr(n)}}function Cr(n){var s=n.flags;if(s&2){try{e:{for(var a=n.return;a!==null;){if(Bp(a)){var c=a;break e}a=a.return}throw Error(r(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(et(f,""),c.flags&=-33);var g=zp(n);Zu(n,g,f);break;case 3:case 4:var x=c.stateNode.containerInfo,E=zp(n);Xu(n,E,x);break;default:throw Error(r(161))}}catch(N){Qe(n,n.return,N)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function $x(n,s,a){ne=n,Kp(n)}function Kp(n,s,a){for(var c=(n.mode&1)!==0;ne!==null;){var f=ne,g=f.child;if(f.tag===22&&c){var x=f.memoizedState!==null||ka;if(!x){var E=f.alternate,N=E!==null&&E.memoizedState!==null||Et;E=ka;var U=Et;if(ka=x,(Et=N)&&!U)for(ne=f;ne!==null;)x=ne,N=x.child,x.tag===22&&x.memoizedState!==null?Yp(f):N!==null?(N.return=x,ne=N):Yp(f);for(;g!==null;)ne=g,Kp(g),g=g.sibling;ne=f,ka=E,Et=U}Gp(n)}else(f.subtreeFlags&8772)!==0&&g!==null?(g.return=f,ne=g):Gp(n)}}function Gp(n){for(;ne!==null;){var s=ne;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Et||_a(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!Et)if(a===null)c.componentDidMount();else{var f=s.elementType===s.type?a.memoizedProps:ur(s.type,a.memoizedProps);c.componentDidUpdate(f,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&Jf(s,g,c);break;case 3:var x=s.updateQueue;if(x!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}Jf(s,x,a)}break;case 5:var E=s.stateNode;if(a===null&&s.flags&4){a=E;var N=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":N.autoFocus&&a.focus();break;case"img":N.src&&(a.src=N.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var U=s.alternate;if(U!==null){var H=U.memoizedState;if(H!==null){var K=H.dehydrated;K!==null&&yi(K)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Et||s.flags&512&&Qu(s)}catch(q){Qe(s,s.return,q)}}if(s===n){ne=null;break}if(a=s.sibling,a!==null){a.return=s.return,ne=a;break}ne=s.return}}function Jp(n){for(;ne!==null;){var s=ne;if(s===n){ne=null;break}var a=s.sibling;if(a!==null){a.return=s.return,ne=a;break}ne=s.return}}function Yp(n){for(;ne!==null;){var s=ne;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{_a(4,s)}catch(N){Qe(s,a,N)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var f=s.return;try{c.componentDidMount()}catch(N){Qe(s,f,N)}}var g=s.return;try{Qu(s)}catch(N){Qe(s,g,N)}break;case 5:var x=s.return;try{Qu(s)}catch(N){Qe(s,x,N)}}}catch(N){Qe(s,s.return,N)}if(s===n){ne=null;break}var E=s.sibling;if(E!==null){E.return=s.return,ne=E;break}ne=s.return}}var Ux=Math.ceil,Sa=I.ReactCurrentDispatcher,ec=I.ReactCurrentOwner,Zt=I.ReactCurrentBatchConfig,je=0,pt=null,nt=null,vt=0,Wt=0,Ss=nn(0),ut=0,Ui=null,In=0,Ea=0,tc=0,Fi=null,Dt=null,rc=0,Es=1/0,Vr=null,Ta=!1,nc=null,cn=null,Ca=!1,dn=null,ja=0,Bi=0,sc=null,Ra=-1,Pa=0;function Rt(){return(je&6)!==0?tt():Ra!==-1?Ra:Ra=tt()}function hn(n){return(n.mode&1)===0?1:(je&2)!==0&&vt!==0?vt&-vt:_x.transition!==null?(Pa===0&&(Pa=Bh()),Pa):(n=Oe,n!==0||(n=window.event,n=n===void 0?16:Qh(n.type)),n)}function hr(n,s,a,c){if(50<Bi)throw Bi=0,sc=null,Error(r(185));hi(n,a,c),((je&2)===0||n!==pt)&&(n===pt&&((je&2)===0&&(Ea|=a),ut===4&&fn(n,vt)),Mt(n,c),a===1&&je===0&&(s.mode&1)===0&&(Es=tt()+500,sa&&on()))}function Mt(n,s){var a=n.callbackNode;_w(n,s);var c=$o(n,n===pt?vt:0);if(c===0)a!==null&&$h(a),n.callbackNode=null,n.callbackPriority=0;else if(s=c&-c,n.callbackPriority!==s){if(a!=null&&$h(a),s===1)n.tag===0?kx(Xp.bind(null,n)):Mf(Xp.bind(null,n)),vx(function(){(je&6)===0&&on()}),a=null;else{switch(zh(c)){case 1:a=Ml;break;case 4:a=Uh;break;case 16:a=Lo;break;case 536870912:a=Fh;break;default:a=Lo}a=om(a,Qp.bind(null,n))}n.callbackPriority=s,n.callbackNode=a}}function Qp(n,s){if(Ra=-1,Pa=0,(je&6)!==0)throw Error(r(327));var a=n.callbackNode;if(Ts()&&n.callbackNode!==a)return null;var c=$o(n,n===pt?vt:0);if(c===0)return null;if((c&30)!==0||(c&n.expiredLanes)!==0||s)s=Na(n,c);else{s=c;var f=je;je|=2;var g=em();(pt!==n||vt!==s)&&(Vr=null,Es=tt()+500,Dn(n,s));do try{zx();break}catch(E){Zp(n,E)}while(!0);ku(),Sa.current=g,je=f,nt!==null?s=0:(pt=null,vt=0,s=ut)}if(s!==0){if(s===2&&(f=Vl(n),f!==0&&(c=f,s=ic(n,f))),s===1)throw a=Ui,Dn(n,0),fn(n,c),Mt(n,tt()),a;if(s===6)fn(n,c);else{if(f=n.current.alternate,(c&30)===0&&!Fx(f)&&(s=Na(n,c),s===2&&(g=Vl(n),g!==0&&(c=g,s=ic(n,g))),s===1))throw a=Ui,Dn(n,0),fn(n,c),Mt(n,tt()),a;switch(n.finishedWork=f,n.finishedLanes=c,s){case 0:case 1:throw Error(r(345));case 2:Mn(n,Dt,Vr);break;case 3:if(fn(n,c),(c&130023424)===c&&(s=rc+500-tt(),10<s)){if($o(n,0)!==0)break;if(f=n.suspendedLanes,(f&c)!==c){Rt(),n.pingedLanes|=n.suspendedLanes&f;break}n.timeoutHandle=du(Mn.bind(null,n,Dt,Vr),s);break}Mn(n,Dt,Vr);break;case 4:if(fn(n,c),(c&4194240)===c)break;for(s=n.eventTimes,f=-1;0<c;){var x=31-or(c);g=1<<x,x=s[x],x>f&&(f=x),c&=~g}if(c=f,c=tt()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Ux(c/1960))-c,10<c){n.timeoutHandle=du(Mn.bind(null,n,Dt,Vr),c);break}Mn(n,Dt,Vr);break;case 5:Mn(n,Dt,Vr);break;default:throw Error(r(329))}}}return Mt(n,tt()),n.callbackNode===a?Qp.bind(null,n):null}function ic(n,s){var a=Fi;return n.current.memoizedState.isDehydrated&&(Dn(n,s).flags|=256),n=Na(n,s),n!==2&&(s=Dt,Dt=a,s!==null&&oc(s)),n}function oc(n){Dt===null?Dt=n:Dt.push.apply(Dt,n)}function Fx(n){for(var s=n;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var f=a[c],g=f.getSnapshot;f=f.value;try{if(!ar(g(),f))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function fn(n,s){for(s&=~tc,s&=~Ea,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var a=31-or(s),c=1<<a;n[a]=-1,s&=~c}}function Xp(n){if((je&6)!==0)throw Error(r(327));Ts();var s=$o(n,0);if((s&1)===0)return Mt(n,tt()),null;var a=Na(n,s);if(n.tag!==0&&a===2){var c=Vl(n);c!==0&&(s=c,a=ic(n,c))}if(a===1)throw a=Ui,Dn(n,0),fn(n,s),Mt(n,tt()),a;if(a===6)throw Error(r(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,Mn(n,Dt,Vr),Mt(n,tt()),null}function ac(n,s){var a=je;je|=1;try{return n(s)}finally{je=a,je===0&&(Es=tt()+500,sa&&on())}}function Ln(n){dn!==null&&dn.tag===0&&(je&6)===0&&Ts();var s=je;je|=1;var a=Zt.transition,c=Oe;try{if(Zt.transition=null,Oe=1,n)return n()}finally{Oe=c,Zt.transition=a,je=s,(je&6)===0&&on()}}function lc(){Wt=Ss.current,Fe(Ss)}function Dn(n,s){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,yx(a)),nt!==null)for(a=nt.return;a!==null;){var c=a;switch(yu(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&ra();break;case 3:bs(),Fe(Ot),Fe(kt),Pu();break;case 5:ju(c);break;case 4:bs();break;case 13:Fe(Ke);break;case 19:Fe(Ke);break;case 10:_u(c.type._context);break;case 22:case 23:lc()}a=a.return}if(pt=n,nt=n=pn(n.current,null),vt=Wt=s,ut=0,Ui=null,tc=Ea=In=0,Dt=Fi=null,Nn!==null){for(s=0;s<Nn.length;s++)if(a=Nn[s],c=a.interleaved,c!==null){a.interleaved=null;var f=c.next,g=a.pending;if(g!==null){var x=g.next;g.next=f,c.next=x}a.pending=c}Nn=null}return n}function Zp(n,s){do{var a=nt;try{if(ku(),pa.current=va,ma){for(var c=Ge.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}ma=!1}if(On=0,ft=lt=Ge=null,Ii=!1,Li=0,ec.current=null,a===null||a.return===null){ut=1,Ui=s,nt=null;break}e:{var g=n,x=a.return,E=a,N=s;if(s=vt,E.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){var U=N,H=E,K=H.tag;if((H.mode&1)===0&&(K===0||K===11||K===15)){var q=H.alternate;q?(H.updateQueue=q.updateQueue,H.memoizedState=q.memoizedState,H.lanes=q.lanes):(H.updateQueue=null,H.memoizedState=null)}var re=Sp(x);if(re!==null){re.flags&=-257,Ep(re,x,E,g,s),re.mode&1&&_p(g,U,s),s=re,N=U;var se=s.updateQueue;if(se===null){var ae=new Set;ae.add(N),s.updateQueue=ae}else se.add(N);break e}else{if((s&1)===0){_p(g,U,s),uc();break e}N=Error(r(426))}}else if(We&&E.mode&1){var rt=Sp(x);if(rt!==null){(rt.flags&65536)===0&&(rt.flags|=256),Ep(rt,x,E,g,s),xu(ks(N,E));break e}}g=N=ks(N,E),ut!==4&&(ut=2),Fi===null?Fi=[g]:Fi.push(g),g=x;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var D=bp(g,N,s);Gf(g,D);break e;case 1:E=N;var O=g.type,$=g.stateNode;if((g.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(cn===null||!cn.has($)))){g.flags|=65536,s&=-s,g.lanes|=s;var Q=kp(g,E,s);Gf(g,Q);break e}}g=g.return}while(g!==null)}rm(a)}catch(ue){s=ue,nt===a&&a!==null&&(nt=a=a.return);continue}break}while(!0)}function em(){var n=Sa.current;return Sa.current=va,n===null?va:n}function uc(){(ut===0||ut===3||ut===2)&&(ut=4),pt===null||(In&268435455)===0&&(Ea&268435455)===0||fn(pt,vt)}function Na(n,s){var a=je;je|=2;var c=em();(pt!==n||vt!==s)&&(Vr=null,Dn(n,s));do try{Bx();break}catch(f){Zp(n,f)}while(!0);if(ku(),je=a,Sa.current=c,nt!==null)throw Error(r(261));return pt=null,vt=0,ut}function Bx(){for(;nt!==null;)tm(nt)}function zx(){for(;nt!==null&&!pw();)tm(nt)}function tm(n){var s=im(n.alternate,n,Wt);n.memoizedProps=n.pendingProps,s===null?rm(n):nt=s,ec.current=null}function rm(n){var s=n;do{var a=s.alternate;if(n=s.return,(s.flags&32768)===0){if(a=Lx(a,s,Wt),a!==null){nt=a;return}}else{if(a=Dx(a,s),a!==null){a.flags&=32767,nt=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{ut=6,nt=null;return}}if(s=s.sibling,s!==null){nt=s;return}nt=s=n}while(s!==null);ut===0&&(ut=5)}function Mn(n,s,a){var c=Oe,f=Zt.transition;try{Zt.transition=null,Oe=1,Wx(n,s,a,c)}finally{Zt.transition=f,Oe=c}return null}function Wx(n,s,a,c){do Ts();while(dn!==null);if((je&6)!==0)throw Error(r(327));a=n.finishedWork;var f=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(r(177));n.callbackNode=null,n.callbackPriority=0;var g=a.lanes|a.childLanes;if(Sw(n,g),n===pt&&(nt=pt=null,vt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Ca||(Ca=!0,om(Lo,function(){return Ts(),null})),g=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||g){g=Zt.transition,Zt.transition=null;var x=Oe;Oe=1;var E=je;je|=4,ec.current=null,Vx(n,a),Hp(a,n),cx(uu),Bo=!!lu,uu=lu=null,n.current=a,$x(a),mw(),je=E,Oe=x,Zt.transition=g}else n.current=a;if(Ca&&(Ca=!1,dn=n,ja=f),g=n.pendingLanes,g===0&&(cn=null),vw(a.stateNode),Mt(n,tt()),s!==null)for(c=n.onRecoverableError,a=0;a<s.length;a++)f=s[a],c(f.value,{componentStack:f.stack,digest:f.digest});if(Ta)throw Ta=!1,n=nc,nc=null,n;return(ja&1)!==0&&n.tag!==0&&Ts(),g=n.pendingLanes,(g&1)!==0?n===sc?Bi++:(Bi=0,sc=n):Bi=0,on(),null}function Ts(){if(dn!==null){var n=zh(ja),s=Zt.transition,a=Oe;try{if(Zt.transition=null,Oe=16>n?16:n,dn===null)var c=!1;else{if(n=dn,dn=null,ja=0,(je&6)!==0)throw Error(r(331));var f=je;for(je|=4,ne=n.current;ne!==null;){var g=ne,x=g.child;if((ne.flags&16)!==0){var E=g.deletions;if(E!==null){for(var N=0;N<E.length;N++){var U=E[N];for(ne=U;ne!==null;){var H=ne;switch(H.tag){case 0:case 11:case 15:$i(8,H,g)}var K=H.child;if(K!==null)K.return=H,ne=K;else for(;ne!==null;){H=ne;var q=H.sibling,re=H.return;if(Fp(H),H===U){ne=null;break}if(q!==null){q.return=re,ne=q;break}ne=re}}}var se=g.alternate;if(se!==null){var ae=se.child;if(ae!==null){se.child=null;do{var rt=ae.sibling;ae.sibling=null,ae=rt}while(ae!==null)}}ne=g}}if((g.subtreeFlags&2064)!==0&&x!==null)x.return=g,ne=x;else e:for(;ne!==null;){if(g=ne,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:$i(9,g,g.return)}var D=g.sibling;if(D!==null){D.return=g.return,ne=D;break e}ne=g.return}}var O=n.current;for(ne=O;ne!==null;){x=ne;var $=x.child;if((x.subtreeFlags&2064)!==0&&$!==null)$.return=x,ne=$;else e:for(x=O;ne!==null;){if(E=ne,(E.flags&2048)!==0)try{switch(E.tag){case 0:case 11:case 15:_a(9,E)}}catch(ue){Qe(E,E.return,ue)}if(E===x){ne=null;break e}var Q=E.sibling;if(Q!==null){Q.return=E.return,ne=Q;break e}ne=E.return}}if(je=f,on(),_r&&typeof _r.onPostCommitFiberRoot=="function")try{_r.onPostCommitFiberRoot(Do,n)}catch{}c=!0}return c}finally{Oe=a,Zt.transition=s}}return!1}function nm(n,s,a){s=ks(a,s),s=bp(n,s,1),n=ln(n,s,1),s=Rt(),n!==null&&(hi(n,1,s),Mt(n,s))}function Qe(n,s,a){if(n.tag===3)nm(n,n,a);else for(;s!==null;){if(s.tag===3){nm(s,n,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(cn===null||!cn.has(c))){n=ks(a,n),n=kp(s,n,1),s=ln(s,n,1),n=Rt(),s!==null&&(hi(s,1,n),Mt(s,n));break}}s=s.return}}function qx(n,s,a){var c=n.pingCache;c!==null&&c.delete(s),s=Rt(),n.pingedLanes|=n.suspendedLanes&a,pt===n&&(vt&a)===a&&(ut===4||ut===3&&(vt&130023424)===vt&&500>tt()-rc?Dn(n,0):tc|=a),Mt(n,s)}function sm(n,s){s===0&&((n.mode&1)===0?s=1:(s=Vo,Vo<<=1,(Vo&130023424)===0&&(Vo=4194304)));var a=Rt();n=Lr(n,s),n!==null&&(hi(n,s,a),Mt(n,a))}function Hx(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),sm(n,a)}function Kx(n,s){var a=0;switch(n.tag){case 13:var c=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(r(314))}c!==null&&c.delete(s),sm(n,a)}var im;im=function(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps||Ot.current)Lt=!0;else{if((n.lanes&a)===0&&(s.flags&128)===0)return Lt=!1,Ix(n,s,a);Lt=(n.flags&131072)!==0}else Lt=!1,We&&(s.flags&1048576)!==0&&Vf(s,oa,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;ba(n,s),n=s.pendingProps;var f=ps(s,kt.current);xs(s,a),f=Ou(null,s,c,n,f,a);var g=Iu();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,It(c)?(g=!0,na(s)):g=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Tu(s),f.updater=wa,s.stateNode=f,f._reactInternals=s,Uu(s,c,n,a),s=Wu(null,s,c,!0,g,a)):(s.tag=0,We&&g&&gu(s),jt(null,s,f,a),s=s.child),s;case 16:c=s.elementType;e:{switch(ba(n,s),n=s.pendingProps,f=c._init,c=f(c._payload),s.type=c,f=s.tag=Jx(c),n=ur(c,n),f){case 0:s=zu(null,s,c,n,a);break e;case 1:s=Np(null,s,c,n,a);break e;case 11:s=Tp(null,s,c,n,a);break e;case 14:s=Cp(null,s,c,ur(c.type,n),a);break e}throw Error(r(306,c,""))}return s;case 0:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:ur(c,f),zu(n,s,c,f,a);case 1:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:ur(c,f),Np(n,s,c,f,a);case 3:e:{if(Ap(s),n===null)throw Error(r(387));c=s.pendingProps,g=s.memoizedState,f=g.element,Kf(n,s),ha(s,c,null,a);var x=s.memoizedState;if(c=x.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){f=ks(Error(r(423)),s),s=Op(n,s,c,a,f);break e}else if(c!==f){f=ks(Error(r(424)),s),s=Op(n,s,c,a,f);break e}else for(zt=rn(s.stateNode.containerInfo.firstChild),Bt=s,We=!0,lr=null,a=qf(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ys(),c===f){s=Mr(n,s,a);break e}jt(n,s,c,a)}s=s.child}return s;case 5:return Yf(s),n===null&&wu(s),c=s.type,f=s.pendingProps,g=n!==null?n.memoizedProps:null,x=f.children,cu(c,f)?x=null:g!==null&&cu(c,g)&&(s.flags|=32),Pp(n,s),jt(n,s,x,a),s.child;case 6:return n===null&&wu(s),null;case 13:return Ip(n,s,a);case 4:return Cu(s,s.stateNode.containerInfo),c=s.pendingProps,n===null?s.child=vs(s,null,c,a):jt(n,s,c,a),s.child;case 11:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:ur(c,f),Tp(n,s,c,f,a);case 7:return jt(n,s,s.pendingProps,a),s.child;case 8:return jt(n,s,s.pendingProps.children,a),s.child;case 12:return jt(n,s,s.pendingProps.children,a),s.child;case 10:e:{if(c=s.type._context,f=s.pendingProps,g=s.memoizedProps,x=f.value,Ve(ua,c._currentValue),c._currentValue=x,g!==null)if(ar(g.value,x)){if(g.children===f.children&&!Ot.current){s=Mr(n,s,a);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var E=g.dependencies;if(E!==null){x=g.child;for(var N=E.firstContext;N!==null;){if(N.context===c){if(g.tag===1){N=Dr(-1,a&-a),N.tag=2;var U=g.updateQueue;if(U!==null){U=U.shared;var H=U.pending;H===null?N.next=N:(N.next=H.next,H.next=N),U.pending=N}}g.lanes|=a,N=g.alternate,N!==null&&(N.lanes|=a),Su(g.return,a,s),E.lanes|=a;break}N=N.next}}else if(g.tag===10)x=g.type===s.type?null:g.child;else if(g.tag===18){if(x=g.return,x===null)throw Error(r(341));x.lanes|=a,E=x.alternate,E!==null&&(E.lanes|=a),Su(x,a,s),x=g.sibling}else x=g.child;if(x!==null)x.return=g;else for(x=g;x!==null;){if(x===s){x=null;break}if(g=x.sibling,g!==null){g.return=x.return,x=g;break}x=x.return}g=x}jt(n,s,f.children,a),s=s.child}return s;case 9:return f=s.type,c=s.pendingProps.children,xs(s,a),f=Qt(f),c=c(f),s.flags|=1,jt(n,s,c,a),s.child;case 14:return c=s.type,f=ur(c,s.pendingProps),f=ur(c.type,f),Cp(n,s,c,f,a);case 15:return jp(n,s,s.type,s.pendingProps,a);case 17:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:ur(c,f),ba(n,s),s.tag=1,It(c)?(n=!0,na(s)):n=!1,xs(s,a),wp(s,c,f),Uu(s,c,f,a),Wu(null,s,c,!0,n,a);case 19:return Dp(n,s,a);case 22:return Rp(n,s,a)}throw Error(r(156,s.tag))};function om(n,s){return Vh(n,s)}function Gx(n,s,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function er(n,s,a,c){return new Gx(n,s,a,c)}function cc(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Jx(n){if(typeof n=="function")return cc(n)?1:0;if(n!=null){if(n=n.$$typeof,n===ce)return 11;if(n===Ae)return 14}return 2}function pn(n,s){var a=n.alternate;return a===null?(a=er(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function Aa(n,s,a,c,f,g){var x=2;if(c=n,typeof n=="function")cc(n)&&(x=1);else if(typeof n=="string")x=5;else e:switch(n){case G:return Vn(a.children,f,g,s);case z:x=8,f|=8;break;case M:return n=er(12,a,s,f|2),n.elementType=M,n.lanes=g,n;case fe:return n=er(13,a,s,f),n.elementType=fe,n.lanes=g,n;case ke:return n=er(19,a,s,f),n.elementType=ke,n.lanes=g,n;case pe:return Oa(a,f,g,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case te:x=10;break e;case Ne:x=9;break e;case ce:x=11;break e;case Ae:x=14;break e;case De:x=16,c=null;break e}throw Error(r(130,n==null?n:typeof n,""))}return s=er(x,a,s,f),s.elementType=n,s.type=c,s.lanes=g,s}function Vn(n,s,a,c){return n=er(7,n,c,s),n.lanes=a,n}function Oa(n,s,a,c){return n=er(22,n,c,s),n.elementType=pe,n.lanes=a,n.stateNode={isHidden:!1},n}function dc(n,s,a){return n=er(6,n,null,s),n.lanes=a,n}function hc(n,s,a){return s=er(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function Yx(n,s,a,c,f){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$l(0),this.expirationTimes=$l(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$l(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function fc(n,s,a,c,f,g,x,E,N){return n=new Yx(n,s,a,E,N),s===1?(s=1,g===!0&&(s|=8)):s=0,g=er(3,null,null,s),n.current=g,g.stateNode=n,g.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tu(g),n}function Qx(n,s,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:c==null?null:""+c,children:n,containerInfo:s,implementation:a}}function am(n){if(!n)return sn;n=n._reactInternals;e:{if(Tn(n)!==n||n.tag!==1)throw Error(r(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(It(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(r(171))}if(n.tag===1){var a=n.type;if(It(a))return Lf(n,a,s)}return s}function lm(n,s,a,c,f,g,x,E,N){return n=fc(a,c,!0,n,f,g,x,E,N),n.context=am(null),a=n.current,c=Rt(),f=hn(a),g=Dr(c,f),g.callback=s??null,ln(a,g,f),n.current.lanes=f,hi(n,f,c),Mt(n,c),n}function Ia(n,s,a,c){var f=s.current,g=Rt(),x=hn(f);return a=am(a),s.context===null?s.context=a:s.pendingContext=a,s=Dr(g,x),s.payload={element:n},c=c===void 0?null:c,c!==null&&(s.callback=c),n=ln(f,s,x),n!==null&&(hr(n,f,x,g),da(n,f,x)),x}function La(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function um(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function pc(n,s){um(n,s),(n=n.alternate)&&um(n,s)}function Xx(){return null}var cm=typeof reportError=="function"?reportError:function(n){console.error(n)};function mc(n){this._internalRoot=n}Da.prototype.render=mc.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));Ia(n,s,null,null)},Da.prototype.unmount=mc.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;Ln(function(){Ia(null,n,null,null)}),s[Nr]=null}};function Da(n){this._internalRoot=n}Da.prototype.unstable_scheduleHydration=function(n){if(n){var s=Hh();n={blockedOn:null,target:n,priority:s};for(var a=0;a<Zr.length&&s!==0&&s<Zr[a].priority;a++);Zr.splice(a,0,n),a===0&&Jh(n)}};function gc(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Ma(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function dm(){}function Zx(n,s,a,c,f){if(f){if(typeof c=="function"){var g=c;c=function(){var U=La(x);g.call(U)}}var x=lm(s,c,n,0,null,!1,!1,"",dm);return n._reactRootContainer=x,n[Nr]=x.current,Ti(n.nodeType===8?n.parentNode:n),Ln(),x}for(;f=n.lastChild;)n.removeChild(f);if(typeof c=="function"){var E=c;c=function(){var U=La(N);E.call(U)}}var N=fc(n,0,!1,null,null,!1,!1,"",dm);return n._reactRootContainer=N,n[Nr]=N.current,Ti(n.nodeType===8?n.parentNode:n),Ln(function(){Ia(s,N,a,c)}),N}function Va(n,s,a,c,f){var g=a._reactRootContainer;if(g){var x=g;if(typeof f=="function"){var E=f;f=function(){var N=La(x);E.call(N)}}Ia(s,x,n,f)}else x=Zx(a,s,n,f,c);return La(x)}Wh=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var a=di(s.pendingLanes);a!==0&&(Ul(s,a|1),Mt(s,tt()),(je&6)===0&&(Es=tt()+500,on()))}break;case 13:Ln(function(){var c=Lr(n,1);if(c!==null){var f=Rt();hr(c,n,1,f)}}),pc(n,1)}},Fl=function(n){if(n.tag===13){var s=Lr(n,134217728);if(s!==null){var a=Rt();hr(s,n,134217728,a)}pc(n,134217728)}},qh=function(n){if(n.tag===13){var s=hn(n),a=Lr(n,s);if(a!==null){var c=Rt();hr(a,n,s,c)}pc(n,s)}},Hh=function(){return Oe},Kh=function(n,s){var a=Oe;try{return Oe=n,s()}finally{Oe=a}},Ol=function(n,s,a){switch(s){case"input":if(si(n,a),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==n&&c.form===n.form){var f=ta(c);if(!f)throw Error(r(90));Ro(c),si(c,f)}}}break;case"textarea":ee(n,a);break;case"select":s=a.value,s!=null&&R(n,!!a.multiple,s,!1)}},Nh=ac,Ah=Ln;var eb={usingClientEntryPoint:!1,Events:[Ri,hs,ta,Rh,Ph,ac]},zi={findFiberByHostInstance:Cn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tb={bundleType:zi.bundleType,version:zi.version,rendererPackageName:zi.rendererPackageName,rendererConfig:zi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Dh(n),n===null?null:n.stateNode},findFiberByHostInstance:zi.findFiberByHostInstance||Xx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $a=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$a.isDisabled&&$a.supportsFiber)try{Do=$a.inject(tb),_r=$a}catch{}}return Vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eb,Vt.createPortal=function(n,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gc(s))throw Error(r(200));return Qx(n,s,null,a)},Vt.createRoot=function(n,s){if(!gc(n))throw Error(r(299));var a=!1,c="",f=cm;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=fc(n,1,!1,null,null,a,!1,c,f),n[Nr]=s.current,Ti(n.nodeType===8?n.parentNode:n),new mc(s)},Vt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=Dh(s),n=n===null?null:n.stateNode,n},Vt.flushSync=function(n){return Ln(n)},Vt.hydrate=function(n,s,a){if(!Ma(s))throw Error(r(200));return Va(null,n,s,!0,a)},Vt.hydrateRoot=function(n,s,a){if(!gc(n))throw Error(r(405));var c=a!=null&&a.hydratedSources||null,f=!1,g="",x=cm;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),s=lm(s,null,n,1,a??null,f,!1,g,x),n[Nr]=s.current,Ti(n),c)for(n=0;n<c.length;n++)a=c[n],f=a._getVersion,f=f(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,f]:s.mutableSourceEagerHydrationData.push(a,f);return new Da(s)},Vt.render=function(n,s,a){if(!Ma(s))throw Error(r(200));return Va(null,n,s,!1,a)},Vt.unmountComponentAtNode=function(n){if(!Ma(n))throw Error(r(40));return n._reactRootContainer?(Ln(function(){Va(null,null,n,!1,function(){n._reactRootContainer=null,n[Nr]=null})}),!0):!1},Vt.unstable_batchedUpdates=ac,Vt.unstable_renderSubtreeIntoContainer=function(n,s,a,c){if(!Ma(a))throw Error(r(200));if(n==null||n._reactInternals===void 0)throw Error(r(38));return Va(n,s,a,!1,c)},Vt.version="18.3.1-next-f1338f8080-20240426",Vt}var xm;function Ry(){if(xm)return wc.exports;xm=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),wc.exports=db(),wc.exports}var bm;function hb(){if(bm)return Ua;bm=1;var t=Ry();return Ua.createRoot=t.createRoot,Ua.hydrateRoot=t.hydrateRoot,Ua}var fb=hb();/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var km="popstate";function pb(t={}){function e(o,l){let{pathname:u="/",search:d="",hash:h=""}=Xn(o.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Jc("",{pathname:u,search:d,hash:h},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function r(o,l){let u=o.document.querySelector("base"),d="";if(u&&u.getAttribute("href")){let h=o.location.href,p=h.indexOf("#");d=p===-1?h:h.slice(0,p)}return d+"#"+(typeof l=="string"?l:ao(l))}function i(o,l){ir(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return gb(e,r,i,t)}function He(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ir(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mb(){return Math.random().toString(36).substring(2,10)}function _m(t,e){return{usr:t.state,key:t.key,idx:e}}function Jc(t,e,r=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Xn(e):e,state:r,key:e&&e.key||i||mb()}}function ao({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Xn(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function gb(t,e,r,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,u=o.history,d="POP",h=null,p=y();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function y(){return(u.state||{idx:null}).idx}function v(){d="POP";let S=y(),C=S==null?null:S-p;p=S,h&&h({action:d,location:_.location,delta:C})}function w(S,C){d="PUSH";let P=Jc(_.location,S,C);r&&r(P,S),p=y()+1;let j=_m(P,p),I=_.createHref(P);try{u.pushState(j,"",I)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;o.location.assign(I)}l&&h&&h({action:d,location:_.location,delta:1})}function b(S,C){d="REPLACE";let P=Jc(_.location,S,C);r&&r(P,S),p=y();let j=_m(P,p),I=_.createHref(P);u.replaceState(j,"",I),l&&h&&h({action:d,location:_.location,delta:0})}function k(S){return yb(S)}let _={get action(){return d},get location(){return t(o,u)},listen(S){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(km,v),h=S,()=>{o.removeEventListener(km,v),h=null}},createHref(S){return e(o,S)},createURL:k,encodeLocation(S){let C=k(S);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:w,replace:b,go(S){return u.go(S)}};return _}function yb(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),He(r,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:ao(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=r+i),new URL(i,r)}function Py(t,e,r="/"){return vb(t,e,r,!1)}function vb(t,e,r,i){let o=typeof e=="string"?Xn(e):e,l=zr(o.pathname||"/",r);if(l==null)return null;let u=Ny(t);wb(u);let d=null;for(let h=0;d==null&&h<u.length;++h){let p=Pb(l);d=jb(u[h],p,i)}return d}function Ny(t,e=[],r=[],i="",o=!1){let l=(u,d,h=o,p)=>{let y={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(i)&&h)return;He(y.relativePath.startsWith(i),`Absolute route path "${y.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(i.length)}let v=Fr([i,y.relativePath]),w=r.concat(y);u.children&&u.children.length>0&&(He(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),Ny(u.children,e,w,v,h)),!(u.path==null&&!u.index)&&e.push({path:v,score:Tb(v,u.index),routesMeta:w})};return t.forEach((u,d)=>{var h;if(u.path===""||!((h=u.path)!=null&&h.includes("?")))l(u,d);else for(let p of Ay(u.path))l(u,d,!0,p)}),e}function Ay(t){let e=t.split("/");if(e.length===0)return[];let[r,...i]=e,o=r.endsWith("?"),l=r.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let u=Ay(i.join("/")),d=[];return d.push(...u.map(h=>h===""?l:[l,h].join("/"))),o&&d.push(...u),d.map(h=>t.startsWith("/")&&h===""?"/":h)}function wb(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Cb(e.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}var xb=/^:[\w-]+$/,bb=3,kb=2,_b=1,Sb=10,Eb=-2,Sm=t=>t==="*";function Tb(t,e){let r=t.split("/"),i=r.length;return r.some(Sm)&&(i+=Eb),e&&(i+=kb),r.filter(o=>!Sm(o)).reduce((o,l)=>o+(xb.test(l)?bb:l===""?_b:Sb),i)}function Cb(t,e){return t.length===e.length&&t.slice(0,-1).every((i,o)=>i===e[o])?t[t.length-1]-e[e.length-1]:0}function jb(t,e,r=!1){let{routesMeta:i}=t,o={},l="/",u=[];for(let d=0;d<i.length;++d){let h=i[d],p=d===i.length-1,y=l==="/"?e:e.slice(l.length)||"/",v=sl({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},y),w=h.route;if(!v&&p&&r&&!i[i.length-1].route.index&&(v=sl({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},y)),!v)return null;Object.assign(o,v.params),u.push({params:o,pathname:Fr([l,v.pathname]),pathnameBase:Ib(Fr([l,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(l=Fr([l,v.pathnameBase]))}return u}function sl(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,i]=Rb(t.path,t.caseSensitive,t.end),o=e.match(r);if(!o)return null;let l=o[0],u=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((p,{paramName:y,isOptional:v},w)=>{if(y==="*"){let k=d[w]||"";u=l.slice(0,l.length-k.length).replace(/(.)\/+$/,"$1")}const b=d[w];return v&&!b?p[y]=void 0:p[y]=(b||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:t}}function Rb(t,e=!1,r=!0){ir(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,h)=>(i.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function Pb(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ir(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function zr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,i=t.charAt(r);return i&&i!=="/"?null:t.slice(r)||"/"}var Nb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Ab(t,e="/"){let{pathname:r,search:i="",hash:o=""}=typeof t=="string"?Xn(t):t,l;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?l=Em(r.substring(1),"/"):l=Em(r,e)):l=e,{pathname:l,search:Lb(i),hash:Db(o)}}function Em(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function kc(t,e,r,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ob(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Id(t){let e=Ob(t);return e.map((r,i)=>i===e.length-1?r.pathname:r.pathnameBase)}function Ld(t,e,r,i=!1){let o;typeof t=="string"?o=Xn(t):(o={...t},He(!o.pathname||!o.pathname.includes("?"),kc("?","pathname","search",o)),He(!o.pathname||!o.pathname.includes("#"),kc("#","pathname","hash",o)),He(!o.search||!o.search.includes("#"),kc("#","search","hash",o)));let l=t===""||o.pathname==="",u=l?"/":o.pathname,d;if(u==null)d=r;else{let v=e.length-1;if(!i&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),v-=1;o.pathname=w.join("/")}d=v>=0?e[v]:"/"}let h=Ab(o,d),p=u&&u!=="/"&&u.endsWith("/"),y=(l||u===".")&&r.endsWith("/");return!h.pathname.endsWith("/")&&(p||y)&&(h.pathname+="/"),h}var Fr=t=>t.join("/").replace(/\/\/+/g,"/"),Ib=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Lb=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Db=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Mb=class{constructor(t,e,r,i=!1){this.status=t,this.statusText=e||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function Vb(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function $b(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Oy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Iy(t,e){let r=t;if(typeof r!="string"||!Nb.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let i=r,o=!1;if(Oy)try{let l=new URL(window.location.href),u=r.startsWith("//")?new URL(l.protocol+r):new URL(r),d=zr(u.pathname,e);u.origin===l.origin&&d!=null?r=d+u.search+u.hash:o=!0}catch{ir(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:o,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Ly=["POST","PUT","PATCH","DELETE"];new Set(Ly);var Ub=["GET",...Ly];new Set(Ub);var Gs=T.createContext(null);Gs.displayName="DataRouter";var bl=T.createContext(null);bl.displayName="DataRouterState";var Fb=T.createContext(!1),Dy=T.createContext({isTransitioning:!1});Dy.displayName="ViewTransition";var Bb=T.createContext(new Map);Bb.displayName="Fetchers";var zb=T.createContext(null);zb.displayName="Await";var Gt=T.createContext(null);Gt.displayName="Navigation";var bo=T.createContext(null);bo.displayName="Location";var br=T.createContext({outlet:null,matches:[],isDataRoute:!1});br.displayName="Route";var Dd=T.createContext(null);Dd.displayName="RouteError";var My="REACT_ROUTER_ERROR",Wb="REDIRECT",qb="ROUTE_ERROR_RESPONSE";function Hb(t){if(t.startsWith(`${My}:${Wb}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Kb(t){if(t.startsWith(`${My}:${qb}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Mb(e.status,e.statusText,e.data)}catch{}}function Gb(t,{relative:e}={}){He(Js(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=T.useContext(Gt),{hash:o,pathname:l,search:u}=ko(t,{relative:e}),d=l;return r!=="/"&&(d=l==="/"?r:Fr([r,l])),i.createHref({pathname:d,search:u,hash:o})}function Js(){return T.useContext(bo)!=null}function qr(){return He(Js(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(bo).location}var Vy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $y(t){T.useContext(Gt).static||T.useLayoutEffect(t)}function Hr(){let{isDataRoute:t}=T.useContext(br);return t?ak():Jb()}function Jb(){He(Js(),"useNavigate() may be used only in the context of a <Router> component.");let t=T.useContext(Gs),{basename:e,navigator:r}=T.useContext(Gt),{matches:i}=T.useContext(br),{pathname:o}=qr(),l=JSON.stringify(Id(i)),u=T.useRef(!1);return $y(()=>{u.current=!0}),T.useCallback((h,p={})=>{if(ir(u.current,Vy),!u.current)return;if(typeof h=="number"){r.go(h);return}let y=Ld(h,JSON.parse(l),o,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Fr([e,y.pathname])),(p.replace?r.replace:r.push)(y,p.state,p)},[e,r,l,o,t])}T.createContext(null);function Uy(){let{matches:t}=T.useContext(br),e=t[t.length-1];return e?e.params:{}}function ko(t,{relative:e}={}){let{matches:r}=T.useContext(br),{pathname:i}=qr(),o=JSON.stringify(Id(r));return T.useMemo(()=>Ld(t,JSON.parse(o),i,e==="path"),[t,o,i,e])}function Yb(t,e){return Fy(t,e)}function Fy(t,e,r,i,o){var P;He(Js(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=T.useContext(Gt),{matches:u}=T.useContext(br),d=u[u.length-1],h=d?d.params:{},p=d?d.pathname:"/",y=d?d.pathnameBase:"/",v=d&&d.route;{let j=v&&v.path||"";zy(p,!v||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let w=qr(),b;if(e){let j=typeof e=="string"?Xn(e):e;He(y==="/"||((P=j.pathname)==null?void 0:P.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${j.pathname}" was given in the \`location\` prop.`),b=j}else b=w;let k=b.pathname||"/",_=k;if(y!=="/"){let j=y.replace(/^\//,"").split("/");_="/"+k.replace(/^\//,"").split("/").slice(j.length).join("/")}let S=Py(t,{pathname:_});ir(v||S!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),ir(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=tk(S&&S.map(j=>Object.assign({},j,{params:Object.assign({},h,j.params),pathname:Fr([y,l.encodeLocation?l.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?y:Fr([y,l.encodeLocation?l.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),u,r,i,o);return e&&C?T.createElement(bo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},C):C}function Qb(){let t=ok(),e=Vb(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:l},"ErrorBoundary")," or"," ",T.createElement("code",{style:l},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),r?T.createElement("pre",{style:o},r):null,u)}var Xb=T.createElement(Qb,null),By=class extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const r=Kb(t.digest);r&&(t=r)}let e=t!==void 0?T.createElement(br.Provider,{value:this.props.routeContext},T.createElement(Dd.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?T.createElement(Zb,{error:t},e):e}};By.contextType=Fb;var _c=new WeakMap;function Zb({children:t,error:e}){let{basename:r}=T.useContext(Gt);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=Hb(e.digest);if(i){let o=_c.get(e);if(o)throw o;let l=Iy(i.location,r);if(Oy&&!_c.get(e))if(l.isExternal||i.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:i.replace}));throw _c.set(e,u),u}return T.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function ek({routeContext:t,match:e,children:r}){let i=T.useContext(Gs);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(br.Provider,{value:t},r)}function tk(t,e=[],r=null,i=null,o=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let l=t,u=r==null?void 0:r.errors;if(u!=null){let y=l.findIndex(v=>v.route.id&&(u==null?void 0:u[v.route.id])!==void 0);He(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let d=!1,h=-1;if(r)for(let y=0;y<l.length;y++){let v=l[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(h=y),v.route.id){let{loaderData:w,errors:b}=r,k=v.route.loader&&!w.hasOwnProperty(v.route.id)&&(!b||b[v.route.id]===void 0);if(v.route.lazy||k){d=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}let p=r&&i?(y,v)=>{var w,b;i(y,{location:r.location,params:((b=(w=r.matches)==null?void 0:w[0])==null?void 0:b.params)??{},unstable_pattern:$b(r.matches),errorInfo:v})}:void 0;return l.reduceRight((y,v,w)=>{let b,k=!1,_=null,S=null;r&&(b=u&&v.route.id?u[v.route.id]:void 0,_=v.route.errorElement||Xb,d&&(h<0&&w===0?(zy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,S=null):h===w&&(k=!0,S=v.route.hydrateFallbackElement||null)));let C=e.concat(l.slice(0,w+1)),P=()=>{let j;return b?j=_:k?j=S:v.route.Component?j=T.createElement(v.route.Component,null):v.route.element?j=v.route.element:j=y,T.createElement(ek,{match:v,routeContext:{outlet:y,matches:C,isDataRoute:r!=null},children:j})};return r&&(v.route.ErrorBoundary||v.route.errorElement||w===0)?T.createElement(By,{location:r.location,revalidation:r.revalidation,component:_,error:b,children:P(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:p}):P()},null)}function Md(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rk(t){let e=T.useContext(Gs);return He(e,Md(t)),e}function nk(t){let e=T.useContext(bl);return He(e,Md(t)),e}function sk(t){let e=T.useContext(br);return He(e,Md(t)),e}function Vd(t){let e=sk(t),r=e.matches[e.matches.length-1];return He(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function ik(){return Vd("useRouteId")}function ok(){var i;let t=T.useContext(Dd),e=nk("useRouteError"),r=Vd("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[r]}function ak(){let{router:t}=rk("useNavigate"),e=Vd("useNavigate"),r=T.useRef(!1);return $y(()=>{r.current=!0}),T.useCallback(async(o,l={})=>{ir(r.current,Vy),r.current&&(typeof o=="number"?await t.navigate(o):await t.navigate(o,{fromRouteId:e,...l}))},[t,e])}var Tm={};function zy(t,e,r){!e&&!Tm[t]&&(Tm[t]=!0,ir(!1,r))}T.memo(lk);function lk({routes:t,future:e,state:r,onError:i}){return Fy(t,void 0,r,i,e)}function uk({to:t,replace:e,state:r,relative:i}){He(Js(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=T.useContext(Gt);ir(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=T.useContext(br),{pathname:u}=qr(),d=Hr(),h=Ld(t,Id(l),u,i==="path"),p=JSON.stringify(h);return T.useEffect(()=>{d(JSON.parse(p),{replace:e,state:r,relative:i})},[d,p,i,e,r]),null}function pr(t){He(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ck({basename:t="/",children:e=null,location:r,navigationType:i="POP",navigator:o,static:l=!1,unstable_useTransitions:u}){He(!Js(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),h=T.useMemo(()=>({basename:d,navigator:o,static:l,unstable_useTransitions:u,future:{}}),[d,o,l,u]);typeof r=="string"&&(r=Xn(r));let{pathname:p="/",search:y="",hash:v="",state:w=null,key:b="default"}=r,k=T.useMemo(()=>{let _=zr(p,d);return _==null?null:{location:{pathname:_,search:y,hash:v,state:w,key:b},navigationType:i}},[d,p,y,v,w,b,i]);return ir(k!=null,`<Router basename="${d}"> is not able to match the URL "${p}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:T.createElement(Gt.Provider,{value:h},T.createElement(bo.Provider,{children:e,value:k}))}function Cm({children:t,location:e}){return Yb(Yc(t),e)}function Yc(t,e=[]){let r=[];return T.Children.forEach(t,(i,o)=>{if(!T.isValidElement(i))return;let l=[...e,o];if(i.type===T.Fragment){r.push.apply(r,Yc(i.props.children,l));return}He(i.type===pr,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),He(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Yc(i.props.children,l)),r.push(u)}),r}var Xa="get",Za="application/x-www-form-urlencoded";function kl(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function dk(t){return kl(t)&&t.tagName.toLowerCase()==="button"}function hk(t){return kl(t)&&t.tagName.toLowerCase()==="form"}function fk(t){return kl(t)&&t.tagName.toLowerCase()==="input"}function pk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function mk(t,e){return t.button===0&&(!e||e==="_self")&&!pk(t)}var Fa=null;function gk(){if(Fa===null)try{new FormData(document.createElement("form"),0),Fa=!1}catch{Fa=!0}return Fa}var yk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sc(t){return t!=null&&!yk.has(t)?(ir(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Za}"`),null):t}function vk(t,e){let r,i,o,l,u;if(hk(t)){let d=t.getAttribute("action");i=d?zr(d,e):null,r=t.getAttribute("method")||Xa,o=Sc(t.getAttribute("enctype"))||Za,l=new FormData(t)}else if(dk(t)||fk(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||d.getAttribute("action");if(i=h?zr(h,e):null,r=t.getAttribute("formmethod")||d.getAttribute("method")||Xa,o=Sc(t.getAttribute("formenctype"))||Sc(d.getAttribute("enctype"))||Za,l=new FormData(d,t),!gk()){let{name:p,type:y,value:v}=t;if(y==="image"){let w=p?`${p}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else p&&l.append(p,v)}}else{if(kl(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Xa,i=null,o=Za,u=t}return l&&o==="text/plain"&&(u=l,l=void 0),{action:i,method:r.toLowerCase(),encType:o,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function $d(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function wk(t,e,r,i){let o=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${i}`:o.pathname=`${o.pathname}.${i}`:o.pathname==="/"?o.pathname=`_root.${i}`:e&&zr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${i}`,o}async function xk(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function bk(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function kk(t,e,r){let i=await Promise.all(t.map(async o=>{let l=e.routes[o.route.id];if(l){let u=await xk(l,r);return u.links?u.links():[]}return[]}));return Tk(i.flat(1).filter(bk).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function jm(t,e,r,i,o,l){let u=(h,p)=>r[p]?h.route.id!==r[p].route.id:!0,d=(h,p)=>{var y;return r[p].pathname!==h.pathname||((y=r[p].route.path)==null?void 0:y.endsWith("*"))&&r[p].params["*"]!==h.params["*"]};return l==="assets"?e.filter((h,p)=>u(h,p)||d(h,p)):l==="data"?e.filter((h,p)=>{var v;let y=i.routes[h.route.id];if(!y||!y.hasLoader)return!1;if(u(h,p)||d(h,p))return!0;if(h.route.shouldRevalidate){let w=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((v=r[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function _k(t,e,{includeHydrateFallback:r}={}){return Sk(t.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function Sk(t){return[...new Set(t)]}function Ek(t){let e={},r=Object.keys(t).sort();for(let i of r)e[i]=t[i];return e}function Tk(t,e){let r=new Set;return new Set(e),t.reduce((i,o)=>{let l=JSON.stringify(Ek(o));return r.has(l)||(r.add(l),i.push({key:l,link:o})),i},[])}function Wy(){let t=T.useContext(Gs);return $d(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Ck(){let t=T.useContext(bl);return $d(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ud=T.createContext(void 0);Ud.displayName="FrameworkContext";function qy(){let t=T.useContext(Ud);return $d(t,"You must render this element inside a <HydratedRouter> element"),t}function jk(t,e){let r=T.useContext(Ud),[i,o]=T.useState(!1),[l,u]=T.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:p,onMouseLeave:y,onTouchStart:v}=e,w=T.useRef(null);T.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let _=C=>{C.forEach(P=>{u(P.isIntersecting)})},S=new IntersectionObserver(_,{threshold:.5});return w.current&&S.observe(w.current),()=>{S.disconnect()}}},[t]),T.useEffect(()=>{if(i){let _=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(_)}}},[i]);let b=()=>{o(!0)},k=()=>{o(!1),u(!1)};return r?t!=="intent"?[l,w,{}]:[l,w,{onFocus:qi(d,b),onBlur:qi(h,k),onMouseEnter:qi(p,b),onMouseLeave:qi(y,k),onTouchStart:qi(v,b)}]:[!1,w,{}]}function qi(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function Rk({page:t,...e}){let{router:r}=Wy(),i=T.useMemo(()=>Py(r.routes,t,r.basename),[r.routes,t,r.basename]);return i?T.createElement(Nk,{page:t,matches:i,...e}):null}function Pk(t){let{manifest:e,routeModules:r}=qy(),[i,o]=T.useState([]);return T.useEffect(()=>{let l=!1;return kk(t,e,r).then(u=>{l||o(u)}),()=>{l=!0}},[t,e,r]),i}function Nk({page:t,matches:e,...r}){let i=qr(),{future:o,manifest:l,routeModules:u}=qy(),{basename:d}=Wy(),{loaderData:h,matches:p}=Ck(),y=T.useMemo(()=>jm(t,e,p,l,i,"data"),[t,e,p,l,i]),v=T.useMemo(()=>jm(t,e,p,l,i,"assets"),[t,e,p,l,i]),w=T.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let _=new Set,S=!1;if(e.forEach(P=>{var I;let j=l.routes[P.route.id];!j||!j.hasLoader||(!y.some(A=>A.route.id===P.route.id)&&P.route.id in h&&((I=u[P.route.id])!=null&&I.shouldRevalidate)||j.hasClientLoader?S=!0:_.add(P.route.id))}),_.size===0)return[];let C=wk(t,d,o.unstable_trailingSlashAwareDataRequests,"data");return S&&_.size>0&&C.searchParams.set("_routes",e.filter(P=>_.has(P.route.id)).map(P=>P.route.id).join(",")),[C.pathname+C.search]},[d,o.unstable_trailingSlashAwareDataRequests,h,i,l,y,e,t,u]),b=T.useMemo(()=>_k(v,l),[v,l]),k=Pk(v);return T.createElement(T.Fragment,null,w.map(_=>T.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...r})),b.map(_=>T.createElement("link",{key:_,rel:"modulepreload",href:_,...r})),k.map(({key:_,link:S})=>T.createElement("link",{key:_,nonce:r.nonce,...S,crossOrigin:S.crossOrigin??r.crossOrigin})))}function Ak(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var Ok=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ok&&(window.__reactRouterVersion="7.13.0")}catch{}function Ik({basename:t,children:e,unstable_useTransitions:r,window:i}){let o=T.useRef();o.current==null&&(o.current=pb({window:i,v5Compat:!0}));let l=o.current,[u,d]=T.useState({action:l.action,location:l.location}),h=T.useCallback(p=>{r===!1?d(p):T.startTransition(()=>d(p))},[r]);return T.useLayoutEffect(()=>l.listen(h),[l,h]),T.createElement(ck,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:r})}var Hy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ky=T.forwardRef(function({onClick:e,discover:r="render",prefetch:i="none",relative:o,reloadDocument:l,replace:u,state:d,target:h,to:p,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:w,...b},k){let{basename:_,unstable_useTransitions:S}=T.useContext(Gt),C=typeof p=="string"&&Hy.test(p),P=Iy(p,_);p=P.to;let j=Gb(p,{relative:o}),[I,A,B]=jk(i,b),G=Mk(p,{replace:u,state:d,target:h,preventScrollReset:y,relative:o,viewTransition:v,unstable_defaultShouldRevalidate:w,unstable_useTransitions:S});function z(te){e&&e(te),te.defaultPrevented||G(te)}let M=T.createElement("a",{...b,...B,href:P.absoluteURL||j,onClick:P.isExternal||l?e:z,ref:Ak(k,A),target:h,"data-discover":!C&&r==="render"?"true":void 0});return I&&!C?T.createElement(T.Fragment,null,M,T.createElement(Rk,{page:j})):M});Ky.displayName="Link";var Qc=T.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:i="",end:o=!1,style:l,to:u,viewTransition:d,children:h,...p},y){let v=ko(u,{relative:p.relative}),w=qr(),b=T.useContext(bl),{navigator:k,basename:_}=T.useContext(Gt),S=b!=null&&Bk(v)&&d===!0,C=k.encodeLocation?k.encodeLocation(v).pathname:v.pathname,P=w.pathname,j=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;r||(P=P.toLowerCase(),j=j?j.toLowerCase():null,C=C.toLowerCase()),j&&_&&(j=zr(j,_)||j);const I=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let A=P===C||!o&&P.startsWith(C)&&P.charAt(I)==="/",B=j!=null&&(j===C||!o&&j.startsWith(C)&&j.charAt(C.length)==="/"),G={isActive:A,isPending:B,isTransitioning:S},z=A?e:void 0,M;typeof i=="function"?M=i(G):M=[i,A?"active":null,B?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let te=typeof l=="function"?l(G):l;return T.createElement(Ky,{...p,"aria-current":z,className:M,ref:y,style:te,to:u,viewTransition:d},typeof h=="function"?h(G):h)});Qc.displayName="NavLink";var Lk=T.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:i,replace:o,state:l,method:u=Xa,action:d,onSubmit:h,relative:p,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:w,...b},k)=>{let{unstable_useTransitions:_}=T.useContext(Gt),S=Uk(),C=Fk(d,{relative:p}),P=u.toLowerCase()==="get"?"get":"post",j=typeof d=="string"&&Hy.test(d),I=A=>{if(h&&h(A),A.defaultPrevented)return;A.preventDefault();let B=A.nativeEvent.submitter,G=(B==null?void 0:B.getAttribute("formmethod"))||u,z=()=>S(B||A.currentTarget,{fetcherKey:e,method:G,navigate:r,replace:o,state:l,relative:p,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:w});_&&r!==!1?T.startTransition(()=>z()):z()};return T.createElement("form",{ref:k,method:P,action:C,onSubmit:i?h:I,...b,"data-discover":!j&&t==="render"?"true":void 0})});Lk.displayName="Form";function Dk(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Gy(t){let e=T.useContext(Gs);return He(e,Dk(t)),e}function Mk(t,{target:e,replace:r,state:i,preventScrollReset:o,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:d,unstable_useTransitions:h}={}){let p=Hr(),y=qr(),v=ko(t,{relative:l});return T.useCallback(w=>{if(mk(w,e)){w.preventDefault();let b=r!==void 0?r:ao(y)===ao(v),k=()=>p(t,{replace:b,state:i,preventScrollReset:o,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:d});h?T.startTransition(()=>k()):k()}},[y,p,v,r,i,e,t,o,l,u,d,h])}var Vk=0,$k=()=>`__${String(++Vk)}__`;function Uk(){let{router:t}=Gy("useSubmit"),{basename:e}=T.useContext(Gt),r=ik(),i=t.fetch,o=t.navigate;return T.useCallback(async(l,u={})=>{let{action:d,method:h,encType:p,formData:y,body:v}=vk(l,e);if(u.navigate===!1){let w=u.fetcherKey||$k();await i(w,r,u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:v,formMethod:u.method||h,formEncType:u.encType||p,flushSync:u.flushSync})}else await o(u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:v,formMethod:u.method||h,formEncType:u.encType||p,replace:u.replace,state:u.state,fromRouteId:r,flushSync:u.flushSync,viewTransition:u.viewTransition})},[i,o,e,r])}function Fk(t,{relative:e}={}){let{basename:r}=T.useContext(Gt),i=T.useContext(br);He(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...ko(t||".",{relative:e})},u=qr();if(t==null){l.search=u.search;let d=new URLSearchParams(l.search),h=d.getAll("index");if(h.some(y=>y==="")){d.delete("index"),h.filter(v=>v).forEach(v=>d.append("index",v));let y=d.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(l.pathname=l.pathname==="/"?r:Fr([r,l.pathname])),ao(l)}function Bk(t,{relative:e}={}){let r=T.useContext(Dy);He(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Gy("useViewTransitionState"),o=ko(t,{relative:e});if(!r.isTransitioning)return!1;let l=zr(r.currentLocation.pathname,i)||r.currentLocation.pathname,u=zr(r.nextLocation.pathname,i)||r.nextLocation.pathname;return sl(o.pathname,u)!=null||sl(o.pathname,l)!=null}var zk=Ry();function _l(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(r[i[o]]=t[i[o]]);return r}function Wk(t,e,r,i){function o(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function d(y){try{p(i.next(y))}catch(v){u(v)}}function h(y){try{p(i.throw(y))}catch(v){u(v)}}function p(y){y.done?l(y.value):o(y.value).then(d,h)}p((i=i.apply(t,e||[])).next())})}const qk=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Fd extends Error{constructor(e,r="FunctionsError",i){super(e),this.name=r,this.context=i}}class Hk extends Fd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Rm extends Fd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Pm extends Fd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Xc;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Xc||(Xc={}));class Kk{constructor(e,{headers:r={},customFetch:i,region:o=Xc.Any}={}){this.url=e,this.headers=r,this.region=o,this.fetch=qk(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Wk(this,arguments,void 0,function*(r,i={}){var o;let l,u;try{const{headers:d,method:h,body:p,signal:y,timeout:v}=i;let w={},{region:b}=i;b||(b=this.region);const k=new URL(`${this.url}/${r}`);b&&b!=="any"&&(w["x-region"]=b,k.searchParams.set("forceFunctionRegion",b));let _;p&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",_=p):typeof p=="string"?(w["Content-Type"]="text/plain",_=p):typeof FormData<"u"&&p instanceof FormData?_=p:(w["Content-Type"]="application/json",_=JSON.stringify(p)):p&&typeof p!="string"&&!(typeof Blob<"u"&&p instanceof Blob)&&!(p instanceof ArrayBuffer)&&!(typeof FormData<"u"&&p instanceof FormData)?_=JSON.stringify(p):_=p;let S=y;v&&(u=new AbortController,l=setTimeout(()=>u.abort(),v),y?(S=u.signal,y.addEventListener("abort",()=>u.abort())):S=u.signal);const C=yield this.fetch(k.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),d),body:_,signal:S}).catch(A=>{throw new Hk(A)}),P=C.headers.get("x-relay-error");if(P&&P==="true")throw new Rm(C);if(!C.ok)throw new Pm(C);let j=((o=C.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),I;return j==="application/json"?I=yield C.json():j==="application/octet-stream"||j==="application/pdf"?I=yield C.blob():j==="text/event-stream"?I=C:j==="multipart/form-data"?I=yield C.formData():I=yield C.text(),{data:I,error:null,response:C}}catch(d){return{data:null,error:d,response:d instanceof Pm||d instanceof Rm?d.context:void 0}}finally{l&&clearTimeout(l)}})}}var Gk=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},Jk=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let o=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{let u=null,d=null,h=null,p=l.status,y=l.statusText;if(l.ok){var v,w;if(r.method!=="HEAD"){var b;const C=await l.text();C===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((b=r.headers.get("Accept"))===null||b===void 0)&&b.includes("application/vnd.pgrst.plan+text"))?d=C:d=JSON.parse(C))}const _=(v=r.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),S=(w=l.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");_&&S&&S.length>1&&(h=parseInt(S[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,p=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{var k;const _=await l.text();try{u=JSON.parse(_),Array.isArray(u)&&l.status===404&&(d=[],u=null,p=200,y="OK")}catch{l.status===404&&_===""?(p=204,y="No Content"):u={message:_}}if(u&&r.isMaybeSingle&&(!(u==null||(k=u.details)===null||k===void 0)&&k.includes("0 rows"))&&(u=null,p=200,y="OK"),u&&r.shouldThrowOnError)throw new Gk(u)}return{error:u,data:d,count:h,status:p,statusText:y}});return this.shouldThrowOnError||(o=o.catch(l=>{var u;let d="";const h=l==null?void 0:l.cause;if(h){var p,y,v,w;const k=(p=h==null?void 0:h.message)!==null&&p!==void 0?p:"",_=(y=h==null?void 0:h.code)!==null&&y!==void 0?y:"";d=`${(v=l==null?void 0:l.name)!==null&&v!==void 0?v:"FetchError"}: ${l==null?void 0:l.message}`,d+=`

Caused by: ${(w=h==null?void 0:h.name)!==null&&w!==void 0?w:"Error"}: ${k}`,_&&(d+=` (${_})`),h!=null&&h.stack&&(d+=`
${h.stack}`)}else{var b;d=(b=l==null?void 0:l.stack)!==null&&b!==void 0?b:""}return{error:{message:`${(u=l==null?void 0:l.name)!==null&&u!==void 0?u:"FetchError"}: ${l==null?void 0:l.message}`,details:d,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(t,e)}returns(){return this}overrideTypes(){return this}},Yk=class extends Jk{select(t){let e=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!e?"":(i==='"'&&(e=!e),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){const l=o?`${o}.order`:"order",u=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${u?`${u},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:i=r}={}){const o=typeof i>"u"?"offset":`${i}.offset`,l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(l,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:l="text"}={}){var u;const d=[t?"analyze":null,e?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),h=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${h}"; options=${d};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Nm=new RegExp("[,()]");var Is=class extends Yk{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(i=>typeof i=="string"&&Nm.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(i=>typeof i=="string"&&Nm.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");const l=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${l}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},Qk=class{constructor(t,{headers:e={},schema:r,fetch:i}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:r=!1,count:i}=e??{},o=r?"HEAD":"GET";let l=!1;const u=(t??"*").split("").map(p=>/\s/.test(p)&&!l?"":(p==='"'&&(l=!l),p)).join(""),{url:d,headers:h}=this.cloneRequestState();return d.searchParams.set("select",u),i&&h.append("Prefer",`count=${i}`),new Is({method:o,url:d,headers:h,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var i;const o="POST",{url:l,headers:u}=this.cloneRequestState();if(e&&u.append("Prefer",`count=${e}`),r||u.append("Prefer","missing=default"),Array.isArray(t)){const d=t.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(d.length>0){const h=[...new Set(d)].map(p=>`"${p}"`);l.searchParams.set("columns",h.join(","))}}return new Is({method:o,url:l,headers:u,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){var l;const u="POST",{url:d,headers:h}=this.cloneRequestState();if(h.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&d.searchParams.set("on_conflict",e),i&&h.append("Prefer",`count=${i}`),o||h.append("Prefer","missing=default"),Array.isArray(t)){const p=t.reduce((y,v)=>y.concat(Object.keys(v)),[]);if(p.length>0){const y=[...new Set(p)].map(v=>`"${v}"`);d.searchParams.set("columns",y.join(","))}}return new Is({method:u,url:d,headers:h,schema:this.schema,body:t,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(t,{count:e}={}){var r;const i="PATCH",{url:o,headers:l}=this.cloneRequestState();return e&&l.append("Prefer",`count=${e}`),new Is({method:i,url:o,headers:l,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE",{url:i,headers:o}=this.cloneRequestState();return t&&o.append("Prefer",`count=${t}`),new Is({method:r,url:i,headers:o,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},Xk=class Jy{constructor(e,{headers:r={},schema:i,fetch:o}={}){this.url=e,this.headers=new Headers(r),this.schemaName=i,this.fetch=o}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Qk(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Jy(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:i=!1,get:o=!1,count:l}={}){var u;let d;const h=new URL(`${this.url}/rpc/${e}`);let p;const y=b=>b!==null&&typeof b=="object"&&(!Array.isArray(b)||b.some(y)),v=i&&Object.values(r).some(y);v?(d="POST",p=r):i||o?(d=i?"HEAD":"GET",Object.entries(r).filter(([b,k])=>k!==void 0).map(([b,k])=>[b,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([b,k])=>{h.searchParams.append(b,k)})):(d="POST",p=r);const w=new Headers(this.headers);return v?w.set("Prefer",l?`count=${l},return=minimal`:"return=minimal"):l&&w.set("Prefer",`count=${l}`),new Is({method:d,url:h,headers:w,schema:this.schemaName,body:p,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};class Zk{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const i=r.versions;if(i&&i.node){const o=i.node,l=parseInt(o.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const i=this.getWebSocketConstructor();return new i(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const e_="2.93.3",t_=`realtime-js/${e_}`,r_="1.0.0",Yy="2.0.0",Am=Yy,Zc=1e4,n_=1e3,s_=100;var yn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(yn||(yn={}));var dt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(dt||(dt={}));var vr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(vr||(vr={}));var ed;(function(t){t.websocket="websocket"})(ed||(ed={}));var Wn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Wn||(Wn={}));class i_{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let i=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,i;const o=(i=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(e){var r,i;const o=(i=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&i!==void 0?i:{},u=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(e,r,i){var o,l;const u=e.topic,d=(o=e.ref)!==null&&o!==void 0?o:"",h=(l=e.join_ref)!==null&&l!==void 0?l:"",p=e.payload.event,y=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},v=Object.keys(y).length===0?"":JSON.stringify(y);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+d.length+u.length+p.length+v.length,b=new ArrayBuffer(this.HEADER_LENGTH+w);let k=new DataView(b),_=0;k.setUint8(_++,this.KINDS.userBroadcastPush),k.setUint8(_++,h.length),k.setUint8(_++,d.length),k.setUint8(_++,u.length),k.setUint8(_++,p.length),k.setUint8(_++,v.length),k.setUint8(_++,r),Array.from(h,C=>k.setUint8(_++,C.charCodeAt(0))),Array.from(d,C=>k.setUint8(_++,C.charCodeAt(0))),Array.from(u,C=>k.setUint8(_++,C.charCodeAt(0))),Array.from(p,C=>k.setUint8(_++,C.charCodeAt(0))),Array.from(v,C=>k.setUint8(_++,C.charCodeAt(0)));var S=new Uint8Array(b.byteLength+i.byteLength);return S.set(new Uint8Array(b),0),S.set(new Uint8Array(i),b.byteLength),S.buffer}decode(e,r){if(this._isArrayBuffer(e)){let i=this._binaryDecode(e);return r(i)}if(typeof e=="string"){const i=JSON.parse(e),[o,l,u,d,h]=i;return r({join_ref:o,ref:l,topic:u,event:d,payload:h})}return r({})}_binaryDecode(e){const r=new DataView(e),i=r.getUint8(0),o=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,o)}}_decodeUserBroadcast(e,r,i){const o=r.getUint8(1),l=r.getUint8(2),u=r.getUint8(3),d=r.getUint8(4);let h=this.HEADER_LENGTH+4;const p=i.decode(e.slice(h,h+o));h=h+o;const y=i.decode(e.slice(h,h+l));h=h+l;const v=i.decode(e.slice(h,h+u));h=h+u;const w=e.slice(h,e.byteLength),b=d===this.JSON_ENCODING?JSON.parse(i.decode(w)):w,k={type:this.BROADCAST_EVENT,event:y,payload:b};return u>0&&(k.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:k}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([i])=>r.includes(i)))}}class Qy{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var $e;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})($e||($e={}));const Om=(t,e,r={})=>{var i;const o=(i=r.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((l,u)=>(l[u]=o_(u,t,e,o),l),{}):{}},o_=(t,e,r,i)=>{const o=e.find(d=>d.name===t),l=o==null?void 0:o.type,u=r[t];return l&&!i.includes(l)?Xy(l,u):td(u)},Xy=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return c_(e,r)}switch(t){case $e.bool:return a_(e);case $e.float4:case $e.float8:case $e.int2:case $e.int4:case $e.int8:case $e.numeric:case $e.oid:return l_(e);case $e.json:case $e.jsonb:return u_(e);case $e.timestamp:return d_(e);case $e.abstime:case $e.date:case $e.daterange:case $e.int4range:case $e.int8range:case $e.money:case $e.reltime:case $e.text:case $e.time:case $e.timestamptz:case $e.timetz:case $e.tsrange:case $e.tstzrange:return td(e);default:return td(e)}},td=t=>t,a_=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},l_=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},u_=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},c_=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,i=t[r];if(t[0]==="{"&&i==="}"){let l;const u=t.slice(1,r);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(d=>Xy(e,d))}return t},d_=t=>typeof t=="string"?t.replace(" ","T"):t,Zy=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Ec{constructor(e,r,i={},o=Zc){this.channel=e,this.event=r,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var i;return this._hasReceived(e)&&r((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Im;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Im||(Im={}));class Xi{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},o=>{const{onJoin:l,onLeave:u,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Xi.syncState(this.state,o,l,u),this.pendingDiffs.forEach(h=>{this.state=Xi.syncDiff(this.state,h,l,u)}),this.pendingDiffs=[],d()}),this.channel._on(i.diff,{},o=>{const{onJoin:l,onLeave:u,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Xi.syncDiff(this.state,o,l,u),d())}),this.onJoin((o,l,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:u})}),this.onLeave((o,l,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,i,o){const l=this.cloneDeep(e),u=this.transformState(r),d={},h={};return this.map(l,(p,y)=>{u[p]||(h[p]=y)}),this.map(u,(p,y)=>{const v=l[p];if(v){const w=y.map(S=>S.presence_ref),b=v.map(S=>S.presence_ref),k=y.filter(S=>b.indexOf(S.presence_ref)<0),_=v.filter(S=>w.indexOf(S.presence_ref)<0);k.length>0&&(d[p]=k),_.length>0&&(h[p]=_)}else d[p]=y}),this.syncDiff(l,{joins:d,leaves:h},i,o)}static syncDiff(e,r,i,o){const{joins:l,leaves:u}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return i||(i=()=>{}),o||(o=()=>{}),this.map(l,(d,h)=>{var p;const y=(p=e[d])!==null&&p!==void 0?p:[];if(e[d]=this.cloneDeep(h),y.length>0){const v=e[d].map(b=>b.presence_ref),w=y.filter(b=>v.indexOf(b.presence_ref)<0);e[d].unshift(...w)}i(d,y,h)}),this.map(u,(d,h)=>{let p=e[d];if(!p)return;const y=h.map(v=>v.presence_ref);p=p.filter(v=>y.indexOf(v.presence_ref)<0),e[d]=p,o(d,p,h),p.length===0&&delete e[d]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(i=>r(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,i)=>{const o=e[i];return"metas"in o?r[i]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):r[i]=o,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Lm;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Lm||(Lm={}));var Zi;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Zi||(Zi={}));var Ur;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ur||(Ur={}));class Vs{constructor(e,r={config:{}},i){var o,l;if(this.topic=e,this.params=r,this.socket=i,this.bindings={},this.state=dt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ec(this,vr.join,this.params,this.timeout),this.rejoinTimer=new Qy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=dt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=dt.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=dt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=dt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=dt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(vr.reply,{},(u,d)=>{this._trigger(this._replyEventName(d),u)}),this.presence=new Xi(this),this.broadcastEndpointURL=Zy(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var i,o,l;if(this.socket.isConnected()||this.socket.connect(),this.state==dt.closed){const{config:{broadcast:u,presence:d,private:h}}=this.params,p=(o=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(b=>b.filter))!==null&&o!==void 0?o:[],y=!!this.bindings[Zi.PRESENCE]&&this.bindings[Zi.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,v={},w={broadcast:u,presence:Object.assign(Object.assign({},d),{enabled:y}),postgres_changes:p,private:h};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(b=>e==null?void 0:e(Ur.CHANNEL_ERROR,b)),this._onClose(()=>e==null?void 0:e(Ur.CLOSED)),this.updateJoinPayload(Object.assign({config:w},v)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:b})=>{var k;if(this.socket._isManualToken()||this.socket.setAuth(),b===void 0){e==null||e(Ur.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,S=(k=_==null?void 0:_.length)!==null&&k!==void 0?k:0,C=[];for(let P=0;P<S;P++){const j=_[P],{filter:{event:I,schema:A,table:B,filter:G}}=j,z=b&&b[P];if(z&&z.event===I&&Vs.isFilterValueEqual(z.schema,A)&&Vs.isFilterValueEqual(z.table,B)&&Vs.isFilterValueEqual(z.filter,G))C.push(Object.assign(Object.assign({},j),{id:z.id}));else{this.unsubscribe(),this.state=dt.errored,e==null||e(Ur.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,e&&e(Ur.SUBSCRIBED);return}}).receive("error",b=>{this.state=dt.errored,e==null||e(Ur.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ur.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,i){return this.state===dt.joined&&e===Zi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,i)}async httpSend(e,r,i={}){var o;if(r==null)return Promise.reject("Payload is required for httpSend()");const l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(o=i.timeout)!==null&&o!==void 0?o:this.timeout);if(d.status===202)return{success:!0};let h=d.statusText;try{const p=await d.json();h=p.error||p.message||h}catch{}return Promise.reject(new Error(h))}async send(e,r={}){var i,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:u}=e,d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,d,h;const p=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(d=(u=this.params)===null||u===void 0?void 0:u.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),p.receive("ok",()=>l("ok")),p.receive("error",()=>l("error")),p.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=dt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(vr.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(o=>{i=new Ec(this,vr.leave,{},e),i.receive("ok",()=>{r(),o("ok")}).receive("timeout",()=>{r(),o("timed out")}).receive("error",()=>{o("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=dt.closed,this.bindings={}}async _fetchWithTimeout(e,r,i){const o=new AbortController,l=setTimeout(()=>o.abort(),i),u=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(l),u}_push(e,r,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Ec(this,e,r,i);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>s_){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,i){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,i){var o,l;const u=e.toLocaleLowerCase(),{close:d,error:h,leave:p,join:y}=vr;if(i&&[d,h,p,y].indexOf(u)>=0&&i!==this._joinRef())return;let w=this._onMessage(u,r,i);if(r&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(b=>{var k,_,S;return((k=b.filter)===null||k===void 0?void 0:k.event)==="*"||((S=(_=b.filter)===null||_===void 0?void 0:_.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===u}).map(b=>b.callback(w,i)):(l=this.bindings[u])===null||l===void 0||l.filter(b=>{var k,_,S,C,P,j;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in b){const I=b.id,A=(k=b.filter)===null||k===void 0?void 0:k.event;return I&&((_=r.ids)===null||_===void 0?void 0:_.includes(I))&&(A==="*"||(A==null?void 0:A.toLocaleLowerCase())===((S=r.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const I=(P=(C=b==null?void 0:b.filter)===null||C===void 0?void 0:C.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return I==="*"||I===((j=r==null?void 0:r.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===u}).map(b=>{if(typeof w=="object"&&"ids"in w){const k=w.data,{schema:_,table:S,commit_timestamp:C,type:P,errors:j}=k;w=Object.assign(Object.assign({},{schema:_,table:S,commit_timestamp:C,eventType:P,new:{},old:{},errors:j}),this._getPayloadRecords(k))}b.callback(w,i)})}_isClosed(){return this.state===dt.closed}_isJoined(){return this.state===dt.joined}_isJoining(){return this.state===dt.joining}_isLeaving(){return this.state===dt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,i){const o=e.toLocaleLowerCase(),l={type:o,filter:r,callback:i};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(e,r){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===i&&Vs.isEqual(o.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const i in e)if(e[i]!==r[i])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(vr.close,{},e)}_onError(e){this._on(vr.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=dt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Om(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Om(e.columns,e.old_record)),r}}const Tc=()=>{},Ba={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},h_=[1e3,2e3,5e3,1e4],f_=1e4,p_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class m_{constructor(e,r){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Zc,this.transport=null,this.heartbeatIntervalMs=Ba.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Tc,this.ref=0,this.reconnectTimer=null,this.vsn=Am,this.logger=Tc,this.conn=null,this.sendBuffer=[],this.serializer=new i_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...l)=>o(...l):(...l)=>fetch(...l),!(!((i=r==null?void 0:r.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${ed.websocket}`,this.httpEndpoint=Zy(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Zk.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,i){this.logger(e,r,i)}connectionState(){switch(this.conn&&this.conn.readyState){case yn.connecting:return Wn.Connecting;case yn.open:return Wn.Open;case yn.closing:return Wn.Closing;default:return Wn.Closed}}isConnected(){return this.connectionState()===Wn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const i=`realtime:${e}`,o=this.getChannels().find(l=>l.topic===i);if(o)return o;{const l=new Vs(`realtime:${e}`,r,this);return this.channels.push(l),l}}push(e){const{topic:r,event:i,payload:o,ref:l}=e,u=()=>{this.encode(e,d=>{var h;(h=this.conn)===null||h===void 0||h.send(d)})};this.log("push",`${r} ${i} (${l})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(n_,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ba.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const p=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",p)}catch(y){this.log("error","error in heartbeat callback",y)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:i,event:o,payload:l,ref:u}=r,d=u?`(${u})`:"",h=l.status||"";this.log("receive",`${h} ${i} ${o} ${d}`.trim(),l),this.channels.filter(p=>p._isMember(i)).forEach(p=>p._trigger(o,l,u)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===yn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===yn.open||this.conn.readyState===yn.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(vr.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const i=e.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${e}${i}${o}`}_workerObjectUrl(e){let r;if(e)r=e;else{const i=new Blob([p_],{type:"application/javascript"});r=URL.createObjectURL(i)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,i=!1;if(e)r=e,i=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),r=this.accessTokenValue}else r=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(o=>{const l={access_token:r,version:t_};r&&o.updateJoinPayload(l),o.joinedOnce&&o._isJoined()&&o._push(vr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(r)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Qy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ba.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,i,o,l,u,d,h,p,y,v,w,b;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(i=e==null?void 0:e.timeout)!==null&&i!==void 0?i:Zc,this.heartbeatIntervalMs=(o=e==null?void 0:e.heartbeatIntervalMs)!==null&&o!==void 0?o:Ba.HEARTBEAT_INTERVAL,this.worker=(l=e==null?void 0:e.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=e==null?void 0:e.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(d=e==null?void 0:e.heartbeatCallback)!==null&&d!==void 0?d:Tc,this.vsn=(h=e==null?void 0:e.vsn)!==null&&h!==void 0?h:Am,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e==null?void 0:e.reconnectAfterMs)!==null&&p!==void 0?p:(k=>h_[k-1]||f_),this.vsn){case r_:this.encode=(y=e==null?void 0:e.encode)!==null&&y!==void 0?y:((k,_)=>_(JSON.stringify(k))),this.decode=(v=e==null?void 0:e.decode)!==null&&v!==void 0?v:((k,_)=>_(JSON.parse(k)));break;case Yy:this.encode=(w=e==null?void 0:e.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(b=e==null?void 0:e.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var lo=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function g_(t,e,r){const i=new URL(e,t);if(r)for(const[o,l]of Object.entries(r))l!==void 0&&i.searchParams.set(o,l);return i.toString()}async function y_(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function v_(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:i,query:o,body:l,headers:u}){const d=g_(t.baseUrl,i,o),h=await y_(t.auth),p=await e(d,{method:r,headers:{...l?{"Content-Type":"application/json"}:{},...h,...u},body:l?JSON.stringify(l):void 0}),y=await p.text(),v=(p.headers.get("content-type")||"").includes("application/json"),w=v&&y?JSON.parse(y):y;if(!p.ok){const b=v?w:void 0,k=b==null?void 0:b.error;throw new lo((k==null?void 0:k.message)??`Request failed with status ${p.status}`,{status:p.status,icebergType:k==null?void 0:k.type,icebergCode:k==null?void 0:k.code,details:b})}return{status:p.status,headers:p.headers,data:w}}}}function za(t){return t.join("")}var w_=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:za(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${za(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${za(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${za(t.namespace)}`}),!0}catch(e){if(e instanceof lo&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof lo&&r.status===409)return;throw r}}};function Cs(t){return t.join("")}var x_=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Cs(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Cs(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Cs(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Cs(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Cs(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Cs(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof lo&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof lo&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},b_=class{constructor(t){var i;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=v_({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(i=t.accessDelegation)==null?void 0:i.join(","),this.namespaceOps=new w_(this.client,e),this.tableOps=new x_(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Sl=class extends Error{constructor(t,e="storage",r,i){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=i}};function El(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Wa=class extends Sl{constructor(t,e,r,i="storage"){super(t,i,e,r),this.name=i==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},e0=class extends Sl{constructor(t,e,r="storage"){super(t,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const k_=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),__=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},rd=t=>{if(Array.isArray(t))return t.map(r=>rd(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,i])=>{const o=r.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[o]=rd(i)}),e},S_=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function uo(t){"@babel/helpers - typeof";return uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uo(t)}function E_(t,e){if(uo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e);if(uo(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function T_(t){var e=E_(t,"string");return uo(e)=="symbol"?e:e+""}function C_(t,e,r){return(e=T_(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dm(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,i)}return r}function ve(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Dm(Object(r),!0).forEach(function(i){C_(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Dm(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}const Mm=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},j_=async(t,e,r,i)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const o=t,l=o.status||500;if(typeof o.json=="function")o.json().then(u=>{const d=(u==null?void 0:u.statusCode)||(u==null?void 0:u.code)||l+"";e(new Wa(Mm(u),l,d,i))}).catch(()=>{if(i==="vectors"){const u=l+"";e(new Wa(o.statusText||`HTTP ${l} error`,l,u,i))}else{const u=l+"";e(new Wa(o.statusText||`HTTP ${l} error`,l,u,i))}});else{const u=l+"";e(new Wa(o.statusText||`HTTP ${l} error`,l,u,i))}}else e(new e0(Mm(t),t,i))},R_=(t,e,r,i)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||t==="HEAD"||!i?ve(ve({},o),r):(__(i)?(o.headers=ve({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(i)):o.body=i,e!=null&&e.duplex&&(o.duplex=e.duplex),ve(ve({},o),r))};async function Hi(t,e,r,i,o,l,u){return new Promise((d,h)=>{t(r,R_(e,i,o,l)).then(p=>{if(!p.ok)throw p;if(i!=null&&i.noResolveJson)return p;if(u==="vectors"){const y=p.headers.get("content-type");if(p.headers.get("content-length")==="0"||p.status===204)return{};if(!y||!y.includes("application/json"))return{}}return p.json()}).then(p=>d(p)).catch(p=>j_(p,h,i,u))})}function t0(t="storage"){return{get:async(e,r,i,o)=>Hi(e,"GET",r,i,o,void 0,t),post:async(e,r,i,o,l)=>Hi(e,"POST",r,o,l,i,t),put:async(e,r,i,o,l)=>Hi(e,"PUT",r,o,l,i,t),head:async(e,r,i,o)=>Hi(e,"HEAD",r,ve(ve({},i),{},{noResolveJson:!0}),o,void 0,t),remove:async(e,r,i,o,l)=>Hi(e,"DELETE",r,o,l,i,t)}}const P_=t0("storage"),{get:co,post:yr,put:nd,head:N_,remove:Bd}=P_,Ht=t0("vectors");var Ys=class{constructor(t,e={},r,i="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=k_(r),this.namespace=i}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(El(r))return{data:null,error:r};throw r}}},A_=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(El(e))return{data:null,error:e};throw e}}};let r0;r0=Symbol.toStringTag;var O_=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[r0]="BlobDownloadBuilder",this.promise=null}asStream(){return new A_(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(El(e))return{data:null,error:e};throw e}}};const I_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Vm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var L_=class extends Ys{constructor(t,e={},r,i){super(t,e,i,"storage"),this.bucketId=r}async uploadOrUpdate(t,e,r,i){var o=this;return o.handleOperation(async()=>{let l;const u=ve(ve({},Vm),i);let d=ve(ve({},o.headers),t==="POST"&&{"x-upsert":String(u.upsert)});const h=u.metadata;typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),h&&l.append("metadata",o.encodeMetadata(h)),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.has("cacheControl")||l.append("cacheControl",u.cacheControl),h&&!l.has("metadata")&&l.append("metadata",o.encodeMetadata(h))):(l=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType,h&&(d["x-metadata"]=o.toBase64(o.encodeMetadata(h))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!u.duplex&&(u.duplex="half")),i!=null&&i.headers&&(d=ve(ve({},d),i.headers));const p=o._removeEmptyFolders(e),y=o._getFinalPath(p),v=await(t=="PUT"?nd:yr)(o.fetch,`${o.url}/object/${y}`,l,ve({headers:d},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{path:p,id:v.Id,fullPath:v.Key}})}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,i){var o=this;const l=o._removeEmptyFolders(t),u=o._getFinalPath(l),d=new URL(o.url+`/object/upload/sign/${u}`);return d.searchParams.set("token",e),o.handleOperation(async()=>{let h;const p=ve({upsert:Vm.upsert},i),y=ve(ve({},o.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&r instanceof Blob?(h=new FormData,h.append("cacheControl",p.cacheControl),h.append("",r)):typeof FormData<"u"&&r instanceof FormData?(h=r,h.append("cacheControl",p.cacheControl)):(h=r,y["cache-control"]=`max-age=${p.cacheControl}`,y["content-type"]=p.contentType),{path:l,fullPath:(await nd(o.fetch,d.toString(),h,{headers:y})).Key}})}async createSignedUploadUrl(t,e){var r=this;return r.handleOperation(async()=>{let i=r._getFinalPath(t);const o=ve({},r.headers);e!=null&&e.upsert&&(o["x-upsert"]="true");const l=await yr(r.fetch,`${r.url}/object/upload/sign/${i}`,{},{headers:o}),u=new URL(r.url+l.url),d=u.searchParams.get("token");if(!d)throw new Sl("No token returned by API");return{signedUrl:u.toString(),path:t,token:d}})}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var i=this;return i.handleOperation(async()=>await yr(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:i.headers}))}async copy(t,e,r){var i=this;return i.handleOperation(async()=>({path:(await yr(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:i.headers})).Key}))}async createSignedUrl(t,e,r){var i=this;return i.handleOperation(async()=>{let o=i._getFinalPath(t),l=await yr(i.fetch,`${i.url}/object/sign/${o}`,ve({expiresIn:e},r!=null&&r.transform?{transform:r.transform}:{}),{headers:i.headers});const u=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${i.url}${l.signedURL}${u}`)}})}async createSignedUrls(t,e,r){var i=this;return i.handleOperation(async()=>{const o=await yr(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:e,paths:t},{headers:i.headers}),l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o.map(u=>ve(ve({},u),{},{signedUrl:u.signedURL?encodeURI(`${i.url}${u.signedURL}${l}`):null}))})}download(t,e){const r=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),o=i?`?${i}`:"",l=this._getFinalPath(t),u=()=>co(this.fetch,`${this.url}/${r}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new O_(u,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);return e.handleOperation(async()=>rd(await co(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})))}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await N_(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(El(i)&&i instanceof e0){const o=i.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:i}}throw i}}getPublicUrl(t,e){const r=this._getFinalPath(t),i=[],o=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&i.push(o);const l=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});u!==""&&i.push(u);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${d}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await Bd(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,r){var i=this;return i.handleOperation(async()=>{const o=ve(ve(ve({},I_),e),{},{prefix:t||""});return await yr(i.fetch,`${i.url}/object/list/${i.bucketId}`,o,{headers:i.headers},r)})}async listV2(t,e){var r=this;return r.handleOperation(async()=>{const i=ve({},t);return await yr(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,i,{headers:r.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const D_="2.93.3",_o={"X-Client-Info":`storage-js/${D_}`};var M_=class extends Ys{constructor(t,e={},r,i){const o=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase."));const l=o.href.replace(/\/$/,""),u=ve(ve({},_o),e);super(l,u,r,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=e.listBucketOptionsToQueryString(t);return await co(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await co(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var r=this;return r.handleOperation(async()=>await yr(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async updateBucket(t,e){var r=this;return r.handleOperation(async()=>await nd(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await yr(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Bd(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},V_=class extends Ys{constructor(t,e={},r){const i=t.replace(/\/$/,""),o=ve(ve({},_o),e);super(i,o,r,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await yr(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const i=r.toString(),o=i?`${e.url}/bucket?${i}`:`${e.url}/bucket`;return await co(e.fetch,o,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Bd(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!S_(t))throw new Sl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new b_({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(r,{get(o,l){const u=o[l];return typeof u!="function"?u:async(...d)=>{try{return{data:await u.apply(o,d),error:null}}catch(h){if(i)throw h;return{data:null,error:h}}}}})}},$_=class extends Ys{constructor(t,e={},r){const i=t.replace(/\/$/,""),o=ve(ve({},_o),{},{"Content-Type":"application/json"},e);super(i,o,r,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await Ht.post(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var r=this;return r.handleOperation(async()=>await Ht.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await Ht.post(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var r=this;return r.handleOperation(async()=>await Ht.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{})}},U_=class extends Ys{constructor(t,e={},r){const i=t.replace(/\/$/,""),o=ve(ve({},_o),{},{"Content-Type":"application/json"},e);super(i,o,r,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Ht.post(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await Ht.post(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await Ht.post(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await Ht.post(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Ht.post(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},F_=class extends Ys{constructor(t,e={},r){const i=t.replace(/\/$/,""),o=ve(ve({},_o),{},{"Content-Type":"application/json"},e);super(i,o,r,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await Ht.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await Ht.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await Ht.post(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Ht.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},B_=class extends F_{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new z_(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},z_=class extends $_{constructor(t,e,r,i){super(t,e,i),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,ve(ve({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,ve(ve({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new W_(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},W_=class extends U_{constructor(t,e,r,i,o){super(t,e,o),this.vectorBucketName=r,this.indexName=i}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,ve(ve({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,ve(ve({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,ve(ve({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,ve(ve({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,ve(ve({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},q_=class extends M_{constructor(t,e={},r,i){super(t,e,r,i)}from(t){return new L_(this.url,this.headers,t,this.fetch)}get vectors(){return new B_(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new V_(this.url+"/iceberg",this.headers,this.fetch)}};const n0="2.93.3",Ls=30*1e3,sd=3,Cc=sd*Ls,H_="http://localhost:9999",K_="supabase.auth.token",G_={"X-Client-Info":`gotrue-js/${n0}`},id="X-Supabase-Api-Version",s0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},J_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Y_=600*1e3;class ho extends Error{constructor(e,r,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=i}}function de(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Q_ extends ho{constructor(e,r,i){super(e,r,i),this.name="AuthApiError",this.status=r,this.code=i}}function X_(t){return de(t)&&t.name==="AuthApiError"}class qn extends ho{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Kr extends ho{constructor(e,r,i,o){super(e,i,o),this.name=r,this.status=i}}class qt extends Kr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function jc(t){return de(t)&&t.name==="AuthSessionMissingError"}class js extends Kr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class qa extends Kr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ha extends Kr{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Z_(t){return de(t)&&t.name==="AuthImplicitGrantRedirectError"}class $m extends Kr{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class eS extends Kr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class od extends Kr{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Rc(t){return de(t)&&t.name==="AuthRetryableFetchError"}class Um extends Kr{constructor(e,r,i){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=i}}class ad extends Kr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const il="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Fm=` 	
\r=`.split(""),tS=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Fm.length;e+=1)t[Fm[e].charCodeAt(0)]=-2;for(let e=0;e<il.length;e+=1)t[il[e].charCodeAt(0)]=e;return t})();function Bm(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;r(il[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;r(il[i]),e.queuedBits-=6}}function i0(t,e,r){const i=tS[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function zm(t){const e=[],r=u=>{e.push(String.fromCodePoint(u))},i={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=u=>{sS(u,i,r)};for(let u=0;u<t.length;u+=1)i0(t.charCodeAt(u),o,l);return e.join("")}function rS(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function nS(t,e){for(let r=0;r<t.length;r+=1){let i=t.charCodeAt(r);if(i>55295&&i<=56319){const o=(i-55296)*1024&65535;i=(t.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}rS(i,e)}}function sS(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let i=1;i<6;i+=1)if((t>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Ws(t){const e=[],r={queue:0,queuedBits:0},i=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)i0(t.charCodeAt(o),r,i);return new Uint8Array(e)}function iS(t){const e=[];return nS(t,r=>e.push(r)),new Uint8Array(e)}function Hn(t){const e=[],r={queue:0,queuedBits:0},i=o=>{e.push(o)};return t.forEach(o=>Bm(o,r,i)),Bm(null,r,i),e.join("")}function oS(t){return Math.round(Date.now()/1e3)+t}function aS(){return Symbol("auth-callback")}const xt=()=>typeof window<"u"&&typeof document<"u",$n={tested:!1,writable:!1},o0=()=>{if(!xt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if($n.tested)return $n.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),$n.tested=!0,$n.writable=!0}catch{$n.tested=!0,$n.writable=!1}return $n.writable};function lS(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,l)=>{e[l]=o})}catch{}return r.searchParams.forEach((i,o)=>{e[o]=i}),e}const a0=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),uS=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ds=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Un=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},wt=async(t,e)=>{await t.removeItem(e)};class Tl{constructor(){this.promise=new Tl.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Tl.promiseConstructor=Promise;function Ka(t){const e=t.split(".");if(e.length!==3)throw new ad("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!J_.test(e[i]))throw new ad("JWT not in base64url format");return{header:JSON.parse(zm(e[0])),payload:JSON.parse(zm(e[1])),signature:Ws(e[2]),raw:{header:e[0],payload:e[1]}}}async function cS(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function dS(t,e){return new Promise((i,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await t(l);if(!e(l,null,u)){i(u);return}}catch(u){if(!e(l,u)){o(u);return}}})()})}function hS(t){return("0"+t.toString(16)).substr(-2)}function fS(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=r.length;let o="";for(let l=0;l<56;l++)o+=r.charAt(Math.floor(Math.random()*i));return o}return crypto.getRandomValues(e),Array.from(e,hS).join("")}async function pS(t){const r=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(i);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function mS(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await pS(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Rs(t,e,r=!1){const i=fS();let o=i;r&&(o+="/PASSWORD_RECOVERY"),await Ds(t,`${e}-code-verifier`,o);const l=await mS(i);return[l,i===l?"plain":"s256"]}const gS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function yS(t){const e=t.headers.get(id);if(!e||!e.match(gS))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function vS(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function wS(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const xS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ps(t){if(!xS.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Pc(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function bS(t,e){return new Proxy(t,{get:(r,i,o)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const l=i.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,i,o)}return!e.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,i,o)}})}function Wm(t){return JSON.parse(JSON.stringify(t))}const Bn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),kS=[502,503,504];async function qm(t){var e;if(!uS(t))throw new od(Bn(t),0);if(kS.includes(t.status))throw new od(Bn(t),t.status);let r;try{r=await t.json()}catch(l){throw new qn(Bn(l),l)}let i;const o=yS(t);if(o&&o.getTime()>=s0["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?i=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(i=r.error_code),i){if(i==="weak_password")throw new Um(Bn(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new qt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new Um(Bn(r),t.status,r.weak_password.reasons);throw new Q_(Bn(r),t.status||500,i)}const _S=(t,e,r,i)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),r))};async function ye(t,e,r,i){var o;const l=Object.assign({},i==null?void 0:i.headers);l[id]||(l[id]=s0["2024-01-01"].name),i!=null&&i.jwt&&(l.Authorization=`Bearer ${i.jwt}`);const u=(o=i==null?void 0:i.query)!==null&&o!==void 0?o:{};i!=null&&i.redirectTo&&(u.redirect_to=i.redirectTo);const d=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",h=await SS(t,e,r+d,{headers:l,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(h):{data:Object.assign({},h),error:null}}async function SS(t,e,r,i,o,l){const u=_S(e,i,o,l);let d;try{d=await t(r,Object.assign({},u))}catch(h){throw console.error(h),new od(Bn(h),0)}if(d.ok||await qm(d),i!=null&&i.noResolveJson)return d;try{return await d.json()}catch(h){await qm(h)}}function mr(t){var e;let r=null;CS(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=oS(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:i},error:null}}function Hm(t){const e=mr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,i)=>r&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function vn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function ES(t){return{data:t,error:null}}function TS(t){const{action_link:e,email_otp:r,hashed_token:i,redirect_to:o,verification_type:l}=t,u=_l(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:r,hashed_token:i,redirect_to:o,verification_type:l},h=Object.assign({},u);return{data:{properties:d,user:h},error:null}}function Km(t){return t}function CS(t){return t.access_token&&t.refresh_token&&t.expires_in}const Nc=["global","local","others"];class jS{constructor({url:e="",headers:r={},fetch:i}){this.url=e,this.headers=r,this.fetch=a0(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Nc[0]){if(Nc.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Nc.join(", ")}`);try{return await ye(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(de(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,r={}){try{return await ye(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:vn})}catch(i){if(de(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:r}=e,i=_l(e,["options"]),o=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(o.new_email=i==null?void 0:i.newEmail,delete o.newEmail),await ye(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:TS,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(de(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await ye(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:vn})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,i,o,l,u,d,h;try{const p={nextPage:null,lastPage:0,total:0},y=await ye(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(l=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:Km});if(y.error)throw y.error;const v=await y.json(),w=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,b=(h=(d=y.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return b.length>0&&(b.forEach(k=>{const _=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(k.split(";")[1].split("=")[1]);p[`${S}Page`]=_}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(de(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){Ps(e);try{return await ye(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:vn})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Ps(e);try{return await ye(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:vn})}catch(i){if(de(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,r=!1){Ps(e);try{return await ye(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:vn})}catch(i){if(de(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){Ps(e.userId);try{const{data:r,error:i}=await ye(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:i}}catch(r){if(de(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Ps(e.userId),Ps(e.id);try{return{data:await ye(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,i,o,l,u,d,h;try{const p={nextPage:null,lastPage:0,total:0},y=await ye(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(l=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:Km});if(y.error)throw y.error;const v=await y.json(),w=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,b=(h=(d=y.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return b.length>0&&(b.forEach(k=>{const _=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(k.split(";")[1].split("=")[1]);p[`${S}Page`]=_}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(de(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await ye(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await ye(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await ye(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(de(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(e){try{return await ye(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await ye(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(de(r))return{data:null,error:r};throw r}}}function Gm(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Ns={debug:!!(globalThis&&o0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class l0 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class RS extends l0{}async function PS(t,e,r){Ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),Ns.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async o=>{if(o){Ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await r()}finally{Ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw Ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new RS(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ns.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function NS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function u0(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function AS(t){return parseInt(t,16)}function OS(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function IS(t){var e;const{chainId:r,domain:i,expirationTime:o,issuedAt:l=new Date,nonce:u,notBefore:d,requestId:h,resources:p,scheme:y,uri:v,version:w}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const b=u0(t.address),k=y?`${y}://${i}`:i,_=t.statement?`${t.statement}
`:"",S=`${k} wants you to sign in with your Ethereum account:
${b}

${_}`;let C=`URI: ${v}
Version: ${w}
Chain ID: ${r}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(o&&(C+=`
Expiration Time: ${o.toISOString()}`),d&&(C+=`
Not Before: ${d.toISOString()}`),h&&(C+=`
Request ID: ${h}`),p){let P=`
Resources:`;for(const j of p){if(!j||typeof j!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${j}`);P+=`
- ${j}`}C+=P}return`${S}
${C}`}class it extends Error{constructor({message:e,code:r,cause:i,name:o}){var l;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(l=o??(i instanceof Error?i.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=r}}class ol extends it{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function LS({error:t,options:e}){var r,i,o;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new it({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=l.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new it({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((i=l.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new it({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new it({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new it({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new it({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new it({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new it({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(c0(u)){if(l.rp.id!==u)return new it({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new it({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new it({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new it({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new it({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function DS({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new it({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new it({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const i=window.location.hostname;if(c0(i)){if(r.rpId!==i)return new it({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new it({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new it({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new it({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class MS{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const VS=new MS;function $S(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:i}=t,o=_l(t,["challenge","user","excludeCredentials"]),l=Ws(e).buffer,u=Object.assign(Object.assign({},r),{id:Ws(r.id).buffer}),d=Object.assign(Object.assign({},o),{challenge:l,user:u});if(i&&i.length>0){d.excludeCredentials=new Array(i.length);for(let h=0;h<i.length;h++){const p=i[h];d.excludeCredentials[h]=Object.assign(Object.assign({},p),{id:Ws(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return d}function US(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,i=_l(t,["challenge","allowCredentials"]),o=Ws(e).buffer,l=Object.assign(Object.assign({},i),{challenge:o});if(r&&r.length>0){l.allowCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const d=r[u];l.allowCredentials[u]=Object.assign(Object.assign({},d),{id:Ws(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function FS(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Hn(new Uint8Array(t.response.attestationObject)),clientDataJSON:Hn(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function BS(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,i=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Hn(new Uint8Array(o.authenticatorData)),clientDataJSON:Hn(new Uint8Array(o.clientDataJSON)),signature:Hn(new Uint8Array(o.signature)),userHandle:o.userHandle?Hn(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function c0(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Jm(){var t,e;return!!(xt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function zS(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ol("Browser returned unexpected credential type",e)}:{data:null,error:new ol("Empty credential response",e)}}catch(e){return{data:null,error:LS({error:e,options:t})}}}async function WS(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ol("Browser returned unexpected credential type",e)}:{data:null,error:new ol("Empty credential response",e)}}catch(e){return{data:null,error:DS({error:e,options:t})}}}const qS={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},HS={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function al(...t){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),r=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),i={};for(const o of t)if(o)for(const l in o){const u=o[l];if(u!==void 0)if(Array.isArray(u))i[l]=u;else if(r(u))i[l]=u;else if(e(u)){const d=i[l];e(d)?i[l]=al(d,u):i[l]=al(u)}else i[l]=u}return i}function KS(t,e){return al(qS,t,e||{})}function GS(t,e){return al(HS,t,e||{})}class JS{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:i,signal:o},l){var u;try{const{data:d,error:h}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!d)return{data:null,error:h};const p=o??VS.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:y}=d.webauthn.credential_options.publicKey;if(!y.name){const v=i;if(v)y.name=`${y.id}:${v}`;else{const b=(await this.client.getUser()).data.user,k=((u=b==null?void 0:b.user_metadata)===null||u===void 0?void 0:u.name)||(b==null?void 0:b.email)||(b==null?void 0:b.id)||"User";y.name=`${y.id}:${k}`}}y.displayName||(y.displayName=y.name)}switch(d.webauthn.type){case"create":{const y=KS(d.webauthn.credential_options.publicKey,l==null?void 0:l.create),{data:v,error:w}=await zS({publicKey:y,signal:p});return v?{data:{factorId:e,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:v}},error:null}:{data:null,error:w}}case"request":{const y=GS(d.webauthn.credential_options.publicKey,l==null?void 0:l.request),{data:v,error:w}=await WS(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:y,signal:p}));return v?{data:{factorId:e,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:v}},error:null}:{data:null,error:w}}}}catch(d){return de(d)?{data:null,error:d}:{data:null,error:new qn("Unexpected error in challenge",d)}}}async _verify({challengeId:e,factorId:r,webauthn:i}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!r)return{data:null,error:new ho("rpId is required for WebAuthn authentication")};try{if(!Jm())return{data:null,error:new qn("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:i},signal:o},{request:l});if(!u)return{data:null,error:d};const{webauthn:h}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:h.type,rpId:r,rpOrigins:i,credential_response:h.credential_response}})}catch(u){return de(u)?{data:null,error:u}:{data:null,error:new qn("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!r)return{data:null,error:new ho("rpId is required for WebAuthn registration")};try{if(!Jm())return{data:null,error:new qn("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(y=>{var v;return(v=y.data)===null||v===void 0?void 0:v.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===e&&w.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y==null?void 0:y.id}):void 0),{data:null,error:d};const{data:h,error:p}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:r,rpOrigins:i},signal:o},{create:l});return h?this._verify({factorId:u.id,challengeId:h.challengeId,webauthn:{rpId:r,rpOrigins:i,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:p}}catch(u){return de(u)?{data:null,error:u}:{data:null,error:new qn("Unexpected error in register",u)}}}}NS();const YS={url:H_,storageKey:K_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:G_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Ym(t,e,r){return await r()}const As={};class fo{get jwks(){var e,r;return(r=(e=As[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){As[this.storageKey]=Object.assign(Object.assign({},As[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=As[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){As[this.storageKey]=Object.assign(Object.assign({},As[this.storageKey]),{cachedAt:e})}constructor(e){var r,i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},YS),e);if(this.storageKey=l.storageKey,this.instanceID=(r=fo.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,fo.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&xt()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new jS({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=a0(l.fetch),this.lock=l.lock||Ym,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,this.lockAcquireTimeout=l.lockAcquireTimeout,l.lock?this.lock=l.lock:this.persistSession&&xt()&&(!((i=globalThis==null?void 0:globalThis.navigator)===null||i===void 0)&&i.locks)?this.lock=PS:this.lock=Ym,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new JS(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:o0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Gm(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=Gm(this.memoryStorage)),xt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u);try{await this._notifyAllSubscribers(u.data.event,u.data.session,!1)}catch(d){this._debug("#broadcastChannel","error",d)}})}this.initialize().catch(u=>{this._debug("#initialize()","error",u)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${n0}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},i="none";if(xt()&&(r=lS(window.location.href),this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce")),xt()&&this.detectSessionInUrl&&i!=="none"){const{data:o,error:l}=await this._getSessionFromURL(r,i);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),Z_(l)){const h=(e=l.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return{error:l}}const{session:u,redirectType:d}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",d),await this._saveSession(u),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return de(r)?this._returnResult({error:r}):this._returnResult({error:new qn("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,i,o;try{const l=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:mr}),{data:u,error:d}=l;if(d||!u)return this._returnResult({data:{user:null,session:null},error:d});const h=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(l){if(de(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var r,i,o;try{let l;if("email"in e){const{email:y,password:v,options:w}=e;let b=null,k=null;this.flowType==="pkce"&&([b,k]=await Rs(this.storage,this.storageKey)),l=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w==null?void 0:w.emailRedirectTo,body:{email:y,password:v,data:(r=w==null?void 0:w.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:b,code_challenge_method:k},xform:mr})}else if("phone"in e){const{phone:y,password:v,options:w}=e;l=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:v,data:(i=w==null?void 0:w.data)!==null&&i!==void 0?i:{},channel:(o=w==null?void 0:w.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:mr})}else throw new qa("You must provide either an email or phone number and a password");const{data:u,error:d}=l;if(d||!u)return await wt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:d});const h=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(l){if(await wt(this.storage,`${this.storageKey}-code-verifier`),de(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let r;if("email"in e){const{email:l,password:u,options:d}=e;r=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Hm})}else if("phone"in e){const{phone:l,password:u,options:d}=e;r=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Hm})}else throw new qa("You must provide either an email or phone number and a password");const{data:i,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!i||!i.session||!i.user){const l=new js;return this._returnResult({data:{user:null,session:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(de(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,i,o,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,i,o,l,u,d,h,p,y,v,w;let b,k;if("message"in e)b=e.message,k=e.signature;else{const{chain:_,wallet:S,statement:C,options:P}=e;let j;if(xt())if(typeof S=="object")j=S;else{const M=window;if("ethereum"in M&&typeof M.ethereum=="object"&&"request"in M.ethereum&&typeof M.ethereum.request=="function")j=M.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(P!=null&&P.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=S}const I=new URL((r=P==null?void 0:P.url)!==null&&r!==void 0?r:window.location.href),A=await j.request({method:"eth_requestAccounts"}).then(M=>M).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!A||A.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const B=u0(A[0]);let G=(i=P==null?void 0:P.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!G){const M=await j.request({method:"eth_chainId"});G=AS(M)}const z={domain:I.host,address:B,statement:C,uri:I.href,version:"1",chainId:G,nonce:(o=P==null?void 0:P.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(u=(l=P==null?void 0:P.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(d=P==null?void 0:P.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(h=P==null?void 0:P.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(p=P==null?void 0:P.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(y=P==null?void 0:P.signInWithEthereum)===null||y===void 0?void 0:y.resources};b=IS(z),k=await j.request({method:"personal_sign",params:[OS(b),B]})}try{const{data:_,error:S}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:k},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:mr});if(S)throw S;if(!_||!_.session||!_.user){const C=new js;return this._returnResult({data:{user:null,session:null},error:C})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:S})}catch(_){if(de(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(e){var r,i,o,l,u,d,h,p,y,v,w,b;let k,_;if("message"in e)k=e.message,_=e.signature;else{const{chain:S,wallet:C,statement:P,options:j}=e;let I;if(xt())if(typeof C=="object")I=C;else{const B=window;if("solana"in B&&typeof B.solana=="object"&&("signIn"in B.solana&&typeof B.solana.signIn=="function"||"signMessage"in B.solana&&typeof B.solana.signMessage=="function"))I=B.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(j!=null&&j.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=C}const A=new URL((r=j==null?void 0:j.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in I&&I.signIn){const B=await I.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j==null?void 0:j.signInWithSolana),{version:"1",domain:A.host,uri:A.href}),P?{statement:P}:null));let G;if(Array.isArray(B)&&B[0]&&typeof B[0]=="object")G=B[0];else if(B&&typeof B=="object"&&"signedMessage"in B&&"signature"in B)G=B;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in G&&"signature"in G&&(typeof G.signedMessage=="string"||G.signedMessage instanceof Uint8Array)&&G.signature instanceof Uint8Array)k=typeof G.signedMessage=="string"?G.signedMessage:new TextDecoder().decode(G.signedMessage),_=G.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in I)||typeof I.signMessage!="function"||!("publicKey"in I)||typeof I!="object"||!I.publicKey||!("toBase58"in I.publicKey)||typeof I.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${A.host} wants you to sign in with your Solana account:`,I.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${A.href}`,`Issued At: ${(o=(i=j==null?void 0:j.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((l=j==null?void 0:j.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((u=j==null?void 0:j.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((d=j==null?void 0:j.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((h=j==null?void 0:j.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((p=j==null?void 0:j.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((v=(y=j==null?void 0:j.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||v===void 0)&&v.length?["Resources",...j.signInWithSolana.resources.map(G=>`- ${G}`)]:[]].join(`
`);const B=await I.signMessage(new TextEncoder().encode(k),"utf8");if(!B||!(B instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=B}}try{const{data:S,error:C}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:Hn(_)},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:mr});if(C)throw C;if(!S||!S.session||!S.user){const P=new js;return this._returnResult({data:{user:null,session:null},error:P})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:C})}catch(S){if(de(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(e){const r=await Un(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{if(!i&&this.flowType==="pkce")throw new eS;const{data:l,error:u}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:mr});if(await wt(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!l||!l.session||!l.user){const d=new js;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:u})}catch(l){if(await wt(this.storage,`${this.storageKey}-code-verifier`),de(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:r,provider:i,token:o,access_token:l,nonce:u}=e,d=await ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:mr}),{data:h,error:p}=d;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!h||!h.session||!h.user){const y=new js;return this._returnResult({data:{user:null,session:null},error:y})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:p})}catch(r){if(de(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,i,o,l,u;try{if("email"in e){const{email:d,options:h}=e;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await Rs(this.storage,this.storageKey));const{error:v}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},create_user:(i=h==null?void 0:h.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:y},redirectTo:h==null?void 0:h.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in e){const{phone:d,options:h}=e,{data:p,error:y}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(o=h==null?void 0:h.data)!==null&&o!==void 0?o:{},create_user:(l=h==null?void 0:h.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},channel:(u=h==null?void 0:h.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:y})}throw new qa("You must provide either an email or phone number.")}catch(d){if(await wt(this.storage,`${this.storageKey}-code-verifier`),de(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(e){var r,i;try{let o,l;"options"in e&&(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo,l=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:u,error:d}=await ye(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:mr});if(d)throw d;if(!u)throw new Error("An error occurred on token verification.");const h=u.session,p=u.user;return h!=null&&h.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(o){if(de(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var r,i,o,l,u;try{let d=null,h=null;this.flowType==="pkce"&&([d,h]=await Rs(this.storage,this.storageKey));const p=await ye(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:h}),headers:this.headers,xform:ES});return!((l=p.data)===null||l===void 0)&&l.url&&xt()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(d){if(await wt(this.storage,`${this.storageKey}-code-verifier`),de(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:i}=e;if(i)throw i;if(!r)throw new qt;const{error:o}=await ye(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(de(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:i,type:o,options:l}=e,{error:u}=await ye(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:i,type:o,options:l}=e,{data:u,error:d}=await ye(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new qa("You must provide either an email or phone number and a type")}catch(r){if(de(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Un(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<Cc:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const u=await Un(this.userStorage,this.storageKey+"-user");u!=null&&u.user?e.user=u.user:e.user=Pc()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=bS(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:vn}):await this._useSession(async r=>{var i,o,l;const{data:u,error:d}=r;if(d)throw d;return!(!((i=u.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new qt}:await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:vn})})}catch(r){if(de(r))return jc(r)&&(await this._removeSession(),await wt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async i=>{const{data:o,error:l}=i;if(l)throw l;if(!o.session)throw new qt;const u=o.session;let d=null,h=null;this.flowType==="pkce"&&e.email!=null&&([d,h]=await Rs(this.storage,this.storageKey));const{data:p,error:y}=await ye(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:h}),jwt:u.access_token,xform:vn});if(y)throw y;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(i){if(await wt(this.storage,`${this.storageKey}-code-verifier`),de(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new qt;const r=Date.now()/1e3;let i=r,o=!0,l=null;const{payload:u}=Ka(e.access_token);if(u.exp&&(i=u.exp,o=i<=r),o){const{data:d,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d)return{data:{user:null,session:null},error:null};l=d}else{const{data:d,error:h}=await this._getUser(e.access_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});l={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(r){if(de(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var i;if(!e){const{data:u,error:d}=r;if(d)throw d;e=(i=u.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new qt;const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(de(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!xt())throw new Ha("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ha(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new $m("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ha("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new $m("No code detected.");const{data:P,error:j}=await this._exchangeCodeForSession(e.code);if(j)throw j;const I=new URL(window.location.href);return I.searchParams.delete("code"),window.history.replaceState(window.history.state,"",I.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:o,access_token:l,refresh_token:u,expires_in:d,expires_at:h,token_type:p}=e;if(!l||!d||!u||!p)throw new Ha("No session defined in URL");const y=Math.round(Date.now()/1e3),v=parseInt(d);let w=y+v;h&&(w=parseInt(h));const b=w-y;b*1e3<=Ls&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${v}s`);const k=w-v;y-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,w,y):y-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,w,y);const{data:_,error:S}=await this._getUser(l);if(S)throw S;const C={provider_token:i,provider_refresh_token:o,access_token:l,expires_in:v,expires_at:w,refresh_token:u,token_type:p,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:e.type},error:null})}catch(i){if(de(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Un(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var i;const{data:o,error:l}=r;if(l&&!jc(l))return this._returnResult({error:l});const u=(i=o.session)===null||i===void 0?void 0:i.access_token;if(u){const{error:d}=await this.admin.signOut(u,e);if(d&&!(X_(d)&&(d.status===404||d.status===401||d.status===403)||jc(d)))return this._returnResult({error:d})}return e!=="others"&&(await this._removeSession(),await wt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=aS(),i={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async r=>{var i,o;try{const{data:{session:l},error:u}=r;if(u)throw u;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,r={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await Rs(this.storage,this.storageKey,!0));try{return await ye(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(l){if(await wt(this.storage,`${this.storageKey}-code-verifier`),de(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:r,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(de(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:i,error:o}=await this._useSession(async l=>{var u,d,h,p,y;const{data:v,error:w}=l;if(w)throw w;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await ye(this.fetch,"GET",b,{headers:this.headers,jwt:(y=(p=v.session)===null||p===void 0?void 0:p.access_token)!==null&&y!==void 0?y:void 0})});if(o)throw o;return xt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),this._returnResult({data:{provider:e.provider,url:i==null?void 0:i.url},error:null})}catch(i){if(de(i))return this._returnResult({data:{provider:e.provider,url:null},error:i});throw i}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var i;try{const{error:o,data:{session:l}}=r;if(o)throw o;const{options:u,provider:d,token:h,access_token:p,nonce:y}=e,v=await ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=l==null?void 0:l.access_token)!==null&&i!==void 0?i:void 0,body:{provider:d,id_token:h,access_token:p,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:mr}),{data:w,error:b}=v;return b?this._returnResult({data:{user:null,session:null},error:b}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new js}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:b}))}catch(o){if(await wt(this.storage,`${this.storageKey}-code-verifier`),de(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var i,o;const{data:l,error:u}=r;if(u)throw u;return await ye(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(de(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const i=Date.now();return await dS(async o=>(o>0&&await cS(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await ye(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:mr})),(o,l)=>{const u=200*Math.pow(2,o);return l&&Rc(l)&&Date.now()+u-i<Ls})}catch(i){if(this._debug(r,"error",i),de(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",i),xt()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,r;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const o=await Un(this.storage,this.storageKey);if(o&&this.userStorage){let u=await Un(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await Ds(this.userStorage,this.storageKey+"-user",u)),o.user=(e=u==null?void 0:u.user)!==null&&e!==void 0?e:Pc()}else if(o&&!o.user&&!o.user){const u=await Un(this.storage,this.storageKey+"-user");u&&(u!=null&&u.user)?(o.user=u.user,await wt(this.storage,this.storageKey+"-user"),await Ds(this.storage,this.storageKey,o)):o.user=Pc()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&await this._removeSession();return}const l=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Cc;if(this._debug(i,`session has${l?"":" not"} expired with margin of ${Cc}s`),l){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),Rc(u)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:d}=await this._getUser(o.access_token);!d&&(u!=null&&u.user)?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(i,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var r,i;if(!e)throw new qt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Tl;const{data:l,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!l.session)throw new qt;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const d={data:l.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(l){if(this._debug(o,"error",l),de(l)){const u={data:null,error:l};return Rc(l)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(u),u}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,r,i=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:r});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,r)}catch(h){l.push(h)}});if(await Promise.all(u),l.length>0){for(let d=0;d<l.length;d+=1)console.error(l[d]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await wt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&await Ds(this.userStorage,this.storageKey+"-user",{user:r.user});const o=Object.assign({},r);delete o.user;const l=Wm(o);await Ds(this.storage,this.storageKey,l)}else{const o=Wm(r);await Ds(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await wt(this.storage,this.storageKey),await wt(this.storage,this.storageKey+"-code-verifier"),await wt(this.storage,this.storageKey+"-user"),this.userStorage&&await wt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&xt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ls);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((i.expires_at*1e3-e)/Ls);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Ls}ms, refresh threshold is ${sd} ticks`),o<=sd&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof l0)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,i){const o=[`provider=${encodeURIComponent(r)}`];if(i!=null&&i.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[l,u]=await Rs(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(d.toString())}if(i!=null&&i.queryParams){const l=new URLSearchParams(i.queryParams);o.push(l.toString())}return i!=null&&i.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var i;const{data:o,error:l}=r;return l?this._returnResult({data:null,error:l}):await ye(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(de(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var i,o;const{data:l,error:u}=r;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:p}=await ye(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(i=l==null?void 0:l.session)===null||i===void 0?void 0:i.access_token});return p?this._returnResult({data:null,error:p}):(e.factorType==="totp"&&h.type==="totp"&&(!((o=h==null?void 0:h.totp)===null||o===void 0)&&o.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(r){if(de(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var i;const{data:o,error:l}=r;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?FS(e.webauthn.credential_response):BS(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:h}=await ye(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:h}))})}catch(r){if(de(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var i;const{data:o,error:l}=r;if(l)return this._returnResult({data:null,error:l});const u=await ye(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});if(u.error)return u;const{data:d}=u;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:$S(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:US(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(de(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:i}=await this._challenge({factorId:e.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:i}=await this.getUser();if(i)return{data:null,error:i};const o={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])o.all.push(l),l.status==="verified"&&o[l.factor_type].push(l);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(e){var r,i,o,l;if(e)try{const{payload:b}=Ka(e);let k=null;b.aal&&(k=b.aal);let _=k;const{data:{user:S},error:C}=await this.getUser(e);if(C)return this._returnResult({data:null,error:C});((i=(r=S==null?void 0:S.factors)===null||r===void 0?void 0:r.filter(I=>I.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(_="aal2");const j=b.amr||[];return{data:{currentLevel:k,nextLevel:_,currentAuthenticationMethods:j},error:null}}catch(b){if(de(b))return this._returnResult({data:null,error:b});throw b}const{data:{session:u},error:d}=await this.getSession();if(d)return this._returnResult({data:null,error:d});if(!u)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=Ka(u.access_token);let p=null;h.aal&&(p=h.aal);let y=p;((l=(o=u.user.factors)===null||o===void 0?void 0:o.filter(b=>b.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(y="aal2");const w=h.amr||[];return{data:{currentLevel:p,nextLevel:y,currentAuthenticationMethods:w},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?await ye(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new qt})})}catch(r){if(de(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async i=>{const{data:{session:o},error:l}=i;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new qt});const u=await ye(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&xt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(i){if(de(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(e,r){try{return await this._useSession(async i=>{const{data:{session:o},error:l}=i;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new qt});const u=await ye(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&xt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(i){if(de(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:i}=e;return i?this._returnResult({data:null,error:i}):r?await ye(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new qt})})}catch(e){if(de(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?(await ye(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new qt})})}catch(r){if(de(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let i=r.keys.find(d=>d.kid===e);if(i)return i;const o=Date.now();if(i=this.jwks.keys.find(d=>d.kid===e),i&&this.jwks_cached_at+Y_>o)return i;const{data:l,error:u}=await ye(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=o,i=l.keys.find(d=>d.kid===e),!i)?null:i}async getClaims(e,r={}){try{let i=e;if(!i){const{data:b,error:k}=await this.getSession();if(k||!b.session)return this._returnResult({data:null,error:k});i=b.session.access_token}const{header:o,payload:l,signature:u,raw:{header:d,payload:h}}=Ka(i);r!=null&&r.allowExpired||vS(l.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!p){const{error:b}=await this.getUser(i);if(b)throw b;return{data:{claims:l,header:o,signature:u},error:null}}const y=wS(o.alg),v=await crypto.subtle.importKey("jwk",p,y,!0,["verify"]);if(!await crypto.subtle.verify(y,v,u,iS(`${d}.${h}`)))throw new ad("Invalid JWT signature");return{data:{claims:l,header:o,signature:u},error:null}}catch(i){if(de(i))return this._returnResult({data:null,error:i});throw i}}}fo.nextInstanceID={};const QS=fo,XS="2.93.3";let Ji="";typeof Deno<"u"?Ji="deno":typeof document<"u"?Ji="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ji="react-native":Ji="node";const ZS={"X-Client-Info":`supabase-js-${Ji}/${XS}`},e1={headers:ZS},t1={schema:"public"},r1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},n1={};function po(t){"@babel/helpers - typeof";return po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},po(t)}function s1(t,e){if(po(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e);if(po(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function i1(t){var e=s1(t,"string");return po(e)=="symbol"?e:e+""}function o1(t,e,r){return(e=i1(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qm(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,i)}return r}function Xe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Qm(Object(r),!0).forEach(function(i){o1(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Qm(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}const a1=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),l1=()=>Headers,u1=(t,e,r)=>{const i=a1(r),o=l1();return async(l,u)=>{var d;const h=(d=await e())!==null&&d!==void 0?d:t;let p=new o(u==null?void 0:u.headers);return p.has("apikey")||p.set("apikey",t),p.has("Authorization")||p.set("Authorization",`Bearer ${h}`),i(l,Xe(Xe({},u),{},{headers:p}))}};function c1(t){return t.endsWith("/")?t:t+"/"}function d1(t,e){var r,i;const{db:o,auth:l,realtime:u,global:d}=t,{db:h,auth:p,realtime:y,global:v}=e,w={db:Xe(Xe({},h),o),auth:Xe(Xe({},p),l),realtime:Xe(Xe({},y),u),storage:{},global:Xe(Xe(Xe({},v),d),{},{headers:Xe(Xe({},(r=v==null?void 0:v.headers)!==null&&r!==void 0?r:{}),(i=d==null?void 0:d.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return t.accessToken?w.accessToken=t.accessToken:delete w.accessToken,w}function h1(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(c1(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var f1=class extends QS{constructor(t){super(t)}},p1=class{constructor(t,e,r){var i,o;this.supabaseUrl=t,this.supabaseKey=e;const l=h1(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:t1,realtime:n1,auth:Xe(Xe({},r1),{},{storageKey:u}),global:e1},h=d1(r??{},d);if(this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=h.global.headers)!==null&&o!==void 0?o:{},h.accessToken)this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(y,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=h.auth)!==null&&p!==void 0?p:{},this.headers,h.global.fetch)}this.fetch=u1(e,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Xe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new Xk(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new q_(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new Kk(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:i}=await t.auth.getSession();return(e=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:l,flowType:u,lock:d,debug:h,throwOnError:p},y,v){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new f1({url:this.authUrl.href,headers:Xe(Xe({},w),y),storageKey:l,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:i,userStorage:o,flowType:u,lock:d,debug:h,throwOnError:p,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new m_(this.realtimeUrl.href,Xe(Xe({},t),{},{params:Xe(Xe({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const m1=(t,e,r)=>new p1(t,e,r);function g1(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}g1()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const y1="https://izfjjiqmowjosarqtptc.supabase.co",v1="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Iml6ZmpqaXFtb3dqb3NhcnF0cHRjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk3MzE4MjAsImV4cCI6MjA4NTMwNzgyMH0.6TRUhf-1memlbB-w8ltpjrEOu5pnP_IJ0h5IqsWZRVI",Ie=m1(y1,v1),zd=T.createContext({});function Wd(t){const e=T.useRef(null);return e.current===null&&(e.current=t()),e.current}const d0=typeof window<"u",h0=d0?T.useLayoutEffect:T.useEffect,Cl=T.createContext(null);function qd(t,e){t.indexOf(e)===-1&&t.push(e)}function Hd(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const Pr=(t,e,r)=>r>e?e:r<t?t:r;let Kd=()=>{};const Wr={},f0=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function p0(t){return typeof t=="object"&&t!==null}const m0=t=>/^0[^.\s]+$/u.test(t);function Gd(t){let e;return()=>(e===void 0&&(e=t()),e)}const sr=t=>t,w1=(t,e)=>r=>e(t(r)),So=(...t)=>t.reduce(w1),mo=(t,e,r)=>{const i=e-t;return i===0?1:(r-t)/i};class Jd{constructor(){this.subscriptions=[]}add(e){return qd(this.subscriptions,e),()=>Hd(this.subscriptions,e)}notify(e,r,i){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,r,i);else for(let l=0;l<o;l++){const u=this.subscriptions[l];u&&u(e,r,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Br=t=>t*1e3,nr=t=>t/1e3;function g0(t,e){return e?t*(1e3/e):0}const y0=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,x1=1e-7,b1=12;function k1(t,e,r,i,o){let l,u,d=0;do u=e+(r-e)/2,l=y0(u,i,o)-t,l>0?r=u:e=u;while(Math.abs(l)>x1&&++d<b1);return u}function Eo(t,e,r,i){if(t===e&&r===i)return sr;const o=l=>k1(l,0,1,t,r);return l=>l===0||l===1?l:y0(o(l),e,i)}const v0=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,w0=t=>e=>1-t(1-e),x0=Eo(.33,1.53,.69,.99),Yd=w0(x0),b0=v0(Yd),k0=t=>(t*=2)<1?.5*Yd(t):.5*(2-Math.pow(2,-10*(t-1))),Qd=t=>1-Math.sin(Math.acos(t)),_0=w0(Qd),S0=v0(Qd),_1=Eo(.42,0,1,1),S1=Eo(0,0,.58,1),E0=Eo(.42,0,.58,1),E1=t=>Array.isArray(t)&&typeof t[0]!="number",T0=t=>Array.isArray(t)&&typeof t[0]=="number",T1={linear:sr,easeIn:_1,easeInOut:E0,easeOut:S1,circIn:Qd,circInOut:S0,circOut:_0,backIn:Yd,backInOut:b0,backOut:x0,anticipate:k0},C1=t=>typeof t=="string",Xm=t=>{if(T0(t)){Kd(t.length===4);const[e,r,i,o]=t;return Eo(e,r,i,o)}else if(C1(t))return T1[t];return t},Ga=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function j1(t,e){let r=new Set,i=new Set,o=!1,l=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function h(y){u.has(y)&&(p.schedule(y),t()),y(d)}const p={schedule:(y,v=!1,w=!1)=>{const k=w&&o?r:i;return v&&u.add(y),k.has(y)||k.add(y),y},cancel:y=>{i.delete(y),u.delete(y)},process:y=>{if(d=y,o){l=!0;return}o=!0,[r,i]=[i,r],r.forEach(h),r.clear(),o=!1,l&&(l=!1,p.process(y))}};return p}const R1=40;function C0(t,e){let r=!1,i=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>r=!0,u=Ga.reduce((j,I)=>(j[I]=j1(l),j),{}),{setup:d,read:h,resolveKeyframes:p,preUpdate:y,update:v,preRender:w,render:b,postRender:k}=u,_=()=>{const j=Wr.useManualTiming?o.timestamp:performance.now();r=!1,Wr.useManualTiming||(o.delta=i?1e3/60:Math.max(Math.min(j-o.timestamp,R1),1)),o.timestamp=j,o.isProcessing=!0,d.process(o),h.process(o),p.process(o),y.process(o),v.process(o),w.process(o),b.process(o),k.process(o),o.isProcessing=!1,r&&e&&(i=!1,t(_))},S=()=>{r=!0,i=!0,o.isProcessing||t(_)};return{schedule:Ga.reduce((j,I)=>{const A=u[I];return j[I]=(B,G=!1,z=!1)=>(r||S(),A.schedule(B,G,z)),j},{}),cancel:j=>{for(let I=0;I<Ga.length;I++)u[Ga[I]].cancel(j)},state:o,steps:u}}const{schedule:Be,cancel:kn,state:bt,steps:Ac}=C0(typeof requestAnimationFrame<"u"?requestAnimationFrame:sr,!0);let el;function P1(){el=void 0}const Nt={now:()=>(el===void 0&&Nt.set(bt.isProcessing||Wr.useManualTiming?bt.timestamp:performance.now()),el),set:t=>{el=t,queueMicrotask(P1)}},j0=t=>e=>typeof e=="string"&&e.startsWith(t),R0=j0("--"),N1=j0("var(--"),Xd=t=>N1(t)?A1.test(t.split("/*")[0].trim()):!1,A1=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Zm(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const Qs={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},go={...Qs,transform:t=>Pr(0,1,t)},Ja={...Qs,default:1},eo=t=>Math.round(t*1e5)/1e5,Zd=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function O1(t){return t==null}const I1=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,eh=(t,e)=>r=>!!(typeof r=="string"&&I1.test(r)&&r.startsWith(t)||e&&!O1(r)&&Object.prototype.hasOwnProperty.call(r,e)),P0=(t,e,r)=>i=>{if(typeof i!="string")return i;const[o,l,u,d]=i.match(Zd);return{[t]:parseFloat(o),[e]:parseFloat(l),[r]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},L1=t=>Pr(0,255,t),Oc={...Qs,transform:t=>Math.round(L1(t))},Kn={test:eh("rgb","red"),parse:P0("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:i=1})=>"rgba("+Oc.transform(t)+", "+Oc.transform(e)+", "+Oc.transform(r)+", "+eo(go.transform(i))+")"};function D1(t){let e="",r="",i="",o="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),i=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),i=t.substring(3,4),o=t.substring(4,5),e+=e,r+=r,i+=i,o+=o),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(i,16),alpha:o?parseInt(o,16)/255:1}}const ld={test:eh("#"),parse:D1,transform:Kn.transform},To=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),gn=To("deg"),Rr=To("%"),ie=To("px"),M1=To("vh"),V1=To("vw"),eg={...Rr,parse:t=>Rr.parse(t)/100,transform:t=>Rr.transform(t*100)},$s={test:eh("hsl","hue"),parse:P0("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:i=1})=>"hsla("+Math.round(t)+", "+Rr.transform(eo(e))+", "+Rr.transform(eo(r))+", "+eo(go.transform(i))+")"},ot={test:t=>Kn.test(t)||ld.test(t)||$s.test(t),parse:t=>Kn.test(t)?Kn.parse(t):$s.test(t)?$s.parse(t):ld.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Kn.transform(t):$s.transform(t),getAnimatableNone:t=>{const e=ot.parse(t);return e.alpha=0,ot.transform(e)}},$1=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function U1(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Zd))==null?void 0:e.length)||0)+(((r=t.match($1))==null?void 0:r.length)||0)>0}const N0="number",A0="color",F1="var",B1="var(",tg="${}",z1=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function yo(t){const e=t.toString(),r=[],i={color:[],number:[],var:[]},o=[];let l=0;const d=e.replace(z1,h=>(ot.test(h)?(i.color.push(l),o.push(A0),r.push(ot.parse(h))):h.startsWith(B1)?(i.var.push(l),o.push(F1),r.push(h)):(i.number.push(l),o.push(N0),r.push(parseFloat(h))),++l,tg)).split(tg);return{values:r,split:d,indexes:i,types:o}}function O0(t){return yo(t).values}function I0(t){const{split:e,types:r}=yo(t),i=e.length;return o=>{let l="";for(let u=0;u<i;u++)if(l+=e[u],o[u]!==void 0){const d=r[u];d===N0?l+=eo(o[u]):d===A0?l+=ot.transform(o[u]):l+=o[u]}return l}}const W1=t=>typeof t=="number"?0:ot.test(t)?ot.getAnimatableNone(t):t;function q1(t){const e=O0(t);return I0(t)(e.map(W1))}const _n={test:U1,parse:O0,createTransformer:I0,getAnimatableNone:q1};function Ic(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function H1({hue:t,saturation:e,lightness:r,alpha:i}){t/=360,e/=100,r/=100;let o=0,l=0,u=0;if(!e)o=l=u=r;else{const d=r<.5?r*(1+e):r+e-r*e,h=2*r-d;o=Ic(h,d,t+1/3),l=Ic(h,d,t),u=Ic(h,d,t-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:i}}function ll(t,e){return r=>r>0?e:t}const Ye=(t,e,r)=>t+(e-t)*r,Lc=(t,e,r)=>{const i=t*t,o=r*(e*e-i)+i;return o<0?0:Math.sqrt(o)},K1=[ld,Kn,$s],G1=t=>K1.find(e=>e.test(t));function rg(t){const e=G1(t);if(!e)return!1;let r=e.parse(t);return e===$s&&(r=H1(r)),r}const ng=(t,e)=>{const r=rg(t),i=rg(e);if(!r||!i)return ll(t,e);const o={...r};return l=>(o.red=Lc(r.red,i.red,l),o.green=Lc(r.green,i.green,l),o.blue=Lc(r.blue,i.blue,l),o.alpha=Ye(r.alpha,i.alpha,l),Kn.transform(o))},ud=new Set(["none","hidden"]);function J1(t,e){return ud.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function Y1(t,e){return r=>Ye(t,e,r)}function th(t){return typeof t=="number"?Y1:typeof t=="string"?Xd(t)?ll:ot.test(t)?ng:Z1:Array.isArray(t)?L0:typeof t=="object"?ot.test(t)?ng:Q1:ll}function L0(t,e){const r=[...t],i=r.length,o=t.map((l,u)=>th(l)(l,e[u]));return l=>{for(let u=0;u<i;u++)r[u]=o[u](l);return r}}function Q1(t,e){const r={...t,...e},i={};for(const o in r)t[o]!==void 0&&e[o]!==void 0&&(i[o]=th(t[o])(t[o],e[o]));return o=>{for(const l in i)r[l]=i[l](o);return r}}function X1(t,e){const r=[],i={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const l=e.types[o],u=t.indexes[l][i[l]],d=t.values[u]??0;r[o]=d,i[l]++}return r}const Z1=(t,e)=>{const r=_n.createTransformer(e),i=yo(t),o=yo(e);return i.indexes.var.length===o.indexes.var.length&&i.indexes.color.length===o.indexes.color.length&&i.indexes.number.length>=o.indexes.number.length?ud.has(t)&&!o.values.length||ud.has(e)&&!i.values.length?J1(t,e):So(L0(X1(i,o),o.values),r):ll(t,e)};function D0(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?Ye(t,e,r):th(t)(t,e)}const eE=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>Be.update(e,r),stop:()=>kn(e),now:()=>bt.isProcessing?bt.timestamp:Nt.now()}},M0=(t,e,r=10)=>{let i="";const o=Math.max(Math.round(e/r),2);for(let l=0;l<o;l++)i+=Math.round(t(l/(o-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},ul=2e4;function rh(t){let e=0;const r=50;let i=t.next(e);for(;!i.done&&e<ul;)e+=r,i=t.next(e);return e>=ul?1/0:e}function tE(t,e=100,r){const i=r({...t,keyframes:[0,e]}),o=Math.min(rh(i),ul);return{type:"keyframes",ease:l=>i.next(o*l).value/e,duration:nr(o)}}const rE=5;function V0(t,e,r){const i=Math.max(e-rE,0);return g0(r-t(i),e-i)}const Ze={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Dc=.001;function nE({duration:t=Ze.duration,bounce:e=Ze.bounce,velocity:r=Ze.velocity,mass:i=Ze.mass}){let o,l,u=1-e;u=Pr(Ze.minDamping,Ze.maxDamping,u),t=Pr(Ze.minDuration,Ze.maxDuration,nr(t)),u<1?(o=p=>{const y=p*u,v=y*t,w=y-r,b=cd(p,u),k=Math.exp(-v);return Dc-w/b*k},l=p=>{const v=p*u*t,w=v*r+r,b=Math.pow(u,2)*Math.pow(p,2)*t,k=Math.exp(-v),_=cd(Math.pow(p,2),u);return(-o(p)+Dc>0?-1:1)*((w-b)*k)/_}):(o=p=>{const y=Math.exp(-p*t),v=(p-r)*t+1;return-Dc+y*v},l=p=>{const y=Math.exp(-p*t),v=(r-p)*(t*t);return y*v});const d=5/t,h=iE(o,l,d);if(t=Br(t),isNaN(h))return{stiffness:Ze.stiffness,damping:Ze.damping,duration:t};{const p=Math.pow(h,2)*i;return{stiffness:p,damping:u*2*Math.sqrt(i*p),duration:t}}}const sE=12;function iE(t,e,r){let i=r;for(let o=1;o<sE;o++)i=i-t(i)/e(i);return i}function cd(t,e){return t*Math.sqrt(1-e*e)}const oE=["duration","bounce"],aE=["stiffness","damping","mass"];function sg(t,e){return e.some(r=>t[r]!==void 0)}function lE(t){let e={velocity:Ze.velocity,stiffness:Ze.stiffness,damping:Ze.damping,mass:Ze.mass,isResolvedFromDuration:!1,...t};if(!sg(t,aE)&&sg(t,oE))if(t.visualDuration){const r=t.visualDuration,i=2*Math.PI/(r*1.2),o=i*i,l=2*Pr(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:Ze.mass,stiffness:o,damping:l}}else{const r=nE(t);e={...e,...r,mass:Ze.mass},e.isResolvedFromDuration=!0}return e}function cl(t=Ze.visualDuration,e=Ze.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:o}=r;const l=r.keyframes[0],u=r.keyframes[r.keyframes.length-1],d={done:!1,value:l},{stiffness:h,damping:p,mass:y,duration:v,velocity:w,isResolvedFromDuration:b}=lE({...r,velocity:-nr(r.velocity||0)}),k=w||0,_=p/(2*Math.sqrt(h*y)),S=u-l,C=nr(Math.sqrt(h/y)),P=Math.abs(S)<5;i||(i=P?Ze.restSpeed.granular:Ze.restSpeed.default),o||(o=P?Ze.restDelta.granular:Ze.restDelta.default);let j;if(_<1){const A=cd(C,_);j=B=>{const G=Math.exp(-_*C*B);return u-G*((k+_*C*S)/A*Math.sin(A*B)+S*Math.cos(A*B))}}else if(_===1)j=A=>u-Math.exp(-C*A)*(S+(k+C*S)*A);else{const A=C*Math.sqrt(_*_-1);j=B=>{const G=Math.exp(-_*C*B),z=Math.min(A*B,300);return u-G*((k+_*C*S)*Math.sinh(z)+A*S*Math.cosh(z))/A}}const I={calculatedDuration:b&&v||null,next:A=>{const B=j(A);if(b)d.done=A>=v;else{let G=A===0?k:0;_<1&&(G=A===0?Br(k):V0(j,A,B));const z=Math.abs(G)<=i,M=Math.abs(u-B)<=o;d.done=z&&M}return d.value=d.done?u:B,d},toString:()=>{const A=Math.min(rh(I),ul),B=M0(G=>I.next(A*G).value,A,30);return A+"ms "+B},toTransition:()=>{}};return I}cl.applyToOptions=t=>{const e=tE(t,100,cl);return t.ease=e.ease,t.duration=Br(e.duration),t.type="keyframes",t};function dd({keyframes:t,velocity:e=0,power:r=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:u,min:d,max:h,restDelta:p=.5,restSpeed:y}){const v=t[0],w={done:!1,value:v},b=z=>d!==void 0&&z<d||h!==void 0&&z>h,k=z=>d===void 0?h:h===void 0||Math.abs(d-z)<Math.abs(h-z)?d:h;let _=r*e;const S=v+_,C=u===void 0?S:u(S);C!==S&&(_=C-v);const P=z=>-_*Math.exp(-z/i),j=z=>C+P(z),I=z=>{const M=P(z),te=j(z);w.done=Math.abs(M)<=p,w.value=w.done?C:te};let A,B;const G=z=>{b(w.value)&&(A=z,B=cl({keyframes:[w.value,k(w.value)],velocity:V0(j,z,w.value),damping:o,stiffness:l,restDelta:p,restSpeed:y}))};return G(0),{calculatedDuration:null,next:z=>{let M=!1;return!B&&A===void 0&&(M=!0,I(z),G(z)),A!==void 0&&z>=A?B.next(z-A):(!M&&I(z),w)}}}function uE(t,e,r){const i=[],o=r||Wr.mix||D0,l=t.length-1;for(let u=0;u<l;u++){let d=o(t[u],t[u+1]);if(e){const h=Array.isArray(e)?e[u]||sr:e;d=So(h,d)}i.push(d)}return i}function cE(t,e,{clamp:r=!0,ease:i,mixer:o}={}){const l=t.length;if(Kd(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=uE(e,i,o),h=d.length,p=y=>{if(u&&y<t[0])return e[0];let v=0;if(h>1)for(;v<t.length-2&&!(y<t[v+1]);v++);const w=mo(t[v],t[v+1],y);return d[v](w)};return r?y=>p(Pr(t[0],t[l-1],y)):p}function dE(t,e){const r=t[t.length-1];for(let i=1;i<=e;i++){const o=mo(0,e,i);t.push(Ye(r,1,o))}}function hE(t){const e=[0];return dE(e,t.length-1),e}function fE(t,e){return t.map(r=>r*e)}function pE(t,e){return t.map(()=>e||E0).splice(0,t.length-1)}function to({duration:t=300,keyframes:e,times:r,ease:i="easeInOut"}){const o=E1(i)?i.map(Xm):Xm(i),l={done:!1,value:e[0]},u=fE(r&&r.length===e.length?r:hE(e),t),d=cE(u,e,{ease:Array.isArray(o)?o:pE(e,o)});return{calculatedDuration:t,next:h=>(l.value=d(h),l.done=h>=t,l)}}const mE=t=>t!==null;function nh(t,{repeat:e,repeatType:r="loop"},i,o=1){const l=t.filter(mE),d=o<0||e&&r!=="loop"&&e%2===1?0:l.length-1;return!d||i===void 0?l[d]:i}const gE={decay:dd,inertia:dd,tween:to,keyframes:to,spring:cl};function $0(t){typeof t.type=="string"&&(t.type=gE[t.type])}class sh{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const yE=t=>t/100;class ih extends sh{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,o;const{motionValue:r}=this.options;r&&r.updatedAt!==Nt.now()&&this.tick(Nt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(i=this.options).onStop)==null||o.call(i))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;$0(e);const{type:r=to,repeat:i=0,repeatDelay:o=0,repeatType:l,velocity:u=0}=e;let{keyframes:d}=e;const h=r||to;h!==to&&typeof d[0]!="number"&&(this.mixKeyframes=So(yE,D0(d[0],d[1])),d=[0,100]);const p=h({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...d].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=rh(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+o,this.totalDuration=this.resolvedDuration*(i+1)-o,this.generator=p}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:i,totalDuration:o,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:d,calculatedDuration:h}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:y,repeat:v,repeatType:w,repeatDelay:b,type:k,onUpdate:_,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const C=this.currentTime-p*(this.playbackSpeed>=0?1:-1),P=this.playbackSpeed>=0?C<0:C>o;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let j=this.currentTime,I=i;if(v){const z=Math.min(this.currentTime,o)/d;let M=Math.floor(z),te=z%1;!te&&z>=1&&(te=1),te===1&&M--,M=Math.min(M,v+1),!!(M%2)&&(w==="reverse"?(te=1-te,b&&(te-=b/d)):w==="mirror"&&(I=u)),j=Pr(0,1,te)*d}const A=P?{done:!1,value:y[0]}:I.next(j);l&&(A.value=l(A.value));let{done:B}=A;!P&&h!==null&&(B=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const G=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&B);return G&&k!==dd&&(A.value=nh(y,this.options,S,this.speed)),_&&_(A.value),G&&this.finish(),A}then(e,r){return this.finished.then(e,r)}get duration(){return nr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+nr(e)}get time(){return nr(this.currentTime)}set time(e){var r;e=Br(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Nt.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=nr(this.currentTime))}play(){var o,l;if(this.isStopped)return;const{driver:e=eE,startTime:r}=this.options;this.driver||(this.driver=e(u=>this.tick(u))),(l=(o=this.options).onPlay)==null||l.call(o);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=r??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Nt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(e=this.options).onComplete)==null||r.call(e)}cancel(){var e,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(e=this.options).onCancel)==null||r.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),e.observe(this)}}function vE(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Gn=t=>t*180/Math.PI,hd=t=>{const e=Gn(Math.atan2(t[1],t[0]));return fd(e)},wE={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:hd,rotateZ:hd,skewX:t=>Gn(Math.atan(t[1])),skewY:t=>Gn(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},fd=t=>(t=t%360,t<0&&(t+=360),t),ig=hd,og=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),ag=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),xE={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:og,scaleY:ag,scale:t=>(og(t)+ag(t))/2,rotateX:t=>fd(Gn(Math.atan2(t[6],t[5]))),rotateY:t=>fd(Gn(Math.atan2(-t[2],t[0]))),rotateZ:ig,rotate:ig,skewX:t=>Gn(Math.atan(t[4])),skewY:t=>Gn(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function pd(t){return t.includes("scale")?1:0}function md(t,e){if(!t||t==="none")return pd(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,o;if(r)i=xE,o=r;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=wE,o=d}if(!o)return pd(e);const l=i[e],u=o[1].split(",").map(kE);return typeof l=="function"?l(u):u[l]}const bE=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return md(r,e)};function kE(t){return parseFloat(t.trim())}const Xs=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Zs=new Set(Xs),lg=t=>t===Qs||t===ie,_E=new Set(["x","y","z"]),SE=Xs.filter(t=>!_E.has(t));function EE(t){const e=[];return SE.forEach(r=>{const i=t.getValue(r);i!==void 0&&(e.push([r,i.get()]),i.set(r.startsWith("scale")?1:0))}),e}const bn={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>md(e,"x"),y:(t,{transform:e})=>md(e,"y")};bn.translateX=bn.x;bn.translateY=bn.y;const Yn=new Set;let gd=!1,yd=!1,vd=!1;function U0(){if(yd){const t=Array.from(Yn).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),r=new Map;e.forEach(i=>{const o=EE(i);o.length&&(r.set(i,o),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const o=r.get(i);o&&o.forEach(([l,u])=>{var d;(d=i.getValue(l))==null||d.set(u)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}yd=!1,gd=!1,Yn.forEach(t=>t.complete(vd)),Yn.clear()}function F0(){Yn.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(yd=!0)})}function TE(){vd=!0,F0(),U0(),vd=!1}class oh{constructor(e,r,i,o,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=i,this.motionValue=o,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Yn.add(this),gd||(gd=!0,Be.read(F0),Be.resolveKeyframes(U0))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:i,motionValue:o}=this;if(e[0]===null){const l=o==null?void 0:o.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&r){const d=i.readValue(r,u);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=u),o&&l===void 0&&o.set(e[0])}vE(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Yn.delete(this)}cancel(){this.state==="scheduled"&&(Yn.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const CE=t=>t.startsWith("--");function jE(t,e,r){CE(e)?t.style.setProperty(e,r):t.style[e]=r}const RE=Gd(()=>window.ScrollTimeline!==void 0),PE={};function NE(t,e){const r=Gd(t);return()=>PE[e]??r()}const B0=NE(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Yi=([t,e,r,i])=>`cubic-bezier(${t}, ${e}, ${r}, ${i})`,ug={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Yi([0,.65,.55,1]),circOut:Yi([.55,0,1,.45]),backIn:Yi([.31,.01,.66,-.59]),backOut:Yi([.33,1.53,.69,.99])};function z0(t,e){if(t)return typeof t=="function"?B0()?M0(t,e):"ease-out":T0(t)?Yi(t):Array.isArray(t)?t.map(r=>z0(r,e)||ug.easeOut):ug[t]}function AE(t,e,r,{delay:i=0,duration:o=300,repeat:l=0,repeatType:u="loop",ease:d="easeOut",times:h}={},p=void 0){const y={[e]:r};h&&(y.offset=h);const v=z0(d,o);Array.isArray(v)&&(y.easing=v);const w={delay:i,duration:o,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return p&&(w.pseudoElement=p),t.animate(y,w)}function W0(t){return typeof t=="function"&&"applyToOptions"in t}function OE({type:t,...e}){return W0(t)&&B0()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class IE extends sh{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:r,name:i,keyframes:o,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:d,onComplete:h}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,Kd(typeof e.type!="string");const p=OE(e);this.animation=AE(r,i,o,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=nh(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):jE(r,i,y),this.animation.cancel()}h==null||h(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,r;(r=(e=this.animation).finish)==null||r.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,r;this.isPseudoElement||(r=(e=this.animation).commitStyles)==null||r.call(e)}get duration(){var r,i;const e=((i=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:i.call(r).duration)||0;return nr(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+nr(e)}get time(){return nr(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Br(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&RE()?(this.animation.timeline=e,sr):r(this)}}const q0={anticipate:k0,backInOut:b0,circInOut:S0};function LE(t){return t in q0}function DE(t){typeof t.ease=="string"&&LE(t.ease)&&(t.ease=q0[t.ease])}const Mc=10;class ME extends IE{constructor(e){DE(e),$0(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:i,onComplete:o,element:l,...u}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const d=new ih({...u,autoplay:!1}),h=Math.max(Mc,Nt.now()-this.startTime),p=Pr(0,Mc,h-Mc);r.setWithVelocity(d.sample(Math.max(0,h-p)).value,d.sample(h).value,p),d.stop()}}const cg=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(_n.test(t)||t==="0")&&!t.startsWith("url("));function VE(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function $E(t,e,r,i){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=cg(o,e),d=cg(l,e);return!u||!d?!1:VE(t)||(r==="spring"||W0(r))&&i}function wd(t){t.duration=0,t.type="keyframes"}const UE=new Set(["opacity","clipPath","filter","transform"]),FE=Gd(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function BE(t){var y;const{motionValue:e,name:r,repeatDelay:i,repeatType:o,damping:l,type:u}=t;if(!(((y=e==null?void 0:e.owner)==null?void 0:y.current)instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:p}=e.owner.getProps();return FE()&&r&&UE.has(r)&&(r!=="transform"||!p)&&!h&&!i&&o!=="mirror"&&l!==0&&u!=="inertia"}const zE=40;class WE extends sh{constructor({autoplay:e=!0,delay:r=0,type:i="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:u="loop",keyframes:d,name:h,motionValue:p,element:y,...v}){var k;super(),this.stop=()=>{var _,S;this._animation&&(this._animation.stop(),(_=this.stopTimeline)==null||_.call(this)),(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=Nt.now();const w={autoplay:e,delay:r,type:i,repeat:o,repeatDelay:l,repeatType:u,name:h,motionValue:p,element:y,...v},b=(y==null?void 0:y.KeyframeResolver)||oh;this.keyframeResolver=new b(d,(_,S,C)=>this.onKeyframesResolved(_,S,w,!C),h,p,y),(k=this.keyframeResolver)==null||k.scheduleResolve()}onKeyframesResolved(e,r,i,o){var S,C;this.keyframeResolver=void 0;const{name:l,type:u,velocity:d,delay:h,isHandoff:p,onUpdate:y}=i;this.resolvedAt=Nt.now(),$E(e,l,u,d)||((Wr.instantAnimations||!h)&&(y==null||y(nh(e,i,r))),e[0]=e[e.length-1],wd(i),i.repeat=0);const w={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>zE?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...i,keyframes:e},b=!p&&BE(w),k=(C=(S=w.motionValue)==null?void 0:S.owner)==null?void 0:C.current,_=b?new ME({...w,element:k}):new ih(w);_.finished.then(()=>{this.notifyFinished()}).catch(sr),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),TE()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}function H0(t,e,r,i=0,o=1){const l=Array.from(t).sort((p,y)=>p.sortNodePosition(y)).indexOf(e),u=t.size,d=(u-1)*i;return typeof r=="function"?r(l,u):o===1?l*i:d-l*i}const qE=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function HE(t){const e=qE.exec(t);if(!e)return[,];const[,r,i,o]=e;return[`--${r??i}`,o]}function K0(t,e,r=1){const[i,o]=HE(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const u=l.trim();return f0(u)?parseFloat(u):u}return Xd(o)?K0(o,e,r+1):o}const KE={type:"spring",stiffness:500,damping:25,restSpeed:10},GE=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),JE={type:"keyframes",duration:.8},YE={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},QE=(t,{keyframes:e})=>e.length>2?JE:Zs.has(t)?t.startsWith("scale")?GE(e[1]):KE:YE,XE=t=>t!==null;function ZE(t,{repeat:e,repeatType:r="loop"},i){const o=t.filter(XE),l=e&&r!=="loop"&&e%2===1?0:o.length-1;return o[l]}function ah(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}function eT({when:t,delay:e,delayChildren:r,staggerChildren:i,staggerDirection:o,repeat:l,repeatType:u,repeatDelay:d,from:h,elapsed:p,...y}){return!!Object.keys(y).length}const lh=(t,e,r,i={},o,l)=>u=>{const d=ah(i,t)||{},h=d.delay||i.delay||0;let{elapsed:p=0}=i;p=p-Br(h);const y={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:w=>{e.set(w),d.onUpdate&&d.onUpdate(w)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:o};eT(d)||Object.assign(y,QE(t,y)),y.duration&&(y.duration=Br(y.duration)),y.repeatDelay&&(y.repeatDelay=Br(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(wd(y),y.delay===0&&(v=!0)),(Wr.instantAnimations||Wr.skipAnimations)&&(v=!0,wd(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,v&&!l&&e.get()!==void 0){const w=ZE(y.keyframes,d);if(w!==void 0){Be.update(()=>{y.onUpdate(w),y.onComplete()});return}}return d.isSync?new ih(y):new WE(y)};function dg(t){const e=[{},{}];return t==null||t.values.forEach((r,i)=>{e[0][i]=r.get(),e[1][i]=r.getVelocity()}),e}function uh(t,e,r,i){if(typeof e=="function"){const[o,l]=dg(i);e=e(r!==void 0?r:t.custom,o,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,l]=dg(i);e=e(r!==void 0?r:t.custom,o,l)}return e}function qs(t,e,r){const i=t.getProps();return uh(i,e,r!==void 0?r:i.custom,t)}const G0=new Set(["width","height","top","left","right","bottom",...Xs]),hg=30,tT=t=>!isNaN(parseFloat(t));class rT{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var l;const o=Nt.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Nt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=tT(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new Jd);const i=this.events[e].add(r);return e==="change"?()=>{i(),Be.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,i){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Nt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>hg)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,hg);return g0(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,r;(e=this.dependents)==null||e.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Hs(t,e){return new rT(t,e)}const xd=t=>Array.isArray(t);function nT(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,Hs(r))}function sT(t){return xd(t)?t[t.length-1]||0:t}function iT(t,e){const r=qs(t,e);let{transitionEnd:i={},transition:o={},...l}=r||{};l={...l,...i};for(const u in l){const d=sT(l[u]);nT(t,u,d)}}const Ct=t=>!!(t&&t.getVelocity);function oT(t){return!!(Ct(t)&&t.add)}function bd(t,e){const r=t.getValue("willChange");if(oT(r))return r.add(e);if(!r&&Wr.WillChange){const i=new Wr.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function ch(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const aT="framerAppearId",J0="data-"+ch(aT);function Y0(t){return t.props[J0]}function lT({protectedKeys:t,needsAnimating:e},r){const i=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,i}function Q0(t,e,{delay:r=0,transitionOverride:i,type:o}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...d}=e;const h=l==null?void 0:l.reduceMotion;i&&(l=i);const p=[],y=o&&t.animationState&&t.animationState.getState()[o];for(const v in d){const w=t.getValue(v,t.latestValues[v]??null),b=d[v];if(b===void 0||y&&lT(y,v))continue;const k={delay:r,...ah(l||{},v)},_=w.get();if(_!==void 0&&!w.isAnimating&&!Array.isArray(b)&&b===_&&!k.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const j=Y0(t);if(j){const I=window.MotionHandoffAnimation(j,v,Be);I!==null&&(k.startTime=I,S=!0)}}bd(t,v);const C=h??t.shouldReduceMotion;w.start(lh(v,w,b,C&&G0.has(v)?{type:!1}:k,t,S));const P=w.animation;P&&p.push(P)}return u&&Promise.all(p).then(()=>{Be.update(()=>{u&&iT(t,u)})}),p}function kd(t,e,r={}){var h;const i=qs(t,e,r.type==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(o=r.transitionOverride);const l=i?()=>Promise.all(Q0(t,i,r)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:y=0,staggerChildren:v,staggerDirection:w}=o;return uT(t,e,p,y,v,w,r)}:()=>Promise.resolve(),{when:d}=o;if(d){const[p,y]=d==="beforeChildren"?[l,u]:[u,l];return p().then(()=>y())}else return Promise.all([l(),u(r.delay)])}function uT(t,e,r=0,i=0,o=0,l=1,u){const d=[];for(const h of t.variantChildren)h.notify("AnimationStart",e),d.push(kd(h,e,{...u,delay:r+(typeof i=="function"?0:i)+H0(t.variantChildren,h,i,o,l)}).then(()=>h.notify("AnimationComplete",e)));return Promise.all(d)}function cT(t,e,r={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const o=e.map(l=>kd(t,l,r));i=Promise.all(o)}else if(typeof e=="string")i=kd(t,e,r);else{const o=typeof e=="function"?qs(t,e,r.custom):e;i=Promise.all(Q0(t,o,r))}return i.then(()=>{t.notify("AnimationComplete",e)})}const dT={test:t=>t==="auto",parse:t=>t},X0=t=>e=>e.test(t),Z0=[Qs,ie,Rr,gn,V1,M1,dT],fg=t=>Z0.find(X0(t));function hT(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||m0(t):!0}const fT=new Set(["brightness","contrast","saturate","opacity"]);function pT(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=r.match(Zd)||[];if(!i)return t;const o=r.replace(i,"");let l=fT.has(e)?1:0;return i!==r&&(l*=100),e+"("+l+o+")"}const mT=/\b([a-z-]*)\(.*?\)/gu,_d={..._n,getAnimatableNone:t=>{const e=t.match(mT);return e?e.map(pT).join(" "):t}},pg={...Qs,transform:Math.round},gT={rotate:gn,rotateX:gn,rotateY:gn,rotateZ:gn,scale:Ja,scaleX:Ja,scaleY:Ja,scaleZ:Ja,skew:gn,skewX:gn,skewY:gn,distance:ie,translateX:ie,translateY:ie,translateZ:ie,x:ie,y:ie,z:ie,perspective:ie,transformPerspective:ie,opacity:go,originX:eg,originY:eg,originZ:ie},dh={borderWidth:ie,borderTopWidth:ie,borderRightWidth:ie,borderBottomWidth:ie,borderLeftWidth:ie,borderRadius:ie,borderTopLeftRadius:ie,borderTopRightRadius:ie,borderBottomRightRadius:ie,borderBottomLeftRadius:ie,width:ie,maxWidth:ie,height:ie,maxHeight:ie,top:ie,right:ie,bottom:ie,left:ie,inset:ie,insetBlock:ie,insetBlockStart:ie,insetBlockEnd:ie,insetInline:ie,insetInlineStart:ie,insetInlineEnd:ie,padding:ie,paddingTop:ie,paddingRight:ie,paddingBottom:ie,paddingLeft:ie,paddingBlock:ie,paddingBlockStart:ie,paddingBlockEnd:ie,paddingInline:ie,paddingInlineStart:ie,paddingInlineEnd:ie,margin:ie,marginTop:ie,marginRight:ie,marginBottom:ie,marginLeft:ie,marginBlock:ie,marginBlockStart:ie,marginBlockEnd:ie,marginInline:ie,marginInlineStart:ie,marginInlineEnd:ie,fontSize:ie,backgroundPositionX:ie,backgroundPositionY:ie,...gT,zIndex:pg,fillOpacity:go,strokeOpacity:go,numOctaves:pg},yT={...dh,color:ot,backgroundColor:ot,outlineColor:ot,fill:ot,stroke:ot,borderColor:ot,borderTopColor:ot,borderRightColor:ot,borderBottomColor:ot,borderLeftColor:ot,filter:_d,WebkitFilter:_d},ev=t=>yT[t];function tv(t,e){let r=ev(t);return r!==_d&&(r=_n),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const vT=new Set(["auto","none","0"]);function wT(t,e,r){let i=0,o;for(;i<t.length&&!o;){const l=t[i];typeof l=="string"&&!vT.has(l)&&yo(l).values.length&&(o=t[i]),i++}if(o&&r)for(const l of e)t[l]=tv(r,o)}class xT extends oh{constructor(e,r,i,o,l){super(e,r,i,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:i}=this;if(!r||!r.current)return;super.readKeyframes();for(let y=0;y<e.length;y++){let v=e[y];if(typeof v=="string"&&(v=v.trim(),Xd(v))){const w=K0(v,r.current);w!==void 0&&(e[y]=w),y===e.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!G0.has(i)||e.length!==2)return;const[o,l]=e,u=fg(o),d=fg(l),h=Zm(o),p=Zm(l);if(h!==p&&bn[i]){this.needsMeasurement=!0;return}if(u!==d)if(lg(u)&&lg(d))for(let y=0;y<e.length;y++){const v=e[y];typeof v=="string"&&(e[y]=parseFloat(v))}else bn[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,i=[];for(let o=0;o<e.length;o++)(e[o]===null||hT(e[o]))&&i.push(o);i.length&&wT(e,i,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=bn[i](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const o=r[r.length-1];o!==void 0&&e.getValue(i,o).jump(o,!1)}measureEndState(){var d;const{element:e,name:r,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const o=e.getValue(r);o&&o.jump(this.measuredOrigin,!1);const l=i.length-1,u=i[l];i[l]=bn[r](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([h,p])=>{e.getValue(h).set(p)}),this.resolveNoneKeyframes()}}function bT(t,e,r){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const o=(r==null?void 0:r[t])??i.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t).filter(i=>i!=null)}const rv=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Sd(t){return p0(t)&&"offsetHeight"in t}const{schedule:hh}=C0(queueMicrotask,!1),gr={x:!1,y:!1};function nv(){return gr.x||gr.y}function kT(t){return t==="x"||t==="y"?gr[t]?null:(gr[t]=!0,()=>{gr[t]=!1}):gr.x||gr.y?null:(gr.x=gr.y=!0,()=>{gr.x=gr.y=!1})}function sv(t,e){const r=bT(t),i=new AbortController,o={passive:!0,...e,signal:i.signal};return[r,o,()=>i.abort()]}function mg(t){return!(t.pointerType==="touch"||nv())}function _T(t,e,r={}){const[i,o,l]=sv(t,r),u=d=>{if(!mg(d))return;const{target:h}=d,p=e(h,d);if(typeof p!="function"||!h)return;const y=v=>{mg(v)&&(p(v),h.removeEventListener("pointerleave",y))};h.addEventListener("pointerleave",y,o)};return i.forEach(d=>{d.addEventListener("pointerenter",u,o)}),l}const iv=(t,e)=>e?t===e?!0:iv(t,e.parentElement):!1,fh=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,ST=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ov(t){return ST.has(t.tagName)||t.isContentEditable===!0}const tl=new WeakSet;function gg(t){return e=>{e.key==="Enter"&&t(e)}}function Vc(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const ET=(t,e)=>{const r=t.currentTarget;if(!r)return;const i=gg(()=>{if(tl.has(r))return;Vc(r,"down");const o=gg(()=>{Vc(r,"up")}),l=()=>Vc(r,"cancel");r.addEventListener("keyup",o,e),r.addEventListener("blur",l,e)});r.addEventListener("keydown",i,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",i),e)};function yg(t){return fh(t)&&!nv()}function TT(t,e,r={}){const[i,o,l]=sv(t,r),u=d=>{const h=d.currentTarget;if(!yg(d))return;tl.add(h);const p=e(h,d),y=(b,k)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",w),tl.has(h)&&tl.delete(h),yg(b)&&typeof p=="function"&&p(b,{success:k})},v=b=>{y(b,h===window||h===document||r.useGlobalTarget||iv(h,b.target))},w=b=>{y(b,!1)};window.addEventListener("pointerup",v,o),window.addEventListener("pointercancel",w,o)};return i.forEach(d=>{(r.useGlobalTarget?window:d).addEventListener("pointerdown",u,o),Sd(d)&&(d.addEventListener("focus",p=>ET(p,o)),!ov(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function av(t){return p0(t)&&"ownerSVGElement"in t}function CT(t){return av(t)&&t.tagName==="svg"}const jT=[...Z0,ot,_n],RT=t=>jT.find(X0(t)),vg=()=>({translate:0,scale:1,origin:0,originPoint:0}),Us=()=>({x:vg(),y:vg()}),wg=()=>({min:0,max:0}),ht=()=>({x:wg(),y:wg()}),Ed={current:null},lv={current:!1},PT=typeof window<"u";function NT(){if(lv.current=!0,!!PT)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ed.current=t.matches;t.addEventListener("change",e),e()}else Ed.current=!1}const AT=new WeakMap;function jl(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function vo(t){return typeof t=="string"||Array.isArray(t)}const ph=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],mh=["initial",...ph];function Rl(t){return jl(t.animate)||mh.some(e=>vo(t[e]))}function uv(t){return!!(Rl(t)||t.variants)}function OT(t,e,r){for(const i in e){const o=e[i],l=r[i];if(Ct(o))t.addValue(i,o);else if(Ct(l))t.addValue(i,Hs(o,{owner:t}));else if(l!==o)if(t.hasValue(i)){const u=t.getValue(i);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=t.getStaticValue(i);t.addValue(i,Hs(u!==void 0?u:o,{owner:t}))}}for(const i in r)e[i]===void 0&&t.removeValue(i);return e}const xg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let dl={};function cv(t){dl=t}function IT(){return dl}class LT{scrapeMotionValuesFromProps(e,r,i){return{}}constructor({parent:e,props:r,presenceContext:i,reducedMotionConfig:o,blockInitialAnimation:l,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=oh,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Nt.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,Be.render(this.render,!1,!0))};const{latestValues:h,renderState:p}=u;this.latestValues=h,this.baseTarget={...h},this.initialValues=r.initial?{...h}:{},this.renderState=p,this.parent=e,this.props=r,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=Rl(r),this.isVariantNode=uv(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(r,{},this);for(const w in v){const b=v[w];h[w]!==void 0&&Ct(b)&&b.set(h[w])}}mount(e){var r;this.current=e,AT.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,o)=>this.bindToMotionValue(o,i)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(lv.current||NT(),this.shouldReduceMotion=Ed.current),(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),kn(this.notifyUpdate),kn(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const i=this.features[r];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Zs.has(e);i&&this.onBindTransform&&this.onBindTransform();const o=r.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Be.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{o(),l&&l(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in dl){const r=dl[e];if(!r)continue;const{isEnabled:i,Feature:o}=r;if(!this.features[e]&&o&&i(this.props)&&(this.features[e]=new o(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ht()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let i=0;i<xg.length;i++){const o=xg[i];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,u=e[l];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=OT(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const i=this.values.get(e);r!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&r!==void 0&&(i=Hs(r===null?void 0:r,{owner:this}),this.addValue(e,i)),i}readValue(e,r){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(f0(i)||m0(i))?i=parseFloat(i):!RT(i)&&_n.test(r)&&(i=tv(e,r)),this.setBaseTarget(e,Ct(i)?i.get():i)),Ct(i)?i.get():i}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var l;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const u=uh(this.props,r,(l=this.presenceContext)==null?void 0:l.custom);u&&(i=u[e])}if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Ct(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new Jd),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){hh.render(this.render)}}class dv extends LT{constructor(){super(...arguments),this.KeyframeResolver=xT}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){const i=e.style;return i?i[r]:void 0}removeValueFromRenderState(e,{vars:r,style:i}){delete r[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ct(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}class Sn{constructor(e){this.isMounted=!1,this.node=e}update(){}}function hv({top:t,left:e,right:r,bottom:i}){return{x:{min:e,max:r},y:{min:t,max:i}}}function DT({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function MT(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:i.y,right:i.x}}function $c(t){return t===void 0||t===1}function Td({scale:t,scaleX:e,scaleY:r}){return!$c(t)||!$c(e)||!$c(r)}function zn(t){return Td(t)||fv(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function fv(t){return bg(t.x)||bg(t.y)}function bg(t){return t&&t!=="0%"}function hl(t,e,r){const i=t-r,o=e*i;return r+o}function kg(t,e,r,i,o){return o!==void 0&&(t=hl(t,o,i)),hl(t,r,i)+e}function Cd(t,e=0,r=1,i,o){t.min=kg(t.min,e,r,i,o),t.max=kg(t.max,e,r,i,o)}function pv(t,{x:e,y:r}){Cd(t.x,e.translate,e.scale,e.originPoint),Cd(t.y,r.translate,r.scale,r.originPoint)}const _g=.999999999999,Sg=1.0000000000001;function VT(t,e,r,i=!1){const o=r.length;if(!o)return;e.x=e.y=1;let l,u;for(let d=0;d<o;d++){l=r[d],u=l.projectionDelta;const{visualElement:h}=l.options;h&&h.props.style&&h.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Bs(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,pv(t,u)),i&&zn(l.latestValues)&&Bs(t,l.latestValues))}e.x<Sg&&e.x>_g&&(e.x=1),e.y<Sg&&e.y>_g&&(e.y=1)}function Fs(t,e){t.min=t.min+e,t.max=t.max+e}function Eg(t,e,r,i,o=.5){const l=Ye(t.min,t.max,o);Cd(t,e,r,l,i)}function Bs(t,e){Eg(t.x,e.x,e.scaleX,e.scale,e.originX),Eg(t.y,e.y,e.scaleY,e.scale,e.originY)}function mv(t,e){return hv(MT(t.getBoundingClientRect(),e))}function $T(t,e,r){const i=mv(t,r),{scroll:o}=e;return o&&(Fs(i.x,o.offset.x),Fs(i.y,o.offset.y)),i}const UT={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},FT=Xs.length;function BT(t,e,r){let i="",o=!0;for(let l=0;l<FT;l++){const u=Xs[l],d=t[u];if(d===void 0)continue;let h=!0;if(typeof d=="number")h=d===(u.startsWith("scale")?1:0);else{const p=parseFloat(d);h=u.startsWith("scale")?p===1:p===0}if(!h||r){const p=rv(d,dh[u]);if(!h){o=!1;const y=UT[u]||u;i+=`${y}(${p}) `}r&&(e[u]=p)}}return i=i.trim(),r?i=r(e,o?"":i):o&&(i="none"),i}function gh(t,e,r){const{style:i,vars:o,transformOrigin:l}=t;let u=!1,d=!1;for(const h in e){const p=e[h];if(Zs.has(h)){u=!0;continue}else if(R0(h)){o[h]=p;continue}else{const y=rv(p,dh[h]);h.startsWith("origin")?(d=!0,l[h]=y):i[h]=y}}if(e.transform||(u||r?i.transform=BT(e,t.transform,r):i.transform&&(i.transform="none")),d){const{originX:h="50%",originY:p="50%",originZ:y=0}=l;i.transformOrigin=`${h} ${p} ${y}`}}function gv(t,{style:e,vars:r},i,o){const l=t.style;let u;for(u in e)l[u]=e[u];o==null||o.applyProjectionStyles(l,i);for(u in r)l.setProperty(u,r[u])}function Tg(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ki={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ie.test(t))t=parseFloat(t);else return t;const r=Tg(t,e.target.x),i=Tg(t,e.target.y);return`${r}% ${i}%`}},zT={correct:(t,{treeScale:e,projectionDelta:r})=>{const i=t,o=_n.parse(t);if(o.length>5)return i;const l=_n.createTransformer(t),u=typeof o[0]!="number"?1:0,d=r.x.scale*e.x,h=r.y.scale*e.y;o[0+u]/=d,o[1+u]/=h;const p=Ye(d,h,.5);return typeof o[2+u]=="number"&&(o[2+u]/=p),typeof o[3+u]=="number"&&(o[3+u]/=p),l(o)}},jd={borderRadius:{...Ki,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ki,borderTopRightRadius:Ki,borderBottomLeftRadius:Ki,borderBottomRightRadius:Ki,boxShadow:zT};function yv(t,{layout:e,layoutId:r}){return Zs.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!jd[t]||t==="opacity")}function yh(t,e,r){var u;const i=t.style,o=e==null?void 0:e.style,l={};if(!i)return l;for(const d in i)(Ct(i[d])||o&&Ct(o[d])||yv(d,t)||((u=r==null?void 0:r.getValue(d))==null?void 0:u.liveStyle)!==void 0)&&(l[d]=i[d]);return l}function WT(t){return window.getComputedStyle(t)}class qT extends dv{constructor(){super(...arguments),this.type="html",this.renderInstance=gv}readValueFromInstance(e,r){var i;if(Zs.has(r))return(i=this.projection)!=null&&i.isProjecting?pd(r):bE(e,r);{const o=WT(e),l=(R0(r)?o.getPropertyValue(r):o[r])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:r}){return mv(e,r)}build(e,r,i){gh(e,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,r,i){return yh(e,r,i)}}const HT={offset:"stroke-dashoffset",array:"stroke-dasharray"},KT={offset:"strokeDashoffset",array:"strokeDasharray"};function GT(t,e,r=1,i=0,o=!0){t.pathLength=1;const l=o?HT:KT;t[l.offset]=`${-i}`,t[l.array]=`${e} ${r}`}const JT=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function vv(t,{attrX:e,attrY:r,attrScale:i,pathLength:o,pathSpacing:l=1,pathOffset:u=0,...d},h,p,y){if(gh(t,d,p),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:w}=t;v.transform&&(w.transform=v.transform,delete v.transform),(w.transform||v.transformOrigin)&&(w.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),w.transform&&(w.transformBox=(y==null?void 0:y.transformBox)??"fill-box",delete v.transformBox);for(const b of JT)v[b]!==void 0&&(w[b]=v[b],delete v[b]);e!==void 0&&(v.x=e),r!==void 0&&(v.y=r),i!==void 0&&(v.scale=i),o!==void 0&&GT(v,o,l,u,!1)}const wv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),xv=t=>typeof t=="string"&&t.toLowerCase()==="svg";function YT(t,e,r,i){gv(t,e,void 0,i);for(const o in e.attrs)t.setAttribute(wv.has(o)?o:ch(o),e.attrs[o])}function bv(t,e,r){const i=yh(t,e,r);for(const o in t)if(Ct(t[o])||Ct(e[o])){const l=Xs.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;i[l]=t[o]}return i}class QT extends dv{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ht}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Zs.has(r)){const i=ev(r);return i&&i.default||0}return r=wv.has(r)?r:ch(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,i){return bv(e,r,i)}build(e,r,i){vv(e,r,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,r,i,o){YT(e,r,i,o)}mount(e){this.isSVGTag=xv(e.tagName),super.mount(e)}}const XT=mh.length;function kv(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?kv(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<XT;r++){const i=mh[r],o=t.props[i];(vo(o)||o===!1)&&(e[i]=o)}return e}function _v(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let i=0;i<r;i++)if(e[i]!==t[i])return!1;return!0}const ZT=[...ph].reverse(),eC=ph.length;function tC(t){return e=>Promise.all(e.map(({animation:r,options:i})=>cT(t,r,i)))}function rC(t){let e=tC(t),r=Cg(),i=!0;const o=h=>(p,y)=>{var w;const v=qs(t,y,h==="exit"?(w=t.presenceContext)==null?void 0:w.custom:void 0);if(v){const{transition:b,transitionEnd:k,..._}=v;p={...p,..._,...k}}return p};function l(h){e=h(t)}function u(h){const{props:p}=t,y=kv(t.parent)||{},v=[],w=new Set;let b={},k=1/0;for(let S=0;S<eC;S++){const C=ZT[S],P=r[C],j=p[C]!==void 0?p[C]:y[C],I=vo(j),A=C===h?P.isActive:null;A===!1&&(k=S);let B=j===y[C]&&j!==p[C]&&I;if(B&&i&&t.manuallyAnimateOnMount&&(B=!1),P.protectedKeys={...b},!P.isActive&&A===null||!j&&!P.prevProp||jl(j)||typeof j=="boolean")continue;const G=nC(P.prevProp,j);let z=G||C===h&&P.isActive&&!B&&I||S>k&&I,M=!1;const te=Array.isArray(j)?j:[j];let Ne=te.reduce(o(C),{});A===!1&&(Ne={});const{prevResolvedValues:ce={}}=P,fe={...ce,...Ne},ke=pe=>{z=!0,w.has(pe)&&(M=!0,w.delete(pe)),P.needsAnimating[pe]=!0;const J=t.getValue(pe);J&&(J.liveStyle=!1)};for(const pe in fe){const J=Ne[pe],oe=ce[pe];if(b.hasOwnProperty(pe))continue;let Z=!1;xd(J)&&xd(oe)?Z=!_v(J,oe):Z=J!==oe,Z?J!=null?ke(pe):w.add(pe):J!==void 0&&w.has(pe)?ke(pe):P.protectedKeys[pe]=!0}P.prevProp=j,P.prevResolvedValues=Ne,P.isActive&&(b={...b,...Ne}),i&&t.blockInitialAnimation&&(z=!1);const Ae=B&&G;z&&(!Ae||M)&&v.push(...te.map(pe=>{const J={type:C};if(typeof pe=="string"&&i&&!Ae&&t.manuallyAnimateOnMount&&t.parent){const{parent:oe}=t,Z=qs(oe,pe);if(oe.enteringChildren&&Z){const{delayChildren:L}=Z.transition||{};J.delay=H0(oe.enteringChildren,t,L)}}return{animation:pe,options:J}}))}if(w.size){const S={};if(typeof p.initial!="boolean"){const C=qs(t,Array.isArray(p.initial)?p.initial[0]:p.initial);C&&C.transition&&(S.transition=C.transition)}w.forEach(C=>{const P=t.getBaseTarget(C),j=t.getValue(C);j&&(j.liveStyle=!0),S[C]=P??null}),v.push({animation:S})}let _=!!v.length;return i&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(_=!1),i=!1,_?e(v):Promise.resolve()}function d(h,p){var v;if(r[h].isActive===p)return Promise.resolve();(v=t.variantChildren)==null||v.forEach(w=>{var b;return(b=w.animationState)==null?void 0:b.setActive(h,p)}),r[h].isActive=p;const y=u(h);for(const w in r)r[w].protectedKeys={};return y}return{animateChanges:u,setActive:d,setAnimateFunction:l,getState:()=>r,reset:()=>{r=Cg()}}}function nC(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!_v(e,t):!1}function Fn(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Cg(){return{animate:Fn(!0),whileInView:Fn(),whileHover:Fn(),whileTap:Fn(),whileDrag:Fn(),whileFocus:Fn(),exit:Fn()}}function jg(t,e){t.min=e.min,t.max=e.max}function fr(t,e){jg(t.x,e.x),jg(t.y,e.y)}function Rg(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const Sv=1e-4,sC=1-Sv,iC=1+Sv,Ev=.01,oC=0-Ev,aC=0+Ev;function At(t){return t.max-t.min}function lC(t,e,r){return Math.abs(t-e)<=r}function Pg(t,e,r,i=.5){t.origin=i,t.originPoint=Ye(e.min,e.max,t.origin),t.scale=At(r)/At(e),t.translate=Ye(r.min,r.max,t.origin)-t.originPoint,(t.scale>=sC&&t.scale<=iC||isNaN(t.scale))&&(t.scale=1),(t.translate>=oC&&t.translate<=aC||isNaN(t.translate))&&(t.translate=0)}function ro(t,e,r,i){Pg(t.x,e.x,r.x,i?i.originX:void 0),Pg(t.y,e.y,r.y,i?i.originY:void 0)}function Ng(t,e,r){t.min=r.min+e.min,t.max=t.min+At(e)}function uC(t,e,r){Ng(t.x,e.x,r.x),Ng(t.y,e.y,r.y)}function Ag(t,e,r){t.min=e.min-r.min,t.max=t.min+At(e)}function fl(t,e,r){Ag(t.x,e.x,r.x),Ag(t.y,e.y,r.y)}function Og(t,e,r,i,o){return t-=e,t=hl(t,1/r,i),o!==void 0&&(t=hl(t,1/o,i)),t}function cC(t,e=0,r=1,i=.5,o,l=t,u=t){if(Rr.test(e)&&(e=parseFloat(e),e=Ye(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=Ye(l.min,l.max,i);t===l&&(d-=e),t.min=Og(t.min,e,r,d,o),t.max=Og(t.max,e,r,d,o)}function Ig(t,e,[r,i,o],l,u){cC(t,e[r],e[i],e[o],e.scale,l,u)}const dC=["x","scaleX","originX"],hC=["y","scaleY","originY"];function Lg(t,e,r,i){Ig(t.x,e,dC,r?r.x:void 0,i?i.x:void 0),Ig(t.y,e,hC,r?r.y:void 0,i?i.y:void 0)}function Dg(t){return t.translate===0&&t.scale===1}function Tv(t){return Dg(t.x)&&Dg(t.y)}function Mg(t,e){return t.min===e.min&&t.max===e.max}function fC(t,e){return Mg(t.x,e.x)&&Mg(t.y,e.y)}function Vg(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Cv(t,e){return Vg(t.x,e.x)&&Vg(t.y,e.y)}function $g(t){return At(t.x)/At(t.y)}function Ug(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function tr(t){return[t("x"),t("y")]}function pC(t,e,r){let i="";const o=t.x.translate/e.x,l=t.y.translate/e.y,u=(r==null?void 0:r.z)||0;if((o||l||u)&&(i=`translate3d(${o}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:p,rotate:y,rotateX:v,rotateY:w,skewX:b,skewY:k}=r;p&&(i=`perspective(${p}px) ${i}`),y&&(i+=`rotate(${y}deg) `),v&&(i+=`rotateX(${v}deg) `),w&&(i+=`rotateY(${w}deg) `),b&&(i+=`skewX(${b}deg) `),k&&(i+=`skewY(${k}deg) `)}const d=t.x.scale*e.x,h=t.y.scale*e.y;return(d!==1||h!==1)&&(i+=`scale(${d}, ${h})`),i||"none"}const jv=["TopLeft","TopRight","BottomLeft","BottomRight"],mC=jv.length,Fg=t=>typeof t=="string"?parseFloat(t):t,Bg=t=>typeof t=="number"||ie.test(t);function gC(t,e,r,i,o,l){o?(t.opacity=Ye(0,r.opacity??1,yC(i)),t.opacityExit=Ye(e.opacity??1,0,vC(i))):l&&(t.opacity=Ye(e.opacity??1,r.opacity??1,i));for(let u=0;u<mC;u++){const d=`border${jv[u]}Radius`;let h=zg(e,d),p=zg(r,d);if(h===void 0&&p===void 0)continue;h||(h=0),p||(p=0),h===0||p===0||Bg(h)===Bg(p)?(t[d]=Math.max(Ye(Fg(h),Fg(p),i),0),(Rr.test(p)||Rr.test(h))&&(t[d]+="%")):t[d]=p}(e.rotate||r.rotate)&&(t.rotate=Ye(e.rotate||0,r.rotate||0,i))}function zg(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const yC=Rv(0,.5,_0),vC=Rv(.5,.95,sr);function Rv(t,e,r){return i=>i<t?0:i>e?1:r(mo(t,e,i))}function wC(t,e,r){const i=Ct(t)?t:Hs(t);return i.start(lh("",i,e,r)),i.animation}function wo(t,e,r,i={passive:!0}){return t.addEventListener(e,r,i),()=>t.removeEventListener(e,r)}const xC=(t,e)=>t.depth-e.depth;class bC{constructor(){this.children=[],this.isDirty=!1}add(e){qd(this.children,e),this.isDirty=!0}remove(e){Hd(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(xC),this.isDirty=!1,this.children.forEach(e)}}function kC(t,e){const r=Nt.now(),i=({timestamp:o})=>{const l=o-r;l>=e&&(kn(i),t(l-e))};return Be.setup(i,!0),()=>kn(i)}function rl(t){return Ct(t)?t.get():t}class _C{constructor(){this.members=[]}add(e){qd(this.members,e),e.scheduleRender()}remove(e){if(Hd(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(o=>e===o);if(r===0)return!1;let i;for(let o=r;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,r){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender();const o=i.options.layoutDependency,l=e.options.layoutDependency;o!==void 0&&l!==void 0&&o===l||(e.resumeFrom=i,r&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0));const{crossfade:d}=e.options;d===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:i}=e;r.onExitComplete&&r.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const nl={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Uc=["","X","Y","Z"],SC=1e3;let EC=0;function Fc(t,e,r,i){const{latestValues:o}=e;o[t]&&(r[t]=o[t],e.setStaticValue(t,0),i&&(i[t]=0))}function Pv(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=Y0(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:o,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",Be,!(o||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&Pv(i)}function Nv({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:i,resetTransform:o}){return class{constructor(u={},d=e==null?void 0:e()){this.id=EC++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(jC),this.nodes.forEach(AC),this.nodes.forEach(OC),this.nodes.forEach(RC)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new bC)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Jd),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const h=this.eventHandlers.get(u);h&&h.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=av(u)&&!CT(u),this.instance=u;const{layoutId:d,layout:h,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||d)&&(this.isLayoutDirty=!0),t){let y,v=0;const w=()=>this.root.updateBlockedByResize=!1;Be.read(()=>{v=window.innerWidth}),t(u,()=>{const b=window.innerWidth;b!==v&&(v=b,this.root.updateBlockedByResize=!0,y&&y(),y=kC(w,250),nl.hasAnimatedSinceResize&&(nl.hasAnimatedSinceResize=!1,this.nodes.forEach(Hg)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||h)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:w,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||p.getDefaultTransition()||VC,{onLayoutAnimationStart:_,onLayoutAnimationComplete:S}=p.getProps(),C=!this.targetLayout||!Cv(this.targetLayout,b),P=!v&&w;if(this.options.layoutRoot||this.resumeFrom||P||v&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const j={...ah(k,"layout"),onPlay:_,onComplete:S};(p.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j),this.setAnimationOrigin(y,P)}else v||Hg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),kn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(IC),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Pv(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:d,layout:h}=this.options;if(d===void 0&&!h)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Wg);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(qg);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(NC),this.nodes.forEach(TC),this.nodes.forEach(CC)):this.nodes.forEach(qg),this.clearAllSnapshots();const d=Nt.now();bt.delta=Pr(0,1e3/60,d-bt.timestamp),bt.timestamp=d,bt.isProcessing=!0,Ac.update.process(bt),Ac.preRender.process(bt),Ac.render.process(bt),bt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,hh.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(PC),this.sharedNodes.forEach(LC)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Be.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Be.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!At(this.snapshot.measuredBox.x)&&!At(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ht(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d&&this.instance){const h=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:h,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!Tv(this.projectionDelta),h=this.getTransformTemplate(),p=h?h(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;u&&this.instance&&(d||zn(this.latestValues)||y)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let h=this.removeElementScroll(d);return u&&(h=this.removeTransform(h)),$C(h),{animationId:this.root.animationId,measuredBox:d,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:u}=this.options;if(!u)return ht();const d=u.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(UC))){const{scroll:y}=this.root;y&&(Fs(d.x,y.offset.x),Fs(d.y,y.offset.y))}return d}removeElementScroll(u){var h;const d=ht();if(fr(d,u),(h=this.scroll)!=null&&h.wasRoot)return d;for(let p=0;p<this.path.length;p++){const y=this.path[p],{scroll:v,options:w}=y;y!==this.root&&v&&w.layoutScroll&&(v.wasRoot&&fr(d,u),Fs(d.x,v.offset.x),Fs(d.y,v.offset.y))}return d}applyTransform(u,d=!1){const h=ht();fr(h,u);for(let p=0;p<this.path.length;p++){const y=this.path[p];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Bs(h,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),zn(y.latestValues)&&Bs(h,y.latestValues)}return zn(this.latestValues)&&Bs(h,this.latestValues),h}removeTransform(u){const d=ht();fr(d,u);for(let h=0;h<this.path.length;h++){const p=this.path[h];if(!p.instance||!zn(p.latestValues))continue;Td(p.latestValues)&&p.updateSnapshot();const y=ht(),v=p.measurePageBox();fr(y,v),Lg(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return zn(this.latestValues)&&Lg(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==bt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var b;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==d;if(!(u||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!this.layout||!(y||v))return;this.resolvedRelativeTargetAt=bt.timestamp;const w=this.getClosestProjectingParent();w&&this.linkedParentVersion!==w.layoutVersion&&!w.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(w&&w.layout?this.createRelativeTarget(w,this.layout.layoutBox,w.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ht(),this.targetWithTransforms=ht()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),uC(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):fr(this.target,this.layout.layoutBox),pv(this.target,this.targetDelta)):fr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?this.createRelativeTarget(w,this.target,w.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Td(this.parent.latestValues)||fv(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,d,h){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ht(),this.relativeTargetOrigin=ht(),fl(this.relativeTargetOrigin,d,h),fr(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var k;const u=this.getLead(),d=!!this.resumingFrom||this!==u;let h=!0;if((this.isProjectionDirty||(k=this.parent)!=null&&k.isProjectionDirty)&&(h=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===bt.timestamp&&(h=!1),h)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;fr(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,w=this.treeScale.y;VT(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=ht());const{target:b}=u;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Rg(this.prevProjectionDelta.x,this.projectionDelta.x),Rg(this.prevProjectionDelta.y,this.projectionDelta.y)),ro(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==w||!Ug(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ug(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Us(),this.projectionDelta=Us(),this.projectionDeltaWithTransform=Us()}setAnimationOrigin(u,d=!1){const h=this.snapshot,p=h?h.latestValues:{},y={...this.latestValues},v=Us();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const w=ht(),b=h?h.source:void 0,k=this.layout?this.layout.source:void 0,_=b!==k,S=this.getStack(),C=!S||S.members.length<=1,P=!!(_&&!C&&this.options.crossfade===!0&&!this.path.some(MC));this.animationProgress=0;let j;this.mixTargetDelta=I=>{const A=I/1e3;Kg(v.x,u.x,A),Kg(v.y,u.y,A),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(fl(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),DC(this.relativeTarget,this.relativeTargetOrigin,w,A),j&&fC(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=ht()),fr(j,this.relativeTarget)),_&&(this.animationValues=y,gC(y,p,this.latestValues,A,P,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){var d,h,p;this.notifyListeners("animationStart"),(d=this.currentAnimation)==null||d.stop(),(p=(h=this.resumingFrom)==null?void 0:h.currentAnimation)==null||p.stop(),this.pendingAnimation&&(kn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Be.update(()=>{nl.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Hs(0)),this.currentAnimation=wC(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:y=>{this.mixTargetDelta(y),u.onUpdate&&u.onUpdate(y)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(SC),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:h,layout:p,latestValues:y}=u;if(!(!d||!h||!p)){if(this!==u&&this.layout&&p&&Av(this.options.animationType,this.layout.layoutBox,p.layoutBox)){h=this.target||ht();const v=At(this.layout.layoutBox.x);h.x.min=u.target.x.min,h.x.max=h.x.min+v;const w=At(this.layout.layoutBox.y);h.y.min=u.target.y.min,h.y.max=h.y.min+w}fr(d,h),Bs(d,y),ro(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new _C),this.sharedNodes.get(u).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var d;const{layoutId:u}=this.options;return u?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:u}=this.options;return u?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:h}={}){const p=this.getStack();p&&p.promote(this,h),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:h}=u;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(d=!0),!d)return;const p={};h.z&&Fc("z",u,p,this.animationValues);for(let y=0;y<Uc.length;y++)Fc(`rotate${Uc[y]}`,u,p,this.animationValues),Fc(`skew${Uc[y]}`,u,p,this.animationValues);u.render();for(const y in p)u.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);u.scheduleRender()}applyProjectionStyles(u,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=rl(d==null?void 0:d.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=rl(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!zn(this.latestValues)&&(u.transform=h?h({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=pC(this.projectionDeltaWithTransform,this.treeScale,y);h&&(v=h(y,v)),u.transform=v;const{x:w,y:b}=this.projectionDelta;u.transformOrigin=`${w.origin*100}% ${b.origin*100}% 0`,p.animationValues?u.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const k in jd){if(y[k]===void 0)continue;const{correct:_,applyTo:S,isCSSVariable:C}=jd[k],P=v==="none"?y[k]:_(y[k],p);if(S){const j=S.length;for(let I=0;I<j;I++)u[S[I]]=P}else C?this.options.visualElement.renderState.vars[k]=P:u[k]=P}this.options.layoutId&&(u.pointerEvents=p===this?rl(d==null?void 0:d.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var d;return(d=u.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(Wg),this.root.sharedNodes.clear()}}}function TC(t){t.updateLayout()}function CC(t){var r;const e=((r=t.resumeFrom)==null?void 0:r.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:o}=t.layout,{animationType:l}=t.options,u=e.source!==t.layout.source;l==="size"?tr(v=>{const w=u?e.measuredBox[v]:e.layoutBox[v],b=At(w);w.min=i[v].min,w.max=w.min+b}):Av(l,e.layoutBox,i)&&tr(v=>{const w=u?e.measuredBox[v]:e.layoutBox[v],b=At(i[v]);w.max=w.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+b)});const d=Us();ro(d,i,e.layoutBox);const h=Us();u?ro(h,t.applyTransform(o,!0),e.measuredBox):ro(h,i,e.layoutBox);const p=!Tv(d);let y=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:w,layout:b}=v;if(w&&b){const k=ht();fl(k,e.layoutBox,w.layoutBox);const _=ht();fl(_,i,b.layoutBox),Cv(k,_)||(y=!0),v.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=k,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:h,layoutDelta:d,hasLayoutChanged:p,hasRelativeLayoutChanged:y})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function jC(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function RC(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function PC(t){t.clearSnapshot()}function Wg(t){t.clearMeasurements()}function qg(t){t.isLayoutDirty=!1}function NC(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Hg(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function AC(t){t.resolveTargetDelta()}function OC(t){t.calcProjection()}function IC(t){t.resetSkewAndRotation()}function LC(t){t.removeLeadSnapshot()}function Kg(t,e,r){t.translate=Ye(e.translate,0,r),t.scale=Ye(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function Gg(t,e,r,i){t.min=Ye(e.min,r.min,i),t.max=Ye(e.max,r.max,i)}function DC(t,e,r,i){Gg(t.x,e.x,r.x,i),Gg(t.y,e.y,r.y,i)}function MC(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const VC={duration:.45,ease:[.4,0,.1,1]},Jg=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Yg=Jg("applewebkit/")&&!Jg("chrome/")?Math.round:sr;function Qg(t){t.min=Yg(t.min),t.max=Yg(t.max)}function $C(t){Qg(t.x),Qg(t.y)}function Av(t,e,r){return t==="position"||t==="preserve-aspect"&&!lC($g(e),$g(r),.2)}function UC(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const FC=Nv({attachResizeListener:(t,e)=>wo(t,"resize",e),measureScroll:()=>{var t,e;return{x:document.documentElement.scrollLeft||((t=document.body)==null?void 0:t.scrollLeft)||0,y:document.documentElement.scrollTop||((e=document.body)==null?void 0:e.scrollTop)||0}},checkIsScrollRoot:()=>!0}),Bc={current:void 0},Ov=Nv({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Bc.current){const t=new FC({});t.mount(window),t.setOptions({layoutScroll:!0}),Bc.current=t}return Bc.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),vh=T.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Xg(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function BC(...t){return e=>{let r=!1;const i=t.map(o=>{const l=Xg(o,e);return!r&&typeof l=="function"&&(r=!0),l});if(r)return()=>{for(let o=0;o<i.length;o++){const l=i[o];typeof l=="function"?l():Xg(t[o],null)}}}}function zC(...t){return T.useCallback(BC(...t),t)}class WC extends T.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const i=r.offsetParent,o=Sd(i)&&i.offsetWidth||0,l=Sd(i)&&i.offsetHeight||0,u=this.props.sizeRef.current;u.height=r.offsetHeight||0,u.width=r.offsetWidth||0,u.top=r.offsetTop,u.left=r.offsetLeft,u.right=o-u.width-u.left,u.bottom=l-u.height-u.top}return null}componentDidUpdate(){}render(){return this.props.children}}function qC({children:t,isPresent:e,anchorX:r,anchorY:i,root:o}){var v;const l=T.useId(),u=T.useRef(null),d=T.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:h}=T.useContext(vh),p=((v=t.props)==null?void 0:v.ref)??(t==null?void 0:t.ref),y=zC(u,p);return T.useInsertionEffect(()=>{const{width:w,height:b,top:k,left:_,right:S,bottom:C}=d.current;if(e||!u.current||!w||!b)return;const P=r==="left"?`left: ${_}`:`right: ${S}`,j=i==="bottom"?`bottom: ${C}`:`top: ${k}`;u.current.dataset.motionPopId=l;const I=document.createElement("style");h&&(I.nonce=h);const A=o??document.head;return A.appendChild(I),I.sheet&&I.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${w}px !important;
            height: ${b}px !important;
            ${P}px !important;
            ${j}px !important;
          }
        `),()=>{A.contains(I)&&A.removeChild(I)}},[e]),m.jsx(WC,{isPresent:e,childRef:u,sizeRef:d,children:T.cloneElement(t,{ref:y})})}const HC=({children:t,initial:e,isPresent:r,onExitComplete:i,custom:o,presenceAffectsLayout:l,mode:u,anchorX:d,anchorY:h,root:p})=>{const y=Wd(KC),v=T.useId();let w=!0,b=T.useMemo(()=>(w=!1,{id:v,initial:e,isPresent:r,custom:o,onExitComplete:k=>{y.set(k,!0);for(const _ of y.values())if(!_)return;i&&i()},register:k=>(y.set(k,!1),()=>y.delete(k))}),[r,y,i]);return l&&w&&(b={...b}),T.useMemo(()=>{y.forEach((k,_)=>y.set(_,!1))},[r]),T.useEffect(()=>{!r&&!y.size&&i&&i()},[r]),u==="popLayout"&&(t=m.jsx(qC,{isPresent:r,anchorX:d,anchorY:h,root:p,children:t})),m.jsx(Cl.Provider,{value:b,children:t})};function KC(){return new Map}function Iv(t=!0){const e=T.useContext(Cl);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:i,register:o}=e,l=T.useId();T.useEffect(()=>{if(t)return o(l)},[t]);const u=T.useCallback(()=>t&&i&&i(l),[l,i,t]);return!r&&i?[!1,u]:[!0]}const Ya=t=>t.key||"";function Zg(t){const e=[];return T.Children.forEach(t,r=>{T.isValidElement(r)&&e.push(r)}),e}const GC=({children:t,custom:e,initial:r=!0,onExitComplete:i,presenceAffectsLayout:o=!0,mode:l="sync",propagate:u=!1,anchorX:d="left",anchorY:h="top",root:p})=>{const[y,v]=Iv(u),w=T.useMemo(()=>Zg(t),[t]),b=u&&!y?[]:w.map(Ya),k=T.useRef(!0),_=T.useRef(w),S=Wd(()=>new Map),C=T.useRef(new Set),[P,j]=T.useState(w),[I,A]=T.useState(w);h0(()=>{k.current=!1,_.current=w;for(let z=0;z<I.length;z++){const M=Ya(I[z]);b.includes(M)?(S.delete(M),C.current.delete(M)):S.get(M)!==!0&&S.set(M,!1)}},[I,b.length,b.join("-")]);const B=[];if(w!==P){let z=[...w];for(let M=0;M<I.length;M++){const te=I[M],Ne=Ya(te);b.includes(Ne)||(z.splice(M,0,te),B.push(te))}return l==="wait"&&B.length&&(z=B),A(Zg(z)),j(w),null}const{forceRender:G}=T.useContext(zd);return m.jsx(m.Fragment,{children:I.map(z=>{const M=Ya(z),te=u&&!y?!1:w===I||b.includes(M),Ne=()=>{if(C.current.has(M))return;if(C.current.add(M),S.has(M))S.set(M,!0);else return;let ce=!0;S.forEach(fe=>{fe||(ce=!1)}),ce&&(G==null||G(),A(_.current),u&&(v==null||v()),i&&i())};return m.jsx(HC,{isPresent:te,initial:!k.current||r?void 0:!1,custom:e,presenceAffectsLayout:o,mode:l,root:p,onExitComplete:te?void 0:Ne,anchorX:d,anchorY:h,children:z},M)})})},Lv=T.createContext({strict:!1}),ey={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let ty=!1;function JC(){if(ty)return;const t={};for(const e in ey)t[e]={isEnabled:r=>ey[e].some(i=>!!r[i])};cv(t),ty=!0}function Dv(){return JC(),IT()}function YC(t){const e=Dv();for(const r in t)e[r]={...e[r],...t[r]};cv(e)}const QC=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function pl(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||QC.has(t)}let Mv=t=>!pl(t);function XC(t){typeof t=="function"&&(Mv=e=>e.startsWith("on")?!pl(e):t(e))}try{XC(require("@emotion/is-prop-valid").default)}catch{}function ZC(t,e,r){const i={};for(const o in t)o==="values"&&typeof t.values=="object"||(Mv(o)||r===!0&&pl(o)||!e&&!pl(o)||t.draggable&&o.startsWith("onDrag"))&&(i[o]=t[o]);return i}const Pl=T.createContext({});function ej(t,e){if(Rl(t)){const{initial:r,animate:i}=t;return{initial:r===!1||vo(r)?r:void 0,animate:vo(i)?i:void 0}}return t.inherit!==!1?e:{}}function tj(t){const{initial:e,animate:r}=ej(t,T.useContext(Pl));return T.useMemo(()=>({initial:e,animate:r}),[ry(e),ry(r)])}function ry(t){return Array.isArray(t)?t.join(" "):t}const wh=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Vv(t,e,r){for(const i in e)!Ct(e[i])&&!yv(i,r)&&(t[i]=e[i])}function rj({transformTemplate:t},e){return T.useMemo(()=>{const r=wh();return gh(r,e,t),Object.assign({},r.vars,r.style)},[e])}function nj(t,e){const r=t.style||{},i={};return Vv(i,r,t),Object.assign(i,rj(t,e)),i}function sj(t,e){const r={},i=nj(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const $v=()=>({...wh(),attrs:{}});function ij(t,e,r,i){const o=T.useMemo(()=>{const l=$v();return vv(l,e,xv(i),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};Vv(l,t.style,t),o.style={...l,...o.style}}return o}const oj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function xh(t){return typeof t!="string"||t.includes("-")?!1:!!(oj.indexOf(t)>-1||/[A-Z]/u.test(t))}function aj(t,e,r,{latestValues:i},o,l=!1,u){const h=(u??xh(t)?ij:sj)(e,i,o,t),p=ZC(e,typeof t=="string",l),y=t!==T.Fragment?{...p,...h,ref:r}:{},{children:v}=e,w=T.useMemo(()=>Ct(v)?v.get():v,[v]);return T.createElement(t,{...y,children:w})}function lj({scrapeMotionValuesFromProps:t,createRenderState:e},r,i,o){return{latestValues:uj(r,i,o,t),renderState:e()}}function uj(t,e,r,i){const o={},l=i(t,{});for(const w in l)o[w]=rl(l[w]);let{initial:u,animate:d}=t;const h=Rl(t),p=uv(t);e&&p&&!h&&t.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let y=r?r.initial===!1:!1;y=y||u===!1;const v=y?d:u;if(v&&typeof v!="boolean"&&!jl(v)){const w=Array.isArray(v)?v:[v];for(let b=0;b<w.length;b++){const k=uh(t,w[b]);if(k){const{transitionEnd:_,transition:S,...C}=k;for(const P in C){let j=C[P];if(Array.isArray(j)){const I=y?j.length-1:0;j=j[I]}j!==null&&(o[P]=j)}for(const P in _)o[P]=_[P]}}}return o}const Uv=t=>(e,r)=>{const i=T.useContext(Pl),o=T.useContext(Cl),l=()=>lj(t,e,i,o);return r?l():Wd(l)},cj=Uv({scrapeMotionValuesFromProps:yh,createRenderState:wh}),dj=Uv({scrapeMotionValuesFromProps:bv,createRenderState:$v}),hj=Symbol.for("motionComponentSymbol");function fj(t,e,r){const i=T.useRef(r);T.useInsertionEffect(()=>{i.current=r});const o=T.useRef(null);return T.useCallback(l=>{var d;l&&((d=t.onMount)==null||d.call(t,l)),e&&(l?e.mount(l):e.unmount());const u=i.current;if(typeof u=="function")if(l){const h=u(l);typeof h=="function"&&(o.current=h)}else o.current?(o.current(),o.current=null):u(l);else u&&(u.current=l)},[e])}const Fv=T.createContext({});function Qi(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function pj(t,e,r,i,o,l){var C,P;const{visualElement:u}=T.useContext(Pl),d=T.useContext(Lv),h=T.useContext(Cl),p=T.useContext(vh).reducedMotion,y=T.useRef(null),v=T.useRef(!1);i=i||d.renderer,!y.current&&i&&(y.current=i(t,{visualState:e,parent:u,props:r,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:p,isSVG:l}),v.current&&y.current&&(y.current.manuallyAnimateOnMount=!0));const w=y.current,b=T.useContext(Fv);w&&!w.projection&&o&&(w.type==="html"||w.type==="svg")&&mj(y.current,r,o,b);const k=T.useRef(!1);T.useInsertionEffect(()=>{w&&k.current&&w.update(r,h)});const _=r[J0],S=T.useRef(!!_&&!((C=window.MotionHandoffIsComplete)!=null&&C.call(window,_))&&((P=window.MotionHasOptimisedAnimation)==null?void 0:P.call(window,_)));return h0(()=>{v.current=!0,w&&(k.current=!0,window.MotionIsMounted=!0,w.updateFeatures(),w.scheduleRenderMicrotask(),S.current&&w.animationState&&w.animationState.animateChanges())}),T.useEffect(()=>{w&&(!S.current&&w.animationState&&w.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var j;(j=window.MotionHandoffMarkAsComplete)==null||j.call(window,_)}),S.current=!1),w.enteringChildren=void 0)}),w}function mj(t,e,r,i){const{layoutId:o,layout:l,drag:u,dragConstraints:d,layoutScroll:h,layoutRoot:p,layoutCrossfade:y}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:Bv(t.parent)),t.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!u||d&&Qi(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:y,layoutScroll:h,layoutRoot:p})}function Bv(t){if(t)return t.options.allowProjection!==!1?t.projection:Bv(t.parent)}function zc(t,{forwardMotionProps:e=!1,type:r}={},i,o){i&&YC(i);const l=r?r==="svg":xh(t),u=l?dj:cj;function d(p,y){let v;const w={...T.useContext(vh),...p,layoutId:gj(p)},{isStatic:b}=w,k=tj(p),_=u(p,b);if(!b&&d0){yj();const S=vj(w);v=S.MeasureLayout,k.visualElement=pj(t,_,w,o,S.ProjectionNode,l)}return m.jsxs(Pl.Provider,{value:k,children:[v&&k.visualElement?m.jsx(v,{visualElement:k.visualElement,...w}):null,aj(t,p,fj(_,k.visualElement,y),_,b,e,l)]})}d.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const h=T.forwardRef(d);return h[hj]=t,h}function gj({layoutId:t}){const e=T.useContext(zd).id;return e&&t!==void 0?e+"-"+t:t}function yj(t,e){T.useContext(Lv).strict}function vj(t){const e=Dv(),{drag:r,layout:i}=e;if(!r&&!i)return{};const o={...r,...i};return{MeasureLayout:r!=null&&r.isEnabled(t)||i!=null&&i.isEnabled(t)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function wj(t,e){if(typeof Proxy>"u")return zc;const r=new Map,i=(l,u)=>zc(l,u,t,e),o=(l,u)=>i(l,u);return new Proxy(o,{get:(l,u)=>u==="create"?i:(r.has(u)||r.set(u,zc(u,void 0,t,e)),r.get(u))})}const xj=(t,e)=>e.isSVG??xh(t)?new QT(e):new qT(e,{allowProjection:t!==T.Fragment});class bj extends Sn{constructor(e){super(e),e.animationState||(e.animationState=rC(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();jl(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let kj=0;class _j extends Sn{constructor(){super(...arguments),this.id=kj++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e);r&&!e&&o.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Sj={animation:{Feature:bj},exit:{Feature:_j}};function Co(t){return{point:{x:t.pageX,y:t.pageY}}}const Ej=t=>e=>fh(e)&&t(e,Co(e));function no(t,e,r,i){return wo(t,e,Ej(r),i)}const zv=({current:t})=>t?t.ownerDocument.defaultView:null,ny=(t,e)=>Math.abs(t-e);function Tj(t,e){const r=ny(t.x,e.x),i=ny(t.y,e.y);return Math.sqrt(r**2+i**2)}const sy=new Set(["auto","scroll"]);class Wv{constructor(e,r,{transformPagePoint:i,contextWindow:o=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3,element:d}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=b=>{this.handleScroll(b.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=qc(this.lastMoveEventInfo,this.history),k=this.startEvent!==null,_=Tj(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!k&&!_)return;const{point:S}=b,{timestamp:C}=bt;this.history.push({...S,timestamp:C});const{onStart:P,onMove:j}=this.handlers;k||(P&&P(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,b)},this.handlePointerMove=(b,k)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=Wc(k,this.transformPagePoint),Be.update(this.updatePoint,!0)},this.handlePointerUp=(b,k)=>{this.end();const{onEnd:_,onSessionEnd:S,resumeAnimation:C}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=qc(b.type==="pointercancel"?this.lastMoveEventInfo:Wc(k,this.transformPagePoint),this.history);this.startEvent&&_&&_(b,P),S&&S(b,P)},!fh(e))return;this.dragSnapToOrigin=l,this.handlers=r,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=o||window;const h=Co(e),p=Wc(h,this.transformPagePoint),{point:y}=p,{timestamp:v}=bt;this.history=[{...y,timestamp:v}];const{onSessionStart:w}=r;w&&w(e,qc(p,this.history)),this.removeListeners=So(no(this.contextWindow,"pointermove",this.handlePointerMove),no(this.contextWindow,"pointerup",this.handlePointerUp),no(this.contextWindow,"pointercancel",this.handlePointerUp)),d&&this.startScrollTracking(d)}startScrollTracking(e){let r=e.parentElement;for(;r;){const i=getComputedStyle(r);(sy.has(i.overflowX)||sy.has(i.overflowY))&&this.scrollPositions.set(r,{x:r.scrollLeft,y:r.scrollTop}),r=r.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const r=this.scrollPositions.get(e);if(!r)return;const i=e===window,o=i?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:o.x-r.x,y:o.y-r.y};l.x===0&&l.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,o),Be.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),kn(this.updatePoint)}}function Wc(t,e){return e?{point:e(t.point)}:t}function iy(t,e){return{x:t.x-e.x,y:t.y-e.y}}function qc({point:t},e){return{point:t,delta:iy(t,qv(e)),offset:iy(t,Cj(e)),velocity:jj(e,.1)}}function Cj(t){return t[0]}function qv(t){return t[t.length-1]}function jj(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,i=null;const o=qv(t);for(;r>=0&&(i=t[r],!(o.timestamp-i.timestamp>Br(e)));)r--;if(!i)return{x:0,y:0};const l=nr(o.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const u={x:(o.x-i.x)/l,y:(o.y-i.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function Rj(t,{min:e,max:r},i){return e!==void 0&&t<e?t=i?Ye(e,t,i.min):Math.max(t,e):r!==void 0&&t>r&&(t=i?Ye(r,t,i.max):Math.min(t,r)),t}function oy(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function Pj(t,{top:e,left:r,bottom:i,right:o}){return{x:oy(t.x,r,o),y:oy(t.y,e,i)}}function ay(t,e){let r=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,i]=[i,r]),{min:r,max:i}}function Nj(t,e){return{x:ay(t.x,e.x),y:ay(t.y,e.y)}}function Aj(t,e){let r=.5;const i=At(t),o=At(e);return o>i?r=mo(e.min,e.max-i,t.min):i>o&&(r=mo(t.min,t.max-o,e.min)),Pr(0,1,r)}function Oj(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const Rd=.35;function Ij(t=Rd){return t===!1?t=0:t===!0&&(t=Rd),{x:ly(t,"left","right"),y:ly(t,"top","bottom")}}function ly(t,e,r){return{min:uy(t,e),max:uy(t,r)}}function uy(t,e){return typeof t=="number"?t:t[e]||0}const Lj=new WeakMap;class Dj{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ht(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:i}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const l=v=>{r?(this.stopAnimation(),this.snapToCursor(Co(v).point)):this.pauseAnimation()},u=(v,w)=>{this.stopAnimation();const{drag:b,dragPropagation:k,onDragStart:_}=this.getProps();if(b&&!k&&(this.openDragLock&&this.openDragLock(),this.openDragLock=kT(b),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),tr(C=>{let P=this.getAxisMotionValue(C).get()||0;if(Rr.test(P)){const{projection:j}=this.visualElement;if(j&&j.layout){const I=j.layout.layoutBox[C];I&&(P=At(I)*(parseFloat(P)/100))}}this.originPoint[C]=P}),_&&Be.postRender(()=>_(v,w)),bd(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},d=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w;const{dragPropagation:b,dragDirectionLock:k,onDirectionLock:_,onDrag:S}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:C}=w;if(k&&this.currentDirection===null){this.currentDirection=Mj(C),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",w.point,C),this.updateAxis("y",w.point,C),this.visualElement.render(),S&&S(v,w)},h=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w,this.stop(v,w),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>tr(v=>{var w;return this.getAnimationState(v)==="paused"&&((w=this.getAxisMotionValue(v).animation)==null?void 0:w.play())}),{dragSnapToOrigin:y}=this.getProps();this.panSession=new Wv(e,{onSessionStart:l,onStart:u,onMove:d,onSessionEnd:h,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:i,contextWindow:zv(this.visualElement),element:this.visualElement.current})}stop(e,r){const i=e||this.latestPointerEvent,o=r||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!o||!i)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:d}=this.getProps();d&&Be.postRender(()=>d(i,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,r,i){const{drag:o}=this.getProps();if(!i||!Qa(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=Rj(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){var l;const{dragConstraints:e,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,o=this.constraints;e&&Qi(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=Pj(i.layoutBox,e):this.constraints=!1,this.elastic=Ij(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&tr(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=Oj(i.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Qi(e))return!1;const i=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=$T(i,o.root,this.visualElement.getTransformPagePoint());let u=Nj(o.layout.layoutBox,l);if(r){const d=r(DT(u));this.hasMutatedConstraints=!!d,d&&(u=hv(d))}return u}startAnimation(e){const{drag:r,dragMomentum:i,dragElastic:o,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),h=this.constraints||{},p=tr(y=>{if(!Qa(y,r,this.currentDirection))return;let v=h&&h[y]||{};u&&(v={min:0,max:0});const w=o?200:1e6,b=o?40:1e7,k={type:"inertia",velocity:i?e[y]:0,bounceStiffness:w,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(y,k)});return Promise.all(p).then(d)}startAxisValueAnimation(e,r){const i=this.getAxisMotionValue(e);return bd(this.visualElement,e),i.start(lh(e,i,0,r,this.visualElement,!1))}stopAnimation(){tr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){tr(e=>{var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),o=i[r];return o||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){tr(r=>{const{drag:i}=this.getProps();if(!Qa(r,i,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(r);if(o&&o.layout){const{min:u,max:d}=o.layout.layoutBox[r],h=l.get()||0;l.set(e[r]-Ye(u,d,.5)+h)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:i}=this.visualElement;if(!Qi(r)||!i||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};tr(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const h=d.get();o[u]=Aj({min:h,max:h},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),tr(u=>{if(!Qa(u,e,null))return;const d=this.getAxisMotionValue(u),{min:h,max:p}=this.constraints[u];d.set(Ye(h,p,o[u]))})}addListeners(){if(!this.visualElement.current)return;Lj.set(this.visualElement,this);const e=this.visualElement.current,r=no(e,"pointerdown",h=>{const{drag:p,dragListener:y=!0}=this.getProps(),v=h.target,w=v!==e&&ov(v);p&&y&&!w&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();Qi(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Be.read(i);const u=wo(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:p})=>{this.isDragging&&p&&(tr(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=h[y].translate,v.set(v.get()+h[y].translate))}),this.visualElement.render())}));return()=>{u(),r(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:i=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:u=Rd,dragMomentum:d=!0}=e;return{...e,drag:r,dragDirectionLock:i,dragPropagation:o,dragConstraints:l,dragElastic:u,dragMomentum:d}}}function Qa(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function Mj(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class Vj extends Sn{constructor(e){super(e),this.removeGroupControls=sr,this.removeListeners=sr,this.controls=new Dj(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||sr}update(){const{dragControls:e}=this.node.getProps(),{dragControls:r}=this.node.prevProps||{};e!==r&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const cy=t=>(e,r)=>{t&&Be.postRender(()=>t(e,r))};class $j extends Sn{constructor(){super(...arguments),this.removePointerDownListener=sr}onPointerDown(e){this.session=new Wv(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:zv(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:i,onPanEnd:o}=this.node.getProps();return{onSessionStart:cy(e),onStart:cy(r),onMove:i,onEnd:(l,u)=>{delete this.session,o&&Be.postRender(()=>o(l,u))}}}mount(){this.removePointerDownListener=no(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Hc=!1;class Uj extends T.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:i,layoutId:o}=this.props,{projection:l}=e;l&&(r.group&&r.group.add(l),i&&i.register&&o&&i.register(l),Hc&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),nl.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:i,drag:o,isPresent:l}=this.props,{projection:u}=i;return u&&(u.isPresent=l,e.layoutDependency!==r&&u.setOptions({...u.options,layoutDependency:r}),Hc=!0,o||e.layoutDependency!==r||r===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||Be.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),hh.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:i}=this.props,{projection:o}=e;Hc=!0,o&&(o.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(o),i&&i.deregister&&i.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Hv(t){const[e,r]=Iv(),i=T.useContext(zd);return m.jsx(Uj,{...t,layoutGroup:i,switchLayoutGroup:T.useContext(Fv),isPresent:e,safeToRemove:r})}const Fj={pan:{Feature:$j},drag:{Feature:Vj,ProjectionNode:Ov,MeasureLayout:Hv}};function dy(t,e,r){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",r==="Start");const o="onHover"+r,l=i[o];l&&Be.postRender(()=>l(e,Co(e)))}class Bj extends Sn{mount(){const{current:e}=this.node;e&&(this.unmount=_T(e,(r,i)=>(dy(this.node,i,"Start"),o=>dy(this.node,o,"End"))))}unmount(){}}class zj extends Sn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=So(wo(this.node.current,"focus",()=>this.onFocus()),wo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function hy(t,e,r){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",r==="Start");const o="onTap"+(r==="End"?"":r),l=i[o];l&&Be.postRender(()=>l(e,Co(e)))}class Wj extends Sn{mount(){const{current:e}=this.node;e&&(this.unmount=TT(e,(r,i)=>(hy(this.node,i,"Start"),(o,{success:l})=>hy(this.node,o,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Pd=new WeakMap,Kc=new WeakMap,qj=t=>{const e=Pd.get(t.target);e&&e(t)},Hj=t=>{t.forEach(qj)};function Kj({root:t,...e}){const r=t||document;Kc.has(r)||Kc.set(r,{});const i=Kc.get(r),o=JSON.stringify(e);return i[o]||(i[o]=new IntersectionObserver(Hj,{root:t,...e})),i[o]}function Gj(t,e,r){const i=Kj(e);return Pd.set(t,r),i.observe(t),()=>{Pd.delete(t),i.unobserve(t)}}const Jj={some:0,all:1};class Yj extends Sn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:i,amount:o="some",once:l}=e,u={root:r?r.current:void 0,rootMargin:i,threshold:typeof o=="number"?o:Jj[o]},d=h=>{const{isIntersecting:p}=h;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),w=p?y:v;w&&w(h)};return Gj(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(Qj(e,r))&&this.startObserver()}unmount(){}}function Qj({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const Xj={inView:{Feature:Yj},tap:{Feature:Wj},focus:{Feature:zj},hover:{Feature:Bj}},Zj={layout:{ProjectionNode:Ov,MeasureLayout:Hv}},eR={...Sj,...Xj,...Fj,...Zj},ml=wj(eR,xj);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rR=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,i)=>i?i.toUpperCase():r.toLowerCase()),fy=t=>{const e=rR(t);return e.charAt(0).toUpperCase()+e.slice(1)},Kv=(...t)=>t.filter((e,r,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===r).join(" ").trim(),nR=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iR=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:i,className:o="",children:l,iconNode:u,...d},h)=>T.createElement("svg",{ref:h,...sR,width:e,height:e,stroke:t,strokeWidth:i?Number(r)*24/Number(e):r,className:Kv("lucide",o),...!l&&!nR(d)&&{"aria-hidden":"true"},...d},[...u.map(([p,y])=>T.createElement(p,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=(t,e)=>{const r=T.forwardRef(({className:i,...o},l)=>T.createElement(iR,{ref:l,iconNode:e,className:Kv(`lucide-${tR(fy(t))}`,`lucide-${t}`,i),...o}));return r.displayName=fy(t),r};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],bh=ze("arrow-left",oR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=[["path",{d:"M10.165 6.598C9.954 7.478 9.64 8.36 9 9c-.64.64-1.521.954-2.402 1.165A6 6 0 0 0 8 22c7.732 0 14-6.268 14-14a6 6 0 0 0-11.835-1.402Z",key:"1tvzk7"}],["path",{d:"M5.341 10.62a4 4 0 1 0 5.279-5.28",key:"2cyri2"}]],lR=ze("bean",aR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],zs=ze("calendar",uR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],dR=ze("circle-alert",cR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],fR=ze("circle-check-big",hR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],gl=ze("coffee",pR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],yl=ze("funnel",mR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Gv=ze("history",gR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],vR=ze("info",yR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],xR=ze("layout-dashboard",wR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],kR=ze("log-out",bR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],SR=ze("menu",_R);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=[["path",{d:"M5 12h14",key:"1ays0h"}]],TR=ze("minus",ER);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],jR=ze("moon",CR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],PR=ze("package",RR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],vl=ze("pen",NR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],xo=ze("plus",AR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],IR=ze("save",OR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ks=ze("search",LR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],MR=ze("sun",DR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],so=ze("trash-2",VR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $R=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],UR=ze("trending-up",$R);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Jv=ze("triangle-alert",FR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Yv=ze("user",BR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],rr=ze("x",zR),Qv=T.createContext(void 0),ei=()=>{const t=T.useContext(Qv);if(!t)throw new Error("useToast must be used within a ToastProvider");return t},WR=({children:t})=>{const[e,r]=T.useState([]),i=T.useCallback(l=>{r(u=>u.filter(d=>d.id!==l))},[]),o=T.useCallback((l,u="info",d=3e3)=>{const h=Date.now().toString()+Math.random().toString(36).substring(2,9),p={id:h,type:u,message:l,duration:d};r(y=>[...y,p]),d>0&&setTimeout(()=>{i(h)},d)},[i]);return m.jsxs(Qv.Provider,{value:{showToast:o,removeToast:i},children:[t,m.jsx("div",{className:"fixed bottom-4 right-4 z-[10000] flex flex-col gap-2 w-full max-w-sm pointer-events-none",children:m.jsx(GC,{children:e.map(l=>m.jsx(qR,{toast:l,onRemove:i},l.id))})})]})},qR=({toast:t,onRemove:e})=>{const r={success:m.jsx(fR,{size:20,className:"text-white"}),error:m.jsx(dR,{size:20,className:"text-white"}),warning:m.jsx(Jv,{size:20,className:"text-white"}),info:m.jsx(vR,{size:20,className:"text-white"})},i={success:"bg-green-600 dark:bg-green-700",error:"bg-red-600 dark:bg-red-700",warning:"bg-yellow-500 dark:bg-yellow-600",info:"bg-blue-600 dark:bg-blue-700"};return m.jsxs(ml.div,{layout:!0,initial:{opacity:0,y:50,scale:.3},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.5,transition:{duration:.2}},className:`pointer-events-auto flex items-center justify-between p-4 rounded-lg shadow-lg ${i[t.type]} text-white min-w-[300px] cursor-pointer`,onClick:()=>e(t.id),children:[m.jsxs("div",{className:"flex items-center gap-3",children:[r[t.type],m.jsx("p",{className:"text-sm font-medium",children:t.message})]}),m.jsx("button",{onClick:o=>{o.stopPropagation(),e(t.id)},className:"ml-4 p-1 rounded-full hover:bg-white/20 transition-colors",children:m.jsx(rr,{size:16})})]})},HR={coffees:[],movements:[],alerts:[],lastUpdate:new Date,lastUpdatedBy:"Sistema",currentUser:null,theme:"light",loading:!0},Xv=T.createContext(void 0);function KR(t){const e=[];return t.forEach(r=>{const i=r.roasts.reduce((o,l)=>o+l.quantity,0);i<500&&e.push({coffeeId:r.id,coffeeName:r.name,currentQuantity:i,threshold:500})}),e}function GR(t,e){switch(e.type){case"SET_DATA":{const{coffees:r,movements:i,lastUpdate:o,lastUpdatedBy:l}=e.payload;return{...t,coffees:r,movements:i,alerts:KR(r),lastUpdate:o,lastUpdatedBy:l}}case"TOGGLE_THEME":return{...t,theme:t.theme==="light"?"dark":"light"};case"LOGIN":return{...t,currentUser:{name:e.payload}};case"LOGOUT":return{...t,currentUser:null};case"SET_LOADING":return{...t,loading:e.payload};default:return t}}function JR({children:t}){const[e,r]=T.useReducer(GR,HR),{showToast:i}=ei();T.useEffect(()=>{localStorage.getItem("theme")==="dark"&&e.theme==="light"&&r({type:"TOGGLE_THEME"})},[]),T.useEffect(()=>{const d=window.document.documentElement;e.theme==="dark"?(d.classList.add("dark"),localStorage.setItem("theme","dark")):(d.classList.remove("dark"),localStorage.setItem("theme","light"))},[e.theme]);const o=T.useCallback(async()=>{r({type:"SET_LOADING",payload:!0});try{const{data:d,error:h}=await Ie.from("coffees").select("*, roasts(*)");if(h)throw h;const{data:p,error:y}=await Ie.from("movements").select("*").order("timestamp",{ascending:!1});if(y)throw y;const v=(d||[]).map(_=>({id:_.id,name:_.name,observations:_.observations,roasts:(_.roasts||[]).map(S=>({id:S.id,date:S.date,pr:S.pr,quantity:S.quantity,observations:S.observations}))})),w=(p||[]).map(_=>{var S;return{id:_.id,timestamp:_.timestamp,type:_.type,coffeeId:_.coffee_id,coffeeName:((S=v.find(C=>C.id===_.coffee_id))==null?void 0:S.name)||"Desconhecido",pr:_.pr,quantity:_.quantity,observations:_.observations,responsible:_.responsible||""}});let b=new Date,k="Sistema";if(w.length>0){const _=w[0],S=new Date(_.timestamp);isNaN(S.getTime())||(b=S,k=_.responsible||"Sistema")}r({type:"SET_DATA",payload:{coffees:v,movements:w,lastUpdate:b,lastUpdatedBy:k}})}catch(d){console.error("Erro ao buscar dados:",d),i("Erro ao carregar dados do servidor","error")}finally{r({type:"SET_LOADING",payload:!1})}},[i]);T.useEffect(()=>{o()},[o]);const l={addMovement:async d=>{try{const{error:h}=await Ie.from("movements").insert([{type:d.type,coffee_id:d.coffeeId,pr:d.pr,quantity:d.quantity,observations:d.observations,responsible:d.responsible,timestamp:d.timestamp||new Date().toISOString()}]);if(h)throw h;const{data:p}=await Ie.from("roasts").select("*").eq("pr",d.pr).eq("coffee_id",d.coffeeId).single();let y=0;d.type==="entrada"?p?(y=p.quantity+d.quantity,await Ie.from("roasts").update({quantity:y}).eq("id",p.id)):await Ie.from("roasts").insert([{coffee_id:d.coffeeId,pr:d.pr,date:new Date().toLocaleDateString("pt-BR"),quantity:d.quantity,observations:d.observations}]):p&&(y=Math.max(0,p.quantity-d.quantity),await Ie.from("roasts").update({quantity:y}).eq("id",p.id)),i("Movimentao registrada com sucesso","success"),o()}catch(h){console.error("Erro ao adicionar movimentao:",h),i("Erro ao salvar movimentao","error")}},updateMovement:async(d,h)=>{try{const{data:p}=await Ie.from("movements").select("*").eq("id",d).single();if(!p)throw new Error("Movimentao no encontrada");const{data:y}=await Ie.from("roasts").select("*").eq("pr",p.pr).eq("coffee_id",p.coffee_id).single();if(y){let _=y.quantity;p.type==="entrada"?_-=p.quantity:_+=p.quantity,await Ie.from("roasts").update({quantity:Math.max(0,_)}).eq("id",y.id)}const{error:v}=await Ie.from("movements").update({type:h.type,coffee_id:h.coffeeId,pr:h.pr,quantity:h.quantity,observations:h.observations,responsible:h.responsible,...h.timestamp&&{timestamp:h.timestamp}}).eq("id",d);if(v)throw v;const{data:w}=await Ie.from("roasts").select("*").eq("pr",h.pr).eq("coffee_id",h.coffeeId).single();let b=0;const{data:k}=await Ie.from("roasts").select("*").eq("pr",h.pr).eq("coffee_id",h.coffeeId).single();h.type==="entrada"?k?(b=k.quantity+h.quantity,await Ie.from("roasts").update({quantity:b}).eq("id",k.id)):await Ie.from("roasts").insert([{coffee_id:h.coffeeId,pr:h.pr,date:new Date().toLocaleDateString("pt-BR"),quantity:h.quantity,observations:h.observations}]):k&&(b=Math.max(0,k.quantity-h.quantity),await Ie.from("roasts").update({quantity:b}).eq("id",k.id)),i("Movimentao atualizada com sucesso","success"),o()}catch(p){console.error("Erro ao atualizar movimentao:",p),i("Erro ao atualizar movimentao","error")}},deleteMovement:async d=>{try{const{data:h}=await Ie.from("movements").select("*").eq("id",d).single();if(!h)return;const{data:p}=await Ie.from("roasts").select("*").eq("pr",h.pr).eq("coffee_id",h.coffee_id).single();if(p){let y=p.quantity;h.type==="entrada"?y-=h.quantity:y+=h.quantity,await Ie.from("roasts").update({quantity:Math.max(0,y)}).eq("id",p.id)}await Ie.from("movements").delete().eq("id",d),i("Movimentao excluda","success"),o()}catch(h){console.error("Erro ao deletar:",h),i("Erro ao deletar movimentao","error")}},addCoffee:async d=>{try{const{error:h}=await Ie.from("coffees").insert([{name:d.name,observations:d.observations}]);if(h)throw h;i("Caf cadastrado com sucesso","success"),o()}catch(h){console.error("Erro ao adicionar caf:",h),i("Erro ao cadastrar caf","error")}},updateCoffee:async(d,h)=>{try{const{error:p}=await Ie.from("coffees").update({name:h.name,observations:h.observations}).eq("id",d);if(p)throw p;i("Caf atualizado","success"),o()}catch(p){console.error("Erro ao atualizar caf:",p),i("Erro ao atualizar caf","error")}},deleteCoffee:async d=>{try{const{error:h}=await Ie.from("coffees").delete().eq("id",d);if(h)throw h;i("Caf excludo","success"),o()}catch(h){console.error("Erro ao deletar caf:",h),i("Erro ao excluir caf","error")}},refreshData:()=>{o(),i("Dados atualizados","info")},login:d=>{r({type:"LOGIN",payload:d})},logout:()=>{r({type:"LOGOUT"})}},u=()=>{r({type:"TOGGLE_THEME"})};return m.jsx(Xv.Provider,{value:{state:e,actions:l,toggleTheme:u},children:t})}function Zn(){const t=T.useContext(Xv);if(t===void 0)throw new Error("useApp deve ser usado dentro de um AppProvider");return t}const Zv=T.createContext(void 0);function YR({children:t}){const[e,r]=T.useState(null),[i,o]=T.useState(null),[l,u]=T.useState(!0);T.useEffect(()=>{Ie.auth.getSession().then(({data:{session:y}})=>{r(y),o((y==null?void 0:y.user)??null),u(!1)});const{data:{subscription:p}}=Ie.auth.onAuthStateChange((y,v)=>{r(v),o((v==null?void 0:v.user)??null),u(!1)});return()=>p.unsubscribe()},[]);const h={session:e,user:i,loading:l,signOut:async()=>{await Ie.auth.signOut()}};return m.jsx(Zv.Provider,{value:h,children:t})}function Nl(){const t=T.useContext(Zv);if(t===void 0)throw new Error("useAuth deve ser usado dentro de um AuthProvider");return t}const QR=({children:t})=>{var _,S;const e=qr(),r=Hr(),{state:i,toggleTheme:o}=Zn(),{user:l,signOut:u}=Nl(),[d,h]=T.useState(!1),y=(()=>{const C=e.pathname==="/cafes/novo",P=e.pathname.startsWith("/cafes/editar/"),j=e.pathname==="/movimentacoes/nova",I=e.pathname.startsWith("/movimentacoes/editar/");return C?{title:"Novo Caf",showBack:!0}:P?{title:"Editar Caf",showBack:!0}:j?{title:"Nova Movimentao",showBack:!0}:I?{title:"Editar Movimentao",showBack:!0}:{title:"Studio Gro",showBack:!1}})(),v=[{path:"/",label:"Dashboard",icon:m.jsx(xR,{size:20})},{path:"/historico",label:"Histrico",icon:m.jsx(Gv,{size:20})},{path:"/cafes",label:"Cafs",icon:m.jsx(lR,{size:20})}],w=[...v,{path:"/perfil",label:"Perfil",icon:m.jsx(Yv,{size:20})}],b=()=>h(!d),k=async()=>{try{await u()}catch(C){console.error("Erro ao sair:",C)}};return m.jsxs("div",{className:"h-screen bg-natural-50 dark:bg-gray-900 font-sans text-black dark:text-white transition-colors duration-200 flex overflow-hidden",children:[m.jsxs("div",{className:"lg:hidden fixed top-0 left-0 right-0 h-16 bg-white dark:bg-gray-800 border-b border-black dark:border-white flex items-center justify-between px-4 z-30 transition-colors",children:[m.jsxs("div",{className:"flex items-center gap-3 flex-1 overflow-hidden",children:[y.showBack?m.jsx("button",{onClick:()=>r(-1),className:"p-2 -ml-2 text-black dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:m.jsx(bh,{size:24})}):m.jsx("div",{className:"bg-espresso-600 text-white p-2 rounded-lg shrink-0",children:m.jsx(gl,{size:24})}),m.jsx("h1",{className:"text-lg font-bold tracking-tight text-black dark:text-white truncate",children:y.title})]}),m.jsx("button",{onClick:b,className:"p-2 text-black dark:text-white",children:d?m.jsx(rr,{size:24}):m.jsx(SR,{size:24})})]}),d&&m.jsx("div",{className:"lg:hidden fixed inset-0 bg-black/50 z-40 backdrop-blur-sm",onClick:()=>h(!1)}),m.jsxs("aside",{className:`
        fixed lg:static inset-y-0 left-0 z-50
        w-64 bg-white dark:bg-gray-800 border-r border-black dark:border-white
        transform transition-transform duration-300 ease-in-out
        ${d?"translate-x-0":"-translate-x-full lg:translate-x-0"}
        flex flex-col h-full
      `,children:[m.jsx("div",{className:"h-16 flex items-center px-6 border-b border-natural-100 dark:border-gray-700 shrink-0",children:m.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",onClick:()=>r("/"),children:[m.jsx("div",{className:"bg-espresso-600 text-white p-2 rounded-lg",children:m.jsx(gl,{size:24})}),m.jsxs("div",{className:"leading-tight",children:[m.jsx("h1",{className:"text-base font-bold text-black dark:text-white",children:"Studio Gro"}),m.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:"Coffee Roaster"})]})]})}),m.jsxs("div",{className:"px-6 py-4 border-b border-natural-100 dark:border-gray-700 shrink-0",children:[m.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-bold uppercase mb-1",children:"Usurio"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("p",{className:"text-sm font-bold text-black dark:text-white truncate flex-1",title:((_=l==null?void 0:l.user_metadata)==null?void 0:_.name)||(l==null?void 0:l.email),children:((S=l==null?void 0:l.user_metadata)==null?void 0:S.name)||(l==null?void 0:l.email)}),m.jsx("button",{type:"button",onClick:C=>{C.stopPropagation(),r("/perfil"),h(!1)},className:"p-1.5 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400 transition-colors flex-shrink-0 cursor-pointer z-10",title:"Editar Perfil",children:m.jsx(vl,{size:16})})]})]}),m.jsx("nav",{className:"flex-1 px-4 py-6 space-y-2 overflow-y-auto",children:v.map(C=>m.jsxs(Qc,{to:C.path,onClick:()=>h(!1),className:({isActive:P})=>`flex items-center gap-3 px-4 py-4 rounded-lg text-sm font-bold transition-all touch-target ${P?"bg-espresso-600 text-white shadow-md":"text-gray-600 dark:text-gray-300 hover:bg-espresso-50 dark:hover:bg-gray-700/50 hover:text-espresso-700 dark:hover:text-white"}`,children:[C.icon,C.label]},C.path))}),m.jsxs("div",{className:"p-4 border-t border-natural-100 dark:border-gray-700 space-y-2 shrink-0",children:[m.jsxs("button",{onClick:o,className:"w-full flex items-center justify-center gap-2 p-3 rounded-lg border border-natural-100 dark:border-gray-600 hover:bg-natural-50 dark:hover:bg-gray-700 transition-colors text-black dark:text-white font-bold text-sm touch-target",children:[i.theme==="dark"?m.jsx(MR,{size:18}):m.jsx(jR,{size:18}),m.jsx("span",{children:i.theme==="dark"?"Modo Claro":"Modo Escuro"})]}),m.jsxs("button",{onClick:k,className:"w-full flex items-center justify-center gap-2 p-3 rounded-lg text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors font-bold text-sm touch-target",children:[m.jsx(kR,{size:18}),m.jsx("span",{children:"Sair"})]})]})]}),m.jsx("main",{className:"flex-1 min-w-0 pt-16 lg:pt-0 pb-16 lg:pb-0 overflow-y-auto h-full",children:m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 md:py-8",children:t})}),m.jsx("nav",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-800 border-t border-black dark:border-white flex justify-around items-center h-16 z-30 px-2 pb-safe",children:w.map(C=>m.jsx(Qc,{to:C.path,className:({isActive:P})=>`flex flex-col items-center justify-center p-2 rounded-lg w-full transition-all ${P?"text-espresso-600 dark:text-espresso-400":"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300"}`,children:({isActive:P})=>m.jsxs(m.Fragment,{children:[m.jsx("div",{className:`p-1 rounded-full ${P?"bg-espresso-50 dark:bg-espresso-900/30":""}`,children:C.icon}),m.jsx("span",{className:`text-[10px] font-bold mt-1 ${P?"text-espresso-600 dark:text-espresso-400":""}`,children:C.label})]})},C.path))})]})},Qn=({isOpen:t,onClose:e,title:r,children:i})=>(T.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),t?zk.createPortal(m.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:e,children:m.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md overflow-hidden transform transition-all border border-natural-100 dark:border-gray-700",onClick:o=>o.stopPropagation(),children:[m.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-natural-100 dark:border-gray-700",children:[m.jsx("h3",{className:"text-lg font-bold text-black dark:text-white",children:r}),m.jsx("button",{onClick:e,className:"text-black dark:text-white hover:text-espresso-700 dark:hover:text-gray-300 transition-colors font-bold",children:""})]}),m.jsx("div",{className:"p-4 max-h-[80vh] overflow-y-auto",children:i})]})}),document.body):null);var jo=t=>t.type==="checkbox",Jn=t=>t instanceof Date,$t=t=>t==null;const ew=t=>typeof t=="object";var at=t=>!$t(t)&&!Array.isArray(t)&&ew(t)&&!Jn(t),XR=t=>at(t)&&t.target?jo(t.target)?t.target.checked:t.target.value:t,ZR=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,eP=(t,e)=>t.has(ZR(e)),tP=t=>{const e=t.constructor&&t.constructor.prototype;return at(e)&&e.hasOwnProperty("isPrototypeOf")},kh=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ct(t){if(t instanceof Date)return new Date(t);const e=typeof FileList<"u"&&t instanceof FileList;if(kh&&(t instanceof Blob||e))return t;const r=Array.isArray(t);if(!r&&!(at(t)&&tP(t)))return t;const i=r?[]:Object.create(Object.getPrototypeOf(t));for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(i[o]=ct(t[o]));return i}var Al=t=>/^\w*$/.test(t),Je=t=>t===void 0,_h=t=>Array.isArray(t)?t.filter(Boolean):[],Sh=t=>_h(t.replace(/["|']|\]/g,"").split(/\.|\[/)),le=(t,e,r)=>{if(!e||!at(t))return r;const i=(Al(e)?[e]:Sh(e)).reduce((o,l)=>$t(o)?o:o[l],t);return Je(i)||i===t?Je(t[e])?r:t[e]:i},jr=t=>typeof t=="boolean",wr=t=>typeof t=="function",qe=(t,e,r)=>{let i=-1;const o=Al(e)?[e]:Sh(e),l=o.length,u=l-1;for(;++i<l;){const d=o[i];let h=r;if(i!==u){const p=t[d];h=at(p)||Array.isArray(p)?p:isNaN(+o[i+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;t[d]=h,t=t[d]}};const py={BLUR:"blur",FOCUS_OUT:"focusout"},xr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},$r={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},rP=Tt.createContext(null);rP.displayName="HookFormControlContext";var nP=(t,e,r,i=!0)=>{const o={defaultValues:e._defaultValues};for(const l in t)Object.defineProperty(o,l,{get:()=>{const u=l;return e._proxyFormState[u]!==xr.all&&(e._proxyFormState[u]=!i||xr.all),t[u]}});return o};const sP=typeof window<"u"?Tt.useLayoutEffect:Tt.useEffect;var Kt=t=>typeof t=="string",iP=(t,e,r,i,o)=>Kt(t)?(i&&e.watch.add(t),le(r,t,o)):Array.isArray(t)?t.map(l=>(i&&e.watch.add(l),le(r,l))):(i&&(e.watchAll=!0),r),Nd=t=>$t(t)||!ew(t);function wn(t,e,r=new WeakSet){if(Nd(t)||Nd(e))return Object.is(t,e);if(Jn(t)&&Jn(e))return Object.is(t.getTime(),e.getTime());const i=Object.keys(t),o=Object.keys(e);if(i.length!==o.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const l of i){const u=t[l];if(!o.includes(l))return!1;if(l!=="ref"){const d=e[l];if(Jn(u)&&Jn(d)||at(u)&&at(d)||Array.isArray(u)&&Array.isArray(d)?!wn(u,d,r):!Object.is(u,d))return!1}}return!0}const oP=Tt.createContext(null);oP.displayName="HookFormContext";var aP=(t,e,r,i,o)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[i]:o||!0}}:{},io=t=>Array.isArray(t)?t:[t],my=()=>{let t=[];return{get observers(){return t},next:o=>{for(const l of t)l.next&&l.next(o)},subscribe:o=>(t.push(o),{unsubscribe:()=>{t=t.filter(l=>l!==o)}}),unsubscribe:()=>{t=[]}}};function tw(t,e){const r={};for(const i in t)if(t.hasOwnProperty(i)){const o=t[i],l=e[i];if(o&&at(o)&&l){const u=tw(o,l);at(u)&&(r[i]=u)}else t[i]&&(r[i]=l)}return r}var Pt=t=>at(t)&&!Object.keys(t).length,Eh=t=>t.type==="file",wl=t=>{if(!kh)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},rw=t=>t.type==="select-multiple",Th=t=>t.type==="radio",lP=t=>Th(t)||jo(t),Gc=t=>wl(t)&&t.isConnected;function uP(t,e){const r=e.slice(0,-1).length;let i=0;for(;i<r;)t=Je(t)?i++:t[e[i++]];return t}function cP(t){for(const e in t)if(t.hasOwnProperty(e)&&!Je(t[e]))return!1;return!0}function st(t,e){const r=Array.isArray(e)?e:Al(e)?[e]:Sh(e),i=r.length===1?t:uP(t,r),o=r.length-1,l=r[o];return i&&delete i[l],o!==0&&(at(i)&&Pt(i)||Array.isArray(i)&&cP(i))&&st(t,r.slice(0,-1)),t}var dP=t=>{for(const e in t)if(wr(t[e]))return!0;return!1};function nw(t){return Array.isArray(t)||at(t)&&!dP(t)}function Ad(t,e={}){for(const r in t){const i=t[r];nw(i)?(e[r]=Array.isArray(i)?[]:{},Ad(i,e[r])):Je(i)||(e[r]=!0)}return e}function Ms(t,e,r){r||(r=Ad(e));for(const i in t){const o=t[i];if(nw(o))Je(e)||Nd(r[i])?r[i]=Ad(o,Array.isArray(o)?[]:{}):Ms(o,$t(e)?{}:e[i],r[i]);else{const l=e[i];r[i]=!wn(o,l)}}return r}const gy={value:!1,isValid:!1},yy={value:!0,isValid:!0};var sw=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Je(t[0].attributes.value)?Je(t[0].value)||t[0].value===""?yy:{value:t[0].value,isValid:!0}:yy:gy}return gy},iw=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:i})=>Je(t)?t:e?t===""?NaN:t&&+t:r&&Kt(t)?new Date(t):i?i(t):t;const vy={isValid:!1,value:null};var ow=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,vy):vy;function wy(t){const e=t.ref;return Eh(e)?e.files:Th(e)?ow(t.refs).value:rw(e)?[...e.selectedOptions].map(({value:r})=>r):jo(e)?sw(t.refs).value:iw(Je(e.value)?t.ref.value:e.value,t)}var hP=(t,e,r,i)=>{const o={};for(const l of t){const u=le(e,l);u&&qe(o,l,u._f)}return{criteriaMode:r,names:[...t],fields:o,shouldUseNativeValidation:i}},xl=t=>t instanceof RegExp,Gi=t=>Je(t)?t:xl(t)?t.source:at(t)?xl(t.value)?t.value.source:t.value:t,xy=t=>({isOnSubmit:!t||t===xr.onSubmit,isOnBlur:t===xr.onBlur,isOnChange:t===xr.onChange,isOnAll:t===xr.all,isOnTouch:t===xr.onTouched});const by="AsyncFunction";var fP=t=>!!t&&!!t.validate&&!!(wr(t.validate)&&t.validate.constructor.name===by||at(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===by)),pP=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),ky=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(i=>t.startsWith(i)&&/^\.\w+/.test(t.slice(i.length))));const oo=(t,e,r,i)=>{for(const o of r||Object.keys(t)){const l=le(t,o);if(l){const{_f:u,...d}=l;if(u){if(u.refs&&u.refs[0]&&e(u.refs[0],o)&&!i)return!0;if(u.ref&&e(u.ref,u.name)&&!i)return!0;if(oo(d,e))break}else if(at(d)&&oo(d,e))break}}};function _y(t,e,r){const i=le(t,r);if(i||Al(r))return{error:i,name:r};const o=r.split(".");for(;o.length;){const l=o.join("."),u=le(e,l),d=le(t,l);if(u&&!Array.isArray(u)&&r!==l)return{name:r};if(d&&d.type)return{name:l,error:d};if(d&&d.root&&d.root.type)return{name:`${l}.root`,error:d.root};o.pop()}return{name:r}}var mP=(t,e,r,i)=>{r(t);const{name:o,...l}=t;return Pt(l)||Object.keys(l).length>=Object.keys(e).length||Object.keys(l).find(u=>e[u]===(!i||xr.all))},gP=(t,e,r)=>!t||!e||t===e||io(t).some(i=>i&&(r?i===e:i.startsWith(e)||e.startsWith(i))),yP=(t,e,r,i,o)=>o.isOnAll?!1:!r&&o.isOnTouch?!(e||t):(r?i.isOnBlur:o.isOnBlur)?!t:(r?i.isOnChange:o.isOnChange)?t:!0,vP=(t,e)=>!_h(le(t,e)).length&&st(t,e),wP=(t,e,r)=>{const i=io(le(t,r));return qe(i,"root",e[r]),qe(t,r,i),t};function Sy(t,e,r="validate"){if(Kt(t)||Array.isArray(t)&&t.every(Kt)||jr(t)&&!t)return{type:r,message:Kt(t)?t:"",ref:e}}var Os=t=>at(t)&&!xl(t)?t:{value:t,message:""},Ey=async(t,e,r,i,o,l)=>{const{ref:u,refs:d,required:h,maxLength:p,minLength:y,min:v,max:w,pattern:b,validate:k,name:_,valueAsNumber:S,mount:C}=t._f,P=le(r,_);if(!C||e.has(_))return{};const j=d?d[0]:u,I=ce=>{o&&j.reportValidity&&(j.setCustomValidity(jr(ce)?"":ce||""),j.reportValidity())},A={},B=Th(u),G=jo(u),z=B||G,M=(S||Eh(u))&&Je(u.value)&&Je(P)||wl(u)&&u.value===""||P===""||Array.isArray(P)&&!P.length,te=aP.bind(null,_,i,A),Ne=(ce,fe,ke,Ae=$r.maxLength,De=$r.minLength)=>{const pe=ce?fe:ke;A[_]={type:ce?Ae:De,message:pe,ref:u,...te(ce?Ae:De,pe)}};if(l?!Array.isArray(P)||!P.length:h&&(!z&&(M||$t(P))||jr(P)&&!P||G&&!sw(d).isValid||B&&!ow(d).isValid)){const{value:ce,message:fe}=Kt(h)?{value:!!h,message:h}:Os(h);if(ce&&(A[_]={type:$r.required,message:fe,ref:j,...te($r.required,fe)},!i))return I(fe),A}if(!M&&(!$t(v)||!$t(w))){let ce,fe;const ke=Os(w),Ae=Os(v);if(!$t(P)&&!isNaN(P)){const De=u.valueAsNumber||P&&+P;$t(ke.value)||(ce=De>ke.value),$t(Ae.value)||(fe=De<Ae.value)}else{const De=u.valueAsDate||new Date(P),pe=Z=>new Date(new Date().toDateString()+" "+Z),J=u.type=="time",oe=u.type=="week";Kt(ke.value)&&P&&(ce=J?pe(P)>pe(ke.value):oe?P>ke.value:De>new Date(ke.value)),Kt(Ae.value)&&P&&(fe=J?pe(P)<pe(Ae.value):oe?P<Ae.value:De<new Date(Ae.value))}if((ce||fe)&&(Ne(!!ce,ke.message,Ae.message,$r.max,$r.min),!i))return I(A[_].message),A}if((p||y)&&!M&&(Kt(P)||l&&Array.isArray(P))){const ce=Os(p),fe=Os(y),ke=!$t(ce.value)&&P.length>+ce.value,Ae=!$t(fe.value)&&P.length<+fe.value;if((ke||Ae)&&(Ne(ke,ce.message,fe.message),!i))return I(A[_].message),A}if(b&&!M&&Kt(P)){const{value:ce,message:fe}=Os(b);if(xl(ce)&&!P.match(ce)&&(A[_]={type:$r.pattern,message:fe,ref:u,...te($r.pattern,fe)},!i))return I(fe),A}if(k){if(wr(k)){const ce=await k(P,r),fe=Sy(ce,j);if(fe&&(A[_]={...fe,...te($r.validate,fe.message)},!i))return I(fe.message),A}else if(at(k)){let ce={};for(const fe in k){if(!Pt(ce)&&!i)break;const ke=Sy(await k[fe](P,r),j,fe);ke&&(ce={...ke,...te(fe,ke.message)},I(ke.message),i&&(A[_]=ce))}if(!Pt(ce)&&(A[_]={ref:j,...ce},!i))return A}}return I(!0),A};const xP={mode:xr.onSubmit,reValidateMode:xr.onChange,shouldFocusError:!0};function bP(t={}){let e={...xP,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:wr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},i={},o=at(e.defaultValues)||at(e.values)?ct(e.defaultValues||e.values)||{}:{},l=e.shouldUnregister?{}:ct(o),u={action:!1,mount:!1,watch:!1,keepIsValid:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},h,p=0;const y={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},v={...y};let w={...v};const b={array:my(),state:my()},k=e.criteriaMode===xr.all,_=R=>V=>{clearTimeout(p),p=setTimeout(R,V)},S=async R=>{if(!u.keepIsValid&&!e.disabled&&(v.isValid||w.isValid||R)){let V;e.resolver?(V=Pt((await z()).errors),C()):V=await te(i,!0),V!==r.isValid&&b.state.next({isValid:V})}},C=(R,V)=>{!e.disabled&&(v.isValidating||v.validatingFields||w.isValidating||w.validatingFields)&&((R||Array.from(d.mount)).forEach(F=>{F&&(V?qe(r.validatingFields,F,V):st(r.validatingFields,F))}),b.state.next({validatingFields:r.validatingFields,isValidating:!Pt(r.validatingFields)}))},P=(R,V=[],F,ee,X=!0,Y=!0)=>{if(ee&&F&&!e.disabled){if(u.action=!0,Y&&Array.isArray(le(i,R))){const he=F(le(i,R),ee.argA,ee.argB);X&&qe(i,R,he)}if(Y&&Array.isArray(le(r.errors,R))){const he=F(le(r.errors,R),ee.argA,ee.argB);X&&qe(r.errors,R,he),vP(r.errors,R)}if((v.touchedFields||w.touchedFields)&&Y&&Array.isArray(le(r.touchedFields,R))){const he=F(le(r.touchedFields,R),ee.argA,ee.argB);X&&qe(r.touchedFields,R,he)}(v.dirtyFields||w.dirtyFields)&&(r.dirtyFields=Ms(o,l)),b.state.next({name:R,isDirty:ce(R,V),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else qe(l,R,V)},j=(R,V)=>{qe(r.errors,R,V),b.state.next({errors:r.errors})},I=R=>{r.errors=R,b.state.next({errors:r.errors,isValid:!1})},A=(R,V,F,ee)=>{const X=le(i,R);if(X){const Y=le(l,R,Je(F)?le(o,R):F);Je(Y)||ee&&ee.defaultChecked||V?qe(l,R,V?Y:wy(X._f)):Ae(R,Y),u.mount&&!u.action&&S()}},B=(R,V,F,ee,X)=>{let Y=!1,he=!1;const Te={name:R};if(!e.disabled){if(!F||ee){(v.isDirty||w.isDirty)&&(he=r.isDirty,r.isDirty=Te.isDirty=ce(),Y=he!==Te.isDirty);const Re=wn(le(o,R),V);he=!!le(r.dirtyFields,R),Re?st(r.dirtyFields,R):qe(r.dirtyFields,R,!0),Te.dirtyFields=r.dirtyFields,Y=Y||(v.dirtyFields||w.dirtyFields)&&he!==!Re}if(F){const Re=le(r.touchedFields,R);Re||(qe(r.touchedFields,R,F),Te.touchedFields=r.touchedFields,Y=Y||(v.touchedFields||w.touchedFields)&&Re!==F)}Y&&X&&b.state.next(Te)}return Y?Te:{}},G=(R,V,F,ee)=>{const X=le(r.errors,R),Y=(v.isValid||w.isValid)&&jr(V)&&r.isValid!==V;if(e.delayError&&F?(h=_(()=>j(R,F)),h(e.delayError)):(clearTimeout(p),h=null,F?qe(r.errors,R,F):st(r.errors,R)),(F?!wn(X,F):X)||!Pt(ee)||Y){const he={...ee,...Y&&jr(V)?{isValid:V}:{},errors:r.errors,name:R};r={...r,...he},b.state.next(he)}},z=async R=>(C(R,!0),await e.resolver(l,e.context,hP(R||d.mount,i,e.criteriaMode,e.shouldUseNativeValidation))),M=async R=>{const{errors:V}=await z(R);if(C(R),R)for(const F of R){const ee=le(V,F);ee?qe(r.errors,F,ee):st(r.errors,F)}else r.errors=V;return V},te=async(R,V,F={valid:!0})=>{for(const ee in R){const X=R[ee];if(X){const{_f:Y,...he}=X;if(Y){const Te=d.array.has(Y.name),Re=X._f&&fP(X._f);Re&&v.validatingFields&&C([Y.name],!0);const et=await Ey(X,d.disabled,l,k,e.shouldUseNativeValidation&&!V,Te);if(Re&&v.validatingFields&&C([Y.name]),et[Y.name]&&(F.valid=!1,V||t.shouldUseNativeValidation))break;!V&&(le(et,Y.name)?Te?wP(r.errors,et,Y.name):qe(r.errors,Y.name,et[Y.name]):st(r.errors,Y.name))}!Pt(he)&&await te(he,V,F)}}return F.valid},Ne=()=>{for(const R of d.unMount){const V=le(i,R);V&&(V._f.refs?V._f.refs.every(F=>!Gc(F)):!Gc(V._f.ref))&&Ce(R)}d.unMount=new Set},ce=(R,V)=>!e.disabled&&(R&&V&&qe(l,R,V),!wn(L(),o)),fe=(R,V,F)=>iP(R,d,{...u.mount?l:Je(V)?o:Kt(R)?{[R]:V}:V},F,V),ke=R=>_h(le(u.mount?l:o,R,e.shouldUnregister?le(o,R,[]):[])),Ae=(R,V,F={})=>{const ee=le(i,R);let X=V;if(ee){const Y=ee._f;Y&&(!Y.disabled&&qe(l,R,iw(V,Y)),X=wl(Y.ref)&&$t(V)?"":V,rw(Y.ref)?[...Y.ref.options].forEach(he=>he.selected=X.includes(he.value)):Y.refs?jo(Y.ref)?Y.refs.forEach(he=>{(!he.defaultChecked||!he.disabled)&&(Array.isArray(X)?he.checked=!!X.find(Te=>Te===he.value):he.checked=X===he.value||!!X)}):Y.refs.forEach(he=>he.checked=he.value===X):Eh(Y.ref)?Y.ref.value="":(Y.ref.value=X,Y.ref.type||b.state.next({name:R,values:ct(l)})))}(F.shouldDirty||F.shouldTouch)&&B(R,X,F.shouldTouch,F.shouldDirty,!0),F.shouldValidate&&Z(R)},De=(R,V,F)=>{for(const ee in V){if(!V.hasOwnProperty(ee))return;const X=V[ee],Y=R+"."+ee,he=le(i,Y);(d.array.has(R)||at(X)||he&&!he._f)&&!Jn(X)?De(Y,X,F):Ae(Y,X,F)}},pe=(R,V,F={})=>{const ee=le(i,R),X=d.array.has(R),Y=ct(V);qe(l,R,Y),X?(b.array.next({name:R,values:ct(l)}),(v.isDirty||v.dirtyFields||w.isDirty||w.dirtyFields)&&F.shouldDirty&&b.state.next({name:R,dirtyFields:Ms(o,l),isDirty:ce(R,Y)})):ee&&!ee._f&&!$t(Y)?De(R,Y,F):Ae(R,Y,F),ky(R,d)?b.state.next({...r,name:R,values:ct(l)}):b.state.next({name:u.mount?R:void 0,values:ct(l)})},J=async R=>{u.mount=!0;const V=R.target;let F=V.name,ee=!0;const X=le(i,F),Y=Re=>{ee=Number.isNaN(Re)||Jn(Re)&&isNaN(Re.getTime())||wn(Re,le(l,F,Re))},he=xy(e.mode),Te=xy(e.reValidateMode);if(X){let Re,et;const Ut=V.type?wy(X._f):XR(R),kr=R.type===py.BLUR||R.type===py.FOCUS_OUT,Ao=!pP(X._f)&&!e.resolver&&!le(r.errors,F)&&!X._f.deps||yP(kr,le(r.touchedFields,F),r.isSubmitted,Te,he),es=ky(F,d,kr);qe(l,F,Ut),kr?(!V||!V.readOnly)&&(X._f.onBlur&&X._f.onBlur(R),h&&h(0)):X._f.onChange&&X._f.onChange(R);const ii=B(F,Ut,kr),oi=!Pt(ii)||es;if(!kr&&b.state.next({name:F,type:R.type,values:ct(l)}),Ao)return(v.isValid||w.isValid)&&(e.mode==="onBlur"?kr&&S():kr||S()),oi&&b.state.next({name:F,...es?{}:ii});if(!kr&&es&&b.state.next({...r}),e.resolver){const{errors:ts}=await z([F]);if(C([F]),Y(Ut),ee){const ai=_y(r.errors,i,F),rs=_y(ts,i,ai.name||F);Re=rs.error,F=rs.name,et=Pt(ts)}}else C([F],!0),Re=(await Ey(X,d.disabled,l,k,e.shouldUseNativeValidation))[F],C([F]),Y(Ut),ee&&(Re?et=!1:(v.isValid||w.isValid)&&(et=await te(i,!0)));ee&&(X._f.deps&&(!Array.isArray(X._f.deps)||X._f.deps.length>0)&&Z(X._f.deps),G(F,et,Re,ii))}},oe=(R,V)=>{if(le(r.errors,V)&&R.focus)return R.focus(),1},Z=async(R,V={})=>{let F,ee;const X=io(R);if(e.resolver){const Y=await M(Je(R)?R:X);F=Pt(Y),ee=R?!X.some(he=>le(Y,he)):F}else R?(ee=(await Promise.all(X.map(async Y=>{const he=le(i,Y);return await te(he&&he._f?{[Y]:he}:he)}))).every(Boolean),!(!ee&&!r.isValid)&&S()):ee=F=await te(i);return b.state.next({...!Kt(R)||(v.isValid||w.isValid)&&F!==r.isValid?{}:{name:R},...e.resolver||!R?{isValid:F}:{},errors:r.errors}),V.shouldFocus&&!ee&&oo(i,oe,R?X:d.mount),ee},L=(R,V)=>{let F={...u.mount?l:o};return V&&(F=tw(V.dirtyFields?r.dirtyFields:r.touchedFields,F)),Je(R)?F:Kt(R)?le(F,R):R.map(ee=>le(F,ee))},W=(R,V)=>({invalid:!!le((V||r).errors,R),isDirty:!!le((V||r).dirtyFields,R),error:le((V||r).errors,R),isValidating:!!le(r.validatingFields,R),isTouched:!!le((V||r).touchedFields,R)}),xe=R=>{R&&io(R).forEach(V=>st(r.errors,V)),b.state.next({errors:R?r.errors:{}})},be=(R,V,F)=>{const ee=(le(i,R,{_f:{}})._f||{}).ref,X=le(r.errors,R)||{},{ref:Y,message:he,type:Te,...Re}=X;qe(r.errors,R,{...Re,...V,ref:ee}),b.state.next({name:R,errors:r.errors,isValid:!1}),F&&F.shouldFocus&&ee&&ee.focus&&ee.focus()},Ee=(R,V)=>wr(R)?b.state.subscribe({next:F=>"values"in F&&R(fe(void 0,V),F)}):fe(R,V,!0),Se=R=>b.state.subscribe({next:V=>{gP(R.name,V.name,R.exact)&&mP(V,R.formState||v,Po,R.reRenderRoot)&&R.callback({values:{...l},...r,...V,defaultValues:o})}}).unsubscribe,Le=R=>(u.mount=!0,w={...w,...R.formState},Se({...R,formState:{...y,...R.formState}})),Ce=(R,V={})=>{for(const F of R?io(R):d.mount)d.mount.delete(F),d.array.delete(F),V.keepValue||(st(i,F),st(l,F)),!V.keepError&&st(r.errors,F),!V.keepDirty&&st(r.dirtyFields,F),!V.keepTouched&&st(r.touchedFields,F),!V.keepIsValidating&&st(r.validatingFields,F),!e.shouldUnregister&&!V.keepDefaultValue&&st(o,F);b.state.next({values:ct(l)}),b.state.next({...r,...V.keepDirty?{isDirty:ce()}:{}}),!V.keepIsValid&&S()},Me=({disabled:R,name:V})=>{if(jr(R)&&u.mount||R||d.disabled.has(V)){const X=d.disabled.has(V)!==!!R;R?d.disabled.add(V):d.disabled.delete(V),X&&u.mount&&!u.action&&S()}},gt=(R,V={})=>{let F=le(i,R);const ee=jr(V.disabled)||jr(e.disabled);return qe(i,R,{...F||{},_f:{...F&&F._f?F._f:{ref:{name:R}},name:R,mount:!0,...V}}),d.mount.add(R),F?Me({disabled:jr(V.disabled)?V.disabled:e.disabled,name:R}):A(R,!0,V.value),{...ee?{disabled:V.disabled||e.disabled}:{},...e.progressive?{required:!!V.required,min:Gi(V.min),max:Gi(V.max),minLength:Gi(V.minLength),maxLength:Gi(V.maxLength),pattern:Gi(V.pattern)}:{},name:R,onChange:J,onBlur:J,ref:X=>{if(X){gt(R,V),F=le(i,R);const Y=Je(X.value)&&X.querySelectorAll&&X.querySelectorAll("input,select,textarea")[0]||X,he=lP(Y),Te=F._f.refs||[];if(he?Te.find(Re=>Re===Y):Y===F._f.ref)return;qe(i,R,{_f:{...F._f,...he?{refs:[...Te.filter(Gc),Y,...Array.isArray(le(o,R))?[{}]:[]],ref:{type:Y.type,name:R}}:{ref:Y}}}),A(R,!1,void 0,Y)}else F=le(i,R,{}),F._f&&(F._f.mount=!1),(e.shouldUnregister||V.shouldUnregister)&&!(eP(d.array,R)&&u.action)&&d.unMount.add(R)}}},Gr=()=>e.shouldFocusError&&oo(i,oe,d.mount),Ro=R=>{jr(R)&&(b.state.next({disabled:R}),oo(i,(V,F)=>{const ee=le(i,F);ee&&(V.disabled=ee._f.disabled||R,Array.isArray(ee._f.refs)&&ee._f.refs.forEach(X=>{X.disabled=ee._f.disabled||R}))},0,!1))},En=(R,V)=>async F=>{let ee;F&&(F.preventDefault&&F.preventDefault(),F.persist&&F.persist());let X=ct(l);if(b.state.next({isSubmitting:!0}),e.resolver){const{errors:Y,values:he}=await z();C(),r.errors=Y,X=ct(he)}else await te(i);if(d.disabled.size)for(const Y of d.disabled)st(X,Y);if(st(r.errors,"root"),Pt(r.errors)){b.state.next({errors:{}});try{await R(X,F)}catch(Y){ee=Y}}else V&&await V({...r.errors},F),Gr(),setTimeout(Gr);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Pt(r.errors)&&!ee,submitCount:r.submitCount+1,errors:r.errors}),ee)throw ee},ti=(R,V={})=>{le(i,R)&&(Je(V.defaultValue)?pe(R,ct(le(o,R))):(pe(R,V.defaultValue),qe(o,R,ct(V.defaultValue))),V.keepTouched||st(r.touchedFields,R),V.keepDirty||(st(r.dirtyFields,R),r.isDirty=V.defaultValue?ce(R,ct(le(o,R))):ce()),V.keepError||(st(r.errors,R),v.isValid&&S()),b.state.next({...r}))},ri=(R,V={})=>{const F=R?ct(R):o,ee=ct(F),X=Pt(R),Y=X?o:ee;if(V.keepDefaultValues||(o=F),!V.keepValues){if(V.keepDirtyValues){const he=new Set([...d.mount,...Object.keys(Ms(o,l))]);for(const Te of Array.from(he)){const Re=le(r.dirtyFields,Te),et=le(l,Te),Ut=le(Y,Te);Re&&!Je(et)?qe(Y,Te,et):!Re&&!Je(Ut)&&pe(Te,Ut)}}else{if(kh&&Je(R))for(const he of d.mount){const Te=le(i,he);if(Te&&Te._f){const Re=Array.isArray(Te._f.refs)?Te._f.refs[0]:Te._f.ref;if(wl(Re)){const et=Re.closest("form");if(et){et.reset();break}}}}if(V.keepFieldsRef)for(const he of d.mount)pe(he,le(Y,he));else i={}}l=e.shouldUnregister?V.keepDefaultValues?ct(o):{}:ct(Y),b.array.next({values:{...Y}}),b.state.next({values:{...Y}})}d={mount:V.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!v.isValid||!!V.keepIsValid||!!V.keepDirtyValues||!e.shouldUnregister&&!Pt(Y),u.watch=!!e.shouldUnregister,u.keepIsValid=!!V.keepIsValid,u.action=!1,V.keepErrors||(r.errors={}),b.state.next({submitCount:V.keepSubmitCount?r.submitCount:0,isDirty:X?!1:V.keepDirty?r.isDirty:!!(V.keepDefaultValues&&!wn(R,o)),isSubmitted:V.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:X?{}:V.keepDirtyValues?V.keepDefaultValues&&l?Ms(o,l):r.dirtyFields:V.keepDefaultValues&&R?Ms(o,R):V.keepDirty?r.dirtyFields:{},touchedFields:V.keepTouched?r.touchedFields:{},errors:V.keepErrors?r.errors:{},isSubmitSuccessful:V.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:o})},ni=(R,V)=>ri(wr(R)?R(l):R,{...e.resetOptions,...V}),si=(R,V={})=>{const F=le(i,R),ee=F&&F._f;if(ee){const X=ee.refs?ee.refs[0]:ee.ref;X.focus&&setTimeout(()=>{X.focus(),V.shouldSelect&&wr(X.select)&&X.select()})}},Po=R=>{r={...r,...R}},Jr={control:{register:gt,unregister:Ce,getFieldState:W,handleSubmit:En,setError:be,_subscribe:Se,_runSchema:z,_updateIsValidating:C,_focusError:Gr,_getWatch:fe,_getDirty:ce,_setValid:S,_setFieldArray:P,_setDisabledField:Me,_setErrors:I,_getFieldArray:ke,_reset:ri,_resetDefaultValues:()=>wr(e.defaultValues)&&e.defaultValues().then(R=>{ni(R,e.resetOptions),b.state.next({isLoading:!1})}),_removeUnmounted:Ne,_disableForm:Ro,_subjects:b,_proxyFormState:v,get _fields(){return i},get _formValues(){return l},get _state(){return u},set _state(R){u=R},get _defaultValues(){return o},get _names(){return d},set _names(R){d=R},get _formState(){return r},get _options(){return e},set _options(R){e={...e,...R}}},subscribe:Le,trigger:Z,register:gt,handleSubmit:En,watch:Ee,setValue:pe,getValues:L,reset:ni,resetField:ti,clearErrors:xe,unregister:Ce,setError:be,setFocus:si,getFieldState:W};return{...Jr,formControl:Jr}}function aw(t={}){const e=Tt.useRef(void 0),r=Tt.useRef(void 0),[i,o]=Tt.useState({isDirty:!1,isValidating:!1,isLoading:wr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:wr(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:i},t.defaultValues&&!wr(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:u,...d}=bP(t);e.current={...d,formState:i}}const l=e.current.control;return l._options=t,sP(()=>{const u=l._subscribe({formState:l._proxyFormState,callback:()=>o({...l._formState}),reRenderRoot:!0});return o(d=>({...d,isReady:!0})),l._formState.isReady=!0,u},[l]),Tt.useEffect(()=>l._disableForm(t.disabled),[l,t.disabled]),Tt.useEffect(()=>{t.mode&&(l._options.mode=t.mode),t.reValidateMode&&(l._options.reValidateMode=t.reValidateMode)},[l,t.mode,t.reValidateMode]),Tt.useEffect(()=>{t.errors&&(l._setErrors(t.errors),l._focusError())},[l,t.errors]),Tt.useEffect(()=>{t.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[l,t.shouldUnregister]),Tt.useEffect(()=>{if(l._proxyFormState.isDirty){const u=l._getDirty();u!==i.isDirty&&l._subjects.state.next({isDirty:u})}},[l,i.isDirty]),Tt.useEffect(()=>{var u;t.values&&!wn(t.values,r.current)?(l._reset(t.values,{keepFieldsRef:!0,...l._options.resetOptions}),!((u=l._options.resetOptions)===null||u===void 0)&&u.keepIsValid||l._setValid(),r.current=t.values,o(d=>({...d}))):l._resetDefaultValues()},[l,t.values]),Tt.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),e.current.formState=Tt.useMemo(()=>nP(i,l),[l,i]),e.current}const Ch=({onSuccess:t,onCancel:e,initialData:r})=>{const{state:i,actions:o}=Zn(),{user:l}=Nl(),{showToast:u}=ei(),{register:d,handleSubmit:h,formState:{errors:p},reset:y,watch:v,setValue:w}=aw({defaultValues:{type:(r==null?void 0:r.type)??"entrada",coffeeId:(r==null?void 0:r.coffeeId)||"",pr:(r==null?void 0:r.pr)||"",quantity:r==null?void 0:r.quantity,observations:(r==null?void 0:r.observations)||"",responsible:(r==null?void 0:r.responsible)||"",date:r!=null&&r.timestamp?new Date(r.timestamp).toISOString().split("T")[0]:new Date().toISOString().split("T")[0]}}),b=v("coffeeId"),k=v("type"),_=v("pr");T.useEffect(()=>{if(r){w("type",r.type),w("coffeeId",r.coffeeId),w("pr",r.pr);const I=r.timestamp?new Date(r.timestamp).toISOString().split("T")[0]:"";w("date",I),w("quantity",r.quantity),w("observations",r.observations||""),w("responsible",r.responsible||"")}},[r,w]);const S=i.coffees.find(I=>I.id===b),C=(S==null?void 0:S.roasts.filter(I=>I.quantity>0||r&&r.coffeeId===b&&I.pr===r.pr))||[],P=S==null?void 0:S.roasts.find(I=>I.pr===_);T.useEffect(()=>{!r&&k==="saida"&&S&&(C.length>0?_&&C.some(A=>A.pr===_)||w("pr",C[0].pr):w("pr",""))},[r,k,S,C,_,w]);const j=I=>{var A;try{const B=Number(I.quantity);if(isNaN(B)){u("A quantidade deve ser um nmero vlido.","error");return}if(I.type==="saida"&&S){let z=S.roasts.reduce((M,te)=>M+te.quantity,0);if(r&&r.type==="saida"&&r.coffeeId===I.coffeeId&&(z+=r.quantity),B>z){u(`Quantidade insuficiente! Estoque disponvel: ${z}g`,"error");return}}if(!l){u("Erro: Usurio no identificado. Por favor, faa login novamente.","error");return}const G={type:I.type,coffeeId:I.coffeeId,coffeeName:(S==null?void 0:S.name)||"",pr:I.pr,quantity:B,observations:I.observations,responsible:((A=l.user_metadata)==null?void 0:A.name)||l.email||"Usurio",timestamp:r&&r.timestamp.startsWith(I.date)?r.timestamp:new Date(`${I.date}T${new Date().toTimeString().split(" ")[0]}`).toISOString()};r?o.updateMovement(r.id,G):o.addMovement(G),y(),t&&t()}catch(B){console.error(B)}};return m.jsx("div",{className:"space-y-4",children:m.jsxs("form",{onSubmit:h(j),className:"space-y-4",children:[m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("label",{className:"flex items-center p-4 border border-natural-100 dark:border-gray-600 rounded-lg cursor-pointer hover:bg-natural-50 dark:hover:bg-gray-700 flex-1 justify-center transition-colors touch-target",children:[m.jsx("input",{type:"radio",value:"entrada",...d("type",{required:!0}),className:"text-black focus:ring-espresso-500"}),m.jsx("span",{className:"ml-2 font-bold text-black dark:text-white flex items-center gap-1",children:"Entrada"})]}),m.jsxs("label",{className:"flex items-center p-4 border border-natural-100 dark:border-gray-600 rounded-lg cursor-pointer hover:bg-natural-50 dark:hover:bg-gray-700 flex-1 justify-center transition-colors touch-target",children:[m.jsx("input",{type:"radio",value:"saida",...d("type",{required:!0}),className:"text-black focus:ring-espresso-500"}),m.jsx("span",{className:"ml-2 font-bold text-black dark:text-white flex items-center gap-1",children:"Sada"})]})]}),p.type&&m.jsx("p",{className:"text-xs text-red-500",children:"Selecione o tipo."}),k&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-black dark:text-white mb-1",children:"Caf"}),m.jsxs("select",{...d("coffeeId",{required:"Selecione um caf"}),className:"w-full h-11 rounded-md border-natural-100 dark:border-gray-600 bg-white dark:bg-gray-700 shadow-sm focus:border-espresso-500 focus:ring-espresso-500 py-2 px-3 border text-black dark:text-white font-medium touch-target",children:[m.jsx("option",{value:"",children:"Selecione..."}),i.coffees.map(I=>m.jsx("option",{value:I.id,children:I.name},I.id))]}),p.coffeeId&&m.jsx("p",{className:"text-xs text-red-600 mt-1",children:p.coffeeId.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-black dark:text-white mb-1",children:"Data"}),m.jsx("input",{type:"date",...d("date",{required:"Selecione a data"}),className:"w-full h-11 rounded-md border-natural-100 dark:border-gray-600 bg-white dark:bg-gray-700 shadow-sm focus:border-espresso-500 focus:ring-espresso-500 py-2 px-3 border text-black dark:text-white font-medium touch-target"}),p.date&&m.jsx("p",{className:"text-xs text-red-600 mt-1",children:p.date.message})]}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-black dark:text-white mb-1",children:"PR / Lote"}),k==="saida"?m.jsxs(m.Fragment,{children:[m.jsxs("select",{...d("pr",{required:"Selecione o PR"}),className:"w-full h-11 rounded-md border-natural-100 dark:border-gray-600 bg-white dark:bg-gray-700 shadow-sm focus:border-espresso-500 focus:ring-espresso-500 py-2 px-3 border text-black dark:text-white font-medium touch-target",disabled:!b||C.length===0,children:[m.jsx("option",{value:"",children:"Selecione..."}),C.map(I=>m.jsx("option",{value:I.pr,children:I.pr},I.id))]}),P&&m.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 font-medium",children:["Disponvel: ",P.quantity,"g"]}),b&&C.length===0&&m.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1 font-medium",children:"Nenhum lote com estoque disponvel para sada."})]}):m.jsx("input",{type:"text",...d("pr",{required:"Digite o PR"}),className:"w-full h-11 rounded-md border-natural-100 dark:border-gray-600 bg-white dark:bg-gray-700 shadow-sm focus:border-espresso-500 focus:ring-espresso-500 py-2 px-3 border text-black dark:text-white font-medium placeholder-gray-400 dark:placeholder-gray-500 touch-target",placeholder:"Digite o cdigo do PR"}),p.pr&&m.jsx("p",{className:"text-xs text-red-600 mt-1",children:p.pr.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-black dark:text-white mb-1",children:"Qtd (g)"}),m.jsx("input",{type:"number",...d("quantity",{required:!0,min:1,valueAsNumber:!0}),className:"w-full h-11 rounded-md border-natural-100 dark:border-gray-600 bg-white dark:bg-gray-700 shadow-sm focus:border-espresso-500 focus:ring-espresso-500 py-2 px-3 border text-black dark:text-white font-medium placeholder-gray-400 dark:placeholder-gray-500 touch-target",placeholder:"0"}),p.quantity&&m.jsx("p",{className:"text-xs text-red-500",children:"Qtd invlida."})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-black dark:text-white mb-1",children:"Observaes"}),m.jsx("textarea",{...d("observations"),className:"w-full h-24 rounded-md border-natural-100 dark:border-gray-600 bg-white dark:bg-gray-700 shadow-sm focus:border-espresso-500 focus:ring-espresso-500 py-2 px-3 border text-black dark:text-white font-medium placeholder-gray-400 dark:placeholder-gray-500 touch-target",rows:3,placeholder:"Detalhes opcionais..."})]})]}),m.jsxs("div",{className:"flex gap-3 pt-2 w-full",children:[e&&m.jsx("button",{type:"button",onClick:e,className:"flex-1 py-3 text-sm font-bold text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-espresso-500 touch-target ripple",children:"Cancelar"}),m.jsx("button",{type:"submit",className:"flex-1 py-3 text-sm font-bold text-white bg-espresso-600 border border-transparent rounded-lg shadow-sm hover:bg-espresso-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-espresso-500 touch-target ripple",children:r?"Atualizar":"Registrar"})]})]})})},kP=({type:t="card",count:e=3,className:r=""})=>{const i=()=>{switch(t){case"card":return m.jsx("div",{className:`bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-natural-100 dark:border-gray-700 ${r}`,children:m.jsx("div",{className:"flex items-start justify-between",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-12 h-12 bg-gray-200 dark:bg-gray-700 rounded-full animate-pulse"}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse w-32"}),m.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded animate-pulse w-24"})]})]})})});case"list":return m.jsx("div",{className:`bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-natural-100 dark:border-gray-700 overflow-hidden ${r}`,children:[...Array(e)].map((o,l)=>m.jsx("div",{className:"px-6 py-4 border-b border-natural-100 dark:border-gray-700 last:border-b-0",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse w-32"}),m.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded animate-pulse w-24"})]}),m.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded animate-pulse w-16"})]})},l))});case"table":return m.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-natural-100 dark:border-gray-700 overflow-hidden ${r}`,children:[m.jsx("div",{className:"px-6 py-4 border-b border-natural-100 dark:border-gray-700",children:m.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse w-24"})}),[...Array(e)].map((o,l)=>m.jsx("div",{className:"px-6 py-4 border-b border-natural-100 dark:border-gray-700 last:border-b-0",children:m.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[m.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"}),m.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"}),m.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"}),m.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"})]})},l))]});case"form":return m.jsxs("div",{className:`bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-natural-100 dark:border-gray-700 ${r}`,children:[[...Array(e)].map((o,l)=>m.jsxs("div",{className:"mb-4 last:mb-0",children:[m.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse w-20 mb-2"}),m.jsx("div",{className:"h-10 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"})]},l)),m.jsxs("div",{className:"flex gap-3 mt-6",children:[m.jsx("div",{className:"h-10 bg-gray-200 dark:bg-gray-700 rounded animate-pulse flex-1"}),m.jsx("div",{className:"h-10 bg-gray-200 dark:bg-gray-700 rounded animate-pulse flex-1"})]})]});default:return null}};return m.jsx(ml.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:t==="list"||t==="table"?i():m.jsx("div",{className:"space-y-4",children:[...Array(e)].map((o,l)=>m.jsx(ml.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.15,delay:l*.05},children:i()},l))})})};function xn(t){return new Intl.NumberFormat("pt-BR").format(t)+"g"}const _P=()=>{const t=Hr(),{state:e}=Zn(),[r,i]=T.useState(!1),[o,l]=T.useState(""),[u,d]=T.useState(""),[h,p]=T.useState("all"),[y,v]=T.useState(!1),[w,b]=T.useState(u),[k,_]=T.useState(h);if(e.loading)return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[m.jsxs("div",{children:[m.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded animate-pulse w-32"}),m.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse w-48 mt-2"})]}),m.jsx("div",{className:"h-10 bg-gray-200 dark:bg-gray-700 rounded animate-pulse w-32"})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[...Array(3)].map((A,B)=>m.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-natural-100 dark:border-gray-700",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse w-24"}),m.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded animate-pulse w-20"})]}),m.jsx("div",{className:"w-12 h-12 bg-gray-200 dark:bg-gray-700 rounded-full animate-pulse"})]})},B))}),m.jsx(kP,{type:"table",count:5})]});const S=e.coffees.reduce((A,B)=>A+B.roasts.reduce((G,z)=>G+z.quantity,0),0),C=e.coffees.filter(A=>A.roasts.reduce((B,G)=>B+G.quantity,0)<500).length,P=e.movements.filter(A=>{const B=new Date().toISOString().split("T")[0];return A.timestamp.startsWith(B)}).length,j=e.coffees.slice().sort((A,B)=>A.name.localeCompare(B.name)).map(A=>{const B=A.roasts.filter(G=>{let z=!0;if(u){const Ne=G.date.split("/");if(Ne.length===3){let[ce,fe,ke]=Ne;ke.length===2&&(ke="20"+ke),z=`${ke}-${fe}-${ce}`===u}else z=!1}let M=!0;if(o){const Ne=o.toLowerCase(),ce=A.name.toLowerCase().includes(Ne),fe=G.pr.toLowerCase().includes(Ne);M=ce||fe}const te=G.quantity>0;return z&&M&&te});return{...A,roasts:B}}).filter(A=>{const B=e.coffees.find(z=>z.id===A.id),G=B?B.roasts.reduce((z,M)=>z+M.quantity,0):0;if(h!=="all"){const z=G<500;if(h==="low"&&!z||h==="ok"&&z)return!1}return A.roasts.length>0}),I=()=>{window.innerWidth<1024?t("/movimentacoes/nova"):i(!0)};return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold text-black dark:text-white",children:"Viso Geral"}),m.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2 text-black dark:text-gray-300 mt-1",children:[m.jsxs("span",{className:"text-sm font-medium",children:["ltima atualizao: ",new Date(e.lastUpdate).toLocaleString("pt-BR")]}),e.lastUpdatedBy&&m.jsxs("span",{className:"text-sm font-medium hidden sm:inline",children:[" por ",e.lastUpdatedBy]}),e.lastUpdatedBy&&m.jsxs("span",{className:"text-sm font-medium sm:hidden",children:["por ",e.lastUpdatedBy]})]})]}),m.jsxs("button",{onClick:I,className:"hidden sm:flex bg-espresso-600 text-white px-5 py-3 rounded-lg hover:bg-espresso-700 transition-colors shadow-sm items-center justify-center gap-2 font-bold touch-target ripple",children:[m.jsx(xo,{size:20}),m.jsx("span",{children:"Nova Movimentao"})]})]}),m.jsx("button",{onClick:I,className:"fixed bottom-20 right-4 sm:hidden z-40 bg-espresso-600 text-white p-4 rounded-full shadow-lg hover:bg-espresso-700 touch-target","aria-label":"Nova Movimentao",children:m.jsx(xo,{size:24})}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-natural-100 dark:border-gray-700",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-bold text-black dark:text-white",children:"Estoque Total"}),m.jsx("p",{className:"text-2xl font-bold text-black dark:text-white",children:xn(S)})]}),m.jsx("div",{className:"bg-white dark:bg-gray-700 p-3 rounded-full text-black dark:text-white",children:m.jsx(PR,{size:24})})]})}),m.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-natural-100 dark:border-gray-700",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-bold text-black dark:text-white",children:"Alertas de Baixo Estoque"}),m.jsx("p",{className:`text-2xl font-bold ${C>0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:C})]}),m.jsx("div",{className:`bg-white dark:bg-gray-700 p-3 rounded-full ${C>0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:m.jsx(Jv,{size:24})})]})}),m.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-natural-100 dark:border-gray-700",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-bold text-black dark:text-white",children:"Movimentaes Hoje"}),m.jsx("p",{className:"text-2xl font-bold text-black dark:text-white",children:P})]}),m.jsx("div",{className:"bg-white dark:bg-gray-700 p-3 rounded-full text-black dark:text-white",children:m.jsx(UR,{size:24})})]})})]}),m.jsx("div",{className:"md:hidden space-y-3",children:m.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl border border-natural-100 dark:border-gray-700 shadow-sm",children:[m.jsxs("div",{className:"relative",children:[m.jsx(Ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),m.jsx("input",{type:"text",placeholder:"Buscar por Caf ou PR/Lote...",value:o,onChange:A=>l(A.target.value),className:"w-full pl-10 pr-10 py-2 rounded-lg border border-natural-100 dark:border-gray-600 bg-white dark:bg-gray-700 text-black dark:text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-espresso-500"}),o&&m.jsx("button",{onClick:()=>l(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:m.jsx(rr,{size:16})})]}),m.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[m.jsxs("button",{onClick:()=>{_(h),b(u),v(!0)},className:"flex items-center gap-2 px-3 py-2 rounded-lg border border-natural-100 dark:border-gray-600 bg-white dark:bg-gray-800 text-black dark:text-white font-bold",children:[m.jsx(yl,{size:16}),"Filtros"]}),u&&m.jsxs("button",{onClick:()=>d(""),className:"flex items-center gap-1 px-2 py-1 rounded-full bg-natural-50 dark:bg-gray-700 text-sm font-bold border border-natural-100 dark:border-gray-600",children:[m.jsx(zs,{size:14}),u,m.jsx(rr,{size:12,className:"ml-1"})]}),h!=="all"&&m.jsxs("button",{onClick:()=>p("all"),className:"flex items-center gap-1 px-2 py-1 rounded-full bg-natural-50 dark:bg-gray-700 text-sm font-bold border border-natural-100 dark:border-gray-600",children:["Status: ",h==="low"?"Baixo":"OK",m.jsx(rr,{size:12,className:"ml-1"})]}),(o||u||h!=="all")&&m.jsx("button",{onClick:()=>{l(""),d(""),p("all")},className:"ml-auto text-sm font-bold text-gray-600 dark:text-gray-300",children:"Limpar tudo"})]})]})}),m.jsxs("div",{className:"hidden md:flex flex-col md:flex-row gap-4 bg-white dark:bg-gray-800 p-4 rounded-xl border border-natural-100 dark:border-gray-700 shadow-sm",children:[m.jsxs("div",{className:"flex-1 relative",children:[m.jsx(Ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),m.jsx("input",{type:"text",placeholder:"Buscar por Caf ou PR/Lote...",value:o,onChange:A=>l(A.target.value),className:"w-full pl-10 pr-4 py-2 rounded-lg border border-natural-100 dark:border-gray-600 bg-white dark:bg-gray-700 text-black dark:text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-espresso-500"}),o&&m.jsx("button",{onClick:()=>l(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:m.jsx(rr,{size:16})})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full sm:w-auto",children:[m.jsxs("div",{className:"relative w-full sm:w-auto min-w-0 overflow-hidden rounded-lg",children:[m.jsx(zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none",size:20}),m.jsx("input",{type:"date",value:u,onChange:A=>d(A.target.value),className:"w-full sm:w-auto h-10 pl-10 pr-4 py-2 rounded-lg border border-natural-100 dark:border-gray-600 bg-white dark:bg-gray-700 text-black dark:text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-espresso-500 min-w-0 max-w-full block appearance-none",style:{minWidth:0,width:"100%"}}),u&&m.jsx("button",{onClick:()=>d(""),className:"absolute right-8 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:m.jsx(rr,{size:16})})]}),m.jsxs("div",{className:"relative w-full sm:w-auto min-w-0",children:[m.jsx(yl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),m.jsxs("select",{value:h,onChange:A=>p(A.target.value),className:"w-full sm:w-auto pl-10 pr-8 py-2 rounded-lg border border-natural-100 dark:border-gray-600 bg-white dark:bg-gray-700 text-black dark:text-white focus:outline-none focus:ring-2 focus:ring-espresso-500 appearance-none cursor-pointer max-w-full",children:[m.jsx("option",{value:"all",children:"Todos os Status"}),m.jsx("option",{value:"ok",children:"Estoque OK"}),m.jsx("option",{value:"low",children:"Estoque Baixo"})]}),m.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700 dark:text-gray-300",children:m.jsx("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:m.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]})]}),m.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-natural-100 dark:border-gray-700 overflow-hidden transition-colors",children:[m.jsxs("div",{className:"px-6 py-4 border-b border-natural-100 dark:border-gray-700 flex justify-between items-center",children:[m.jsx("h3",{className:"text-lg font-bold text-black dark:text-white",children:"Estoque por Caf"}),m.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:[j.length," caf(s) encontrado(s)"]})]}),m.jsx("div",{className:"hidden md:block overflow-x-auto",children:m.jsxs("table",{className:"min-w-full divide-y divide-natural-200 dark:divide-gray-700",children:[m.jsx("thead",{className:"bg-natural-50 dark:bg-gray-900",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-black dark:text-white uppercase tracking-wider",children:"Caf"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-black dark:text-white uppercase tracking-wider",children:"PR / Lote"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-black dark:text-white uppercase tracking-wider",children:"Data Torra"}),m.jsx("th",{className:"px-6 py-3 text-right text-xs font-bold text-black dark:text-white uppercase tracking-wider",children:"Quantidade"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-black dark:text-white uppercase tracking-wider",children:"Obs"}),m.jsx("th",{className:"px-6 py-3 text-center text-xs font-bold text-black dark:text-white uppercase tracking-wider",children:"Status"})]})}),m.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-natural-200 dark:divide-gray-700",children:j.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500 dark:text-gray-400",children:"Nenhum caf encontrado com os filtros selecionados."})}):j.map(A=>{const B=A.roasts.reduce((M,te)=>M+te.quantity,0),G=e.coffees.find(M=>M.id===A.id),z=G?G.roasts.reduce((M,te)=>M+te.quantity,0):0;return m.jsxs(Tt.Fragment,{children:[A.roasts.map((M,te)=>m.jsxs("tr",{className:"hover:bg-natural-50 dark:hover:bg-gray-700 transition-colors",children:[te===0&&m.jsxs("td",{rowSpan:A.roasts.length,className:"px-6 py-4 whitespace-nowrap align-top bg-white dark:bg-gray-800 border-r border-natural-100 dark:border-gray-700",children:[m.jsx("div",{className:"text-sm font-bold text-black dark:text-white",children:A.name}),m.jsxs("div",{className:"text-xs text-black dark:text-gray-300 mt-1 font-bold",children:["Total: ",xn(B)]})]}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black dark:text-gray-300 font-bold",children:M.pr}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black dark:text-gray-300 font-medium",children:M.date}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black dark:text-white text-right font-bold",children:xn(M.quantity)}),m.jsx("td",{className:"px-6 py-4 text-sm text-black dark:text-gray-300 max-w-xs truncate font-medium",children:M.observations||"-"}),te===0&&m.jsx("td",{rowSpan:A.roasts.length,className:"px-6 py-4 whitespace-nowrap text-center align-middle border-l border-natural-100 dark:border-gray-700",children:z<500?m.jsx("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-bold rounded-full bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 border border-red-200 dark:border-red-800",children:"Baixo"}):m.jsx("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-bold rounded-full bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 border border-green-200 dark:border-green-800",children:"OK"})})]},`${A.id}-${M.id}`)),A.roasts.length===0&&m.jsxs("tr",{className:"hover:bg-natural-50 dark:hover:bg-gray-700 transition-colors",children:[m.jsxs("td",{className:"px-6 py-4 whitespace-nowrap align-top bg-white dark:bg-gray-800 border-r border-natural-100 dark:border-gray-700",children:[m.jsx("div",{className:"text-sm font-bold text-black dark:text-white",children:A.name}),m.jsx("div",{className:"text-xs text-black dark:text-gray-300 mt-1 font-bold",children:"Total: 0g"})]}),m.jsxs("td",{colSpan:4,className:"px-6 py-4 text-center text-sm text-gray-500 dark:text-gray-400",children:["Sem estoque ",u?"nesta data":""]}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center align-middle border-l border-natural-100 dark:border-gray-700",children:z<500?m.jsx("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-bold rounded-full bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 border border-red-200 dark:border-red-800",children:"Baixo"}):m.jsx("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-bold rounded-full bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 border border-green-200 dark:border-green-800",children:"OK"})})]},A.id)]},A.id)})})]})}),m.jsx("div",{className:"md:hidden",children:j.length===0?m.jsx("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400",children:"Nenhum caf encontrado."}):j.map(A=>{const B=A.roasts.reduce((M,te)=>M+te.quantity,0),G=e.coffees.find(M=>M.id===A.id),z=G?G.roasts.reduce((M,te)=>M+te.quantity,0):0;return m.jsxs("div",{className:"border-b border-natural-100 dark:border-gray-700 last:border-0",children:[m.jsx("div",{className:"bg-natural-50 dark:bg-gray-900 px-4 py-3 flex justify-between items-center",children:m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-black dark:text-white",children:A.name}),m.jsxs("div",{className:"flex gap-2 mt-1",children:[m.jsxs("span",{className:"text-xs font-bold text-black dark:text-gray-300 bg-white dark:bg-gray-800 px-2 py-1 rounded border border-natural-100 dark:border-gray-700",children:["Total: ",xn(B)]}),z<500?m.jsx("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-bold rounded-full bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 border border-red-200 dark:border-red-800",children:"Baixo"}):m.jsx("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-bold rounded-full bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 border border-green-200 dark:border-green-800",children:"OK"})]})]})}),A.roasts.length>0?m.jsx("div",{className:"divide-y divide-natural-100 dark:divide-gray-700",children:A.roasts.map(M=>m.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800",children:[m.jsxs("div",{className:"flex justify-between items-start mb-2",children:[m.jsxs("div",{children:[m.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 font-bold uppercase",children:"PR / Lote"}),m.jsx("p",{className:"font-bold text-black dark:text-white",children:M.pr})]}),m.jsxs("div",{className:"text-right",children:[m.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 font-bold uppercase",children:"Quantidade"}),m.jsx("p",{className:"font-bold text-black dark:text-white",children:xn(M.quantity)})]})]}),m.jsx("div",{className:"flex justify-between items-center mb-2",children:m.jsxs("div",{children:[m.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 font-bold uppercase",children:"Data Torra"}),m.jsx("p",{className:"text-sm font-medium text-black dark:text-gray-300",children:M.date})]})}),M.observations&&m.jsxs("div",{className:"mt-2 p-2 bg-natural-50 dark:bg-gray-700/50 rounded text-sm text-black dark:text-gray-300",children:[m.jsx("span",{className:"font-bold text-xs block mb-1",children:"Obs:"}),M.observations]})]},M.id))}):m.jsxs("div",{className:"p-4 text-center text-sm text-gray-500 dark:text-gray-400",children:["Sem estoque ",u?"nesta data":"registrado"]})]},A.id)})})]}),m.jsx(Qn,{isOpen:r,onClose:()=>i(!1),title:"Nova Movimentao",children:m.jsx(Ch,{onSuccess:()=>i(!1),onCancel:()=>i(!1)})}),m.jsx(Qn,{isOpen:y,onClose:()=>v(!1),title:"Filtros",children:m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-black dark:text-white mb-1",children:"Data da Torra"}),m.jsx("input",{type:"date",value:w,onChange:A=>b(A.target.value),className:"w-full h-10 px-3 rounded-lg border border-natural-100 dark:border-gray-600 bg-white dark:bg-gray-700 text-black dark:text-white focus:outline-none focus:ring-2 focus:ring-espresso-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-black dark:text-white mb-1",children:"Status de Estoque"}),m.jsxs("select",{value:k,onChange:A=>_(A.target.value),className:"w-full h-10 px-3 rounded-lg border border-natural-100 dark:border-gray-600 bg-white dark:bg-gray-700 text-black dark:text-white focus:outline-none focus:ring-2 focus:ring-espresso-500",children:[m.jsx("option",{value:"all",children:"Todos os Status"}),m.jsx("option",{value:"ok",children:"Estoque OK"}),m.jsx("option",{value:"low",children:"Estoque Baixo"})]})]}),m.jsxs("div",{className:"flex gap-3 pt-2",children:[m.jsx("button",{type:"button",onClick:()=>{b(""),_("all")},className:"flex-1 py-2 text-sm font-bold text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-espresso-500",children:"Limpar"}),m.jsx("button",{type:"button",onClick:()=>{d(w),p(k),v(!1)},className:"flex-1 py-2 text-sm font-bold text-white bg-espresso-600 border border-transparent rounded-lg shadow-sm hover:bg-espresso-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-espresso-500",children:"Aplicar"})]})]})})]})},SP=()=>{const{state:t,actions:e}=Zn(),r=Hr(),[i,o]=T.useState("all"),[l,u]=T.useState(""),[d,h]=T.useState(""),[p,y]=T.useState(null),[v,w]=T.useState(null),[b,k]=T.useState(!1),[_,S]=T.useState(d),[C,P]=T.useState(i),j=M=>new Date(M).toLocaleString("pt-BR"),I=t.movements.filter(M=>{if(i!=="all"&&M.type!==i||d&&new Date(M.timestamp).toISOString().split("T")[0]!==d)return!1;if(l){const te=l.toLowerCase(),Ne=M.coffeeName.toLowerCase().includes(te),ce=M.pr.toLowerCase().includes(te),fe=M.responsible?M.responsible.toLowerCase().includes(te):!1;if(!Ne&&!ce&&!fe)return!1}return!0}).sort((M,te)=>new Date(te.timestamp).getTime()-new Date(M.timestamp).getTime()),A=M=>M==="entrada"?m.jsx(xo,{size:12}):m.jsx(TR,{size:12}),B=M=>{w(M)},G=()=>{v&&(e.deleteMovement(v.id),w(null))},z=M=>{window.innerWidth<1024?r(`/movimentacoes/editar/${M.id}`):y(M)};return m.jsxs("div",{className:"space-y-6",children:[m.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-natural-100 dark:border-gray-700 p-6 flex flex-col sm:flex-row justify-between items-center gap-4 transition-colors",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"bg-natural-50 dark:bg-gray-700 p-2 rounded-lg text-black dark:text-white",children:m.jsx(Gv,{size:24})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-xl font-bold text-black dark:text-white",children:"Histrico de Movimentaes"}),m.jsxs("p",{className:"text-sm text-black dark:text-gray-300 mt-1 font-bold",children:["Total: ",I.length," registros"]})]})]})}),m.jsx("div",{className:"md:hidden space-y-3",children:m.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl border border-natural-100 dark:border-gray-700 shadow-sm",children:[m.jsxs("div",{className:"relative",children:[m.jsx(Ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),m.jsx("input",{type:"text",placeholder:"Buscar por Caf, PR/Lote ou Responsvel...",value:l,onChange:M=>u(M.target.value),className:"w-full pl-10 pr-10 py-2 rounded-lg border border-natural-100 dark:border-gray-600 bg-white dark:bg-gray-700 text-black dark:text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-espresso-500"}),l&&m.jsx("button",{onClick:()=>u(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:m.jsx(rr,{size:16})})]}),m.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[m.jsxs("button",{onClick:()=>{P(i),S(d),k(!0)},className:"flex items-center gap-2 px-3 py-2 rounded-lg border border-natural-100 dark:border-gray-600 bg-white dark:bg-gray-800 text-black dark:text-white font-bold",children:[m.jsx(yl,{size:16}),"Filtros"]}),d&&m.jsxs("button",{onClick:()=>h(""),className:"flex items-center gap-1 px-2 py-1 rounded-full bg-natural-50 dark:bg-gray-700 text-sm font-bold border border-natural-100 dark:border-gray-600",children:[m.jsx(zs,{size:14}),d,m.jsx(rr,{size:12,className:"ml-1"})]}),i!=="all"&&m.jsxs("button",{onClick:()=>o("all"),className:"flex items-center gap-1 px-2 py-1 rounded-full bg-natural-50 dark:bg-gray-700 text-sm font-bold border border-natural-100 dark:border-gray-600",children:["Tipo: ",i==="saida"?"Sada":"Entrada",m.jsx(rr,{size:12,className:"ml-1"})]}),(l||d||i!=="all")&&m.jsx("button",{onClick:()=>{u(""),h(""),o("all")},className:"ml-auto text-sm font-bold text-gray-600 dark:text-gray-300",children:"Limpar tudo"})]})]})}),m.jsxs("div",{className:"hidden md:flex flex-col sm:flex-row gap-4 bg-white dark:bg-gray-800 p-4 rounded-xl border border-natural-100 dark:border-gray-700 shadow-sm",children:[m.jsxs("div",{className:"flex-1 relative",children:[m.jsx(Ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),m.jsx("input",{type:"text",placeholder:"Buscar por Caf, PR/Lote ou Responsvel...",value:l,onChange:M=>u(M.target.value),className:"w-full pl-10 pr-4 py-2 rounded-lg border border-natural-100 dark:border-gray-600 bg-white dark:bg-gray-700 text-black dark:text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-espresso-500"}),l&&m.jsx("button",{onClick:()=>u(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:m.jsx(rr,{size:16})})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full sm:w-auto",children:[m.jsxs("div",{className:"relative w-full sm:w-auto min-w-0 overflow-hidden rounded-lg",children:[m.jsx(zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none",size:20}),m.jsx("input",{type:"date",value:d,onChange:M=>h(M.target.value),className:"w-full sm:w-auto h-10 pl-10 pr-4 py-2 rounded-lg border border-natural-100 dark:border-gray-600 bg-white dark:bg-gray-700 text-black dark:text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-espresso-500 min-w-0 max-w-full block appearance-none",style:{minWidth:0,width:"100%"}}),d&&m.jsx("button",{onClick:()=>h(""),className:"absolute right-8 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:m.jsx(rr,{size:16})})]}),m.jsxs("div",{className:"relative w-full sm:w-auto min-w-0",children:[m.jsx(yl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),m.jsxs("select",{value:i,onChange:M=>o(M.target.value),className:"w-full sm:w-auto pl-10 pr-8 py-2 rounded-lg border border-natural-100 dark:border-gray-600 bg-white dark:bg-gray-700 text-black dark:text-white focus:outline-none focus:ring-2 focus:ring-espresso-500 appearance-none cursor-pointer max-w-full",children:[m.jsx("option",{value:"all",children:"Todas as Movimentaes"}),m.jsx("option",{value:"entrada",children:"Apenas Entradas"}),m.jsx("option",{value:"saida",children:"Apenas Sadas"})]}),m.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700 dark:text-gray-300",children:m.jsx("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:m.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]})]}),m.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-natural-100 dark:border-gray-700 overflow-hidden transition-colors",children:[m.jsx("div",{className:"hidden md:block overflow-x-auto",children:m.jsxs("table",{className:"min-w-full divide-y divide-natural-200 dark:divide-gray-700",children:[m.jsx("thead",{className:"bg-natural-50 dark:bg-gray-900",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-black dark:text-white uppercase tracking-wider",children:"Data/Hora"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-black dark:text-white uppercase tracking-wider",children:"Tipo"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-black dark:text-white uppercase tracking-wider",children:"Caf"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-black dark:text-white uppercase tracking-wider",children:"PR/Lote"}),m.jsx("th",{className:"px-6 py-3 text-right text-xs font-bold text-black dark:text-white uppercase tracking-wider",children:"Qtd (g)"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-black dark:text-white uppercase tracking-wider",children:"Responsvel"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-black dark:text-white uppercase tracking-wider",children:"Obs"}),m.jsx("th",{className:"px-6 py-3 text-center text-xs font-bold text-black dark:text-white uppercase tracking-wider",children:"Aes"})]})}),m.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-natural-200 dark:divide-gray-700",children:I.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:8,className:"px-6 py-12 text-center text-black dark:text-white",children:m.jsxs("div",{className:"flex flex-col items-center gap-2",children:[m.jsx(zs,{size:32,className:"text-gray-400 dark:text-gray-600"}),m.jsx("p",{children:"Nenhuma movimentao encontrada"})]})})}):I.map(M=>m.jsxs("tr",{className:"hover:bg-natural-50 dark:hover:bg-gray-700 transition-colors",children:[m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black dark:text-white font-bold",children:j(M.timestamp)}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-bold ${M.type==="entrada"?"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200":"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200"}`,children:[m.jsx("span",{className:"mr-1",children:A(M.type)}),m.jsx("span",{className:"capitalize",children:M.type})]})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-black dark:text-white",children:M.coffeeName}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black dark:text-gray-300 font-medium",children:M.pr}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-bold",children:m.jsxs("span",{className:M.type==="entrada"?"text-green-700 dark:text-green-400":"text-red-700 dark:text-red-400",children:[M.type==="entrada"?"+":"-",xn(M.quantity)]})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black dark:text-gray-300 font-medium",children:M.responsible||"-"}),m.jsx("td",{className:"px-6 py-4 text-sm text-black dark:text-gray-300 max-w-xs truncate font-medium",children:M.observations||"-"}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:m.jsxs("div",{className:"flex items-center justify-center gap-2",children:[m.jsx("button",{onClick:()=>z(M),className:"p-1.5 text-white bg-espresso-600 hover:bg-espresso-700 rounded-full transition-colors shadow-sm",title:"Editar",children:m.jsx(vl,{size:16})}),m.jsx("button",{onClick:()=>B(M),className:"p-1.5 text-white bg-red-600 hover:bg-red-700 rounded-full transition-colors shadow-sm",title:"Excluir",children:m.jsx(so,{size:16})})]})})]},M.id))})]})}),m.jsx("div",{className:"md:hidden divide-y divide-natural-200 dark:divide-gray-700",children:I.length===0?m.jsx("div",{className:"p-12 text-center text-black dark:text-white",children:m.jsxs("div",{className:"flex flex-col items-center gap-2",children:[m.jsx(zs,{size:32,className:"text-gray-400 dark:text-gray-600"}),m.jsx("p",{children:"Nenhuma movimentao encontrada"})]})}):I.map(M=>m.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800",children:[m.jsxs("div",{className:"flex justify-between items-start mb-2",children:[m.jsxs("div",{children:[m.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-bold mb-1 ${M.type==="entrada"?"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200":"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200"}`,children:[m.jsx("span",{className:"mr-1",children:A(M.type)}),m.jsx("span",{className:"capitalize",children:M.type})]}),m.jsx("h4",{className:"font-bold text-black dark:text-white",children:M.coffeeName})]}),m.jsxs("div",{className:"flex flex-col items-end",children:[m.jsxs("div",{className:"flex gap-2 mb-1",children:[m.jsx("button",{onClick:()=>z(M),className:"p-1.5 text-white bg-espresso-600 hover:bg-espresso-700 rounded-full transition-colors shadow-sm",children:m.jsx(vl,{size:16})}),m.jsx("button",{onClick:()=>B(M),className:"p-1.5 text-white bg-red-600 hover:bg-red-700 rounded-full transition-colors shadow-sm",children:m.jsx(so,{size:16})})]}),m.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 block",children:j(M.timestamp)}),m.jsxs("span",{className:`text-lg font-bold ${M.type==="entrada"?"text-green-700 dark:text-green-400":"text-red-700 dark:text-red-400"}`,children:[M.type==="entrada"?"+":"-",xn(M.quantity)]})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm mb-2",children:[m.jsxs("div",{children:[m.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 font-bold uppercase block",children:"PR / Lote"}),m.jsx("span",{className:"text-black dark:text-gray-300 font-medium",children:M.pr})]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 font-bold uppercase block",children:"Responsvel"}),m.jsx("span",{className:"text-black dark:text-gray-300 font-medium",children:M.responsible||"-"})]})]}),M.observations&&m.jsxs("div",{className:"mt-2 p-2 bg-natural-50 dark:bg-gray-700/50 rounded text-sm text-black dark:text-gray-300",children:[m.jsx("span",{className:"font-bold text-xs block mb-1",children:"Obs:"}),M.observations]})]},M.id))})]}),m.jsx(Qn,{isOpen:b,onClose:()=>k(!1),title:"Filtros",children:m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-black dark:text-white mb-1",children:"Data"}),m.jsx("input",{type:"date",value:_,onChange:M=>S(M.target.value),className:"w-full h-10 px-3 rounded-lg border border-natural-100 dark:border-gray-600 bg-white dark:bg-gray-700 text-black dark:text-white focus:outline-none focus:ring-2 focus:ring-espresso-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-black dark:text-white mb-1",children:"Tipo"}),m.jsxs("select",{value:C,onChange:M=>P(M.target.value),className:"w-full h-10 px-3 rounded-lg border border-natural-100 dark:border-gray-600 bg-white dark:bg-gray-700 text-black dark:text-white focus:outline-none focus:ring-2 focus:ring-espresso-500",children:[m.jsx("option",{value:"all",children:"Todas"}),m.jsx("option",{value:"entrada",children:"Entradas"}),m.jsx("option",{value:"saida",children:"Sadas"})]})]}),m.jsxs("div",{className:"flex gap-3 pt-2",children:[m.jsx("button",{type:"button",onClick:()=>{S(""),P("all")},className:"flex-1 py-2 text-sm font-bold text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-espresso-500",children:"Limpar"}),m.jsx("button",{type:"button",onClick:()=>{h(_),o(C),k(!1)},className:"flex-1 py-2 text-sm font-bold text-white bg-espresso-600 border border-transparent rounded-lg shadow-sm hover:bg-espresso-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-espresso-500",children:"Aplicar"})]})]})}),m.jsx(Qn,{isOpen:!!v,onClose:()=>w(null),title:"Confirmar Excluso",children:m.jsxs("div",{className:"space-y-4",children:[m.jsx("div",{className:"flex items-center justify-center p-4 bg-red-50 dark:bg-red-900/20 rounded-full w-16 h-16 mx-auto",children:m.jsx(so,{size:32,className:"text-red-600 dark:text-red-400"})}),m.jsxs("div",{className:"text-center space-y-2",children:[m.jsx("p",{className:"text-black dark:text-white font-medium",children:"Tem certeza que deseja excluir esta movimentao?"}),v&&m.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[xn(v.quantity)," de ",v.coffeeName]}),m.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"O estoque ser revertido automaticamente. Esta ao no pode ser desfeita."})]}),m.jsxs("div",{className:"flex gap-3 mt-6",children:[m.jsx("button",{onClick:()=>w(null),className:"flex-1 py-2 px-4 text-sm font-bold text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-espresso-500",children:"Cancelar"}),m.jsx("button",{onClick:G,className:"flex-1 py-2 px-4 text-sm font-bold text-white bg-red-600 border border-transparent rounded-lg shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Excluir"})]})]})}),m.jsx(Qn,{isOpen:!!p,onClose:()=>y(null),title:"Editar Movimentao",children:p&&m.jsx(Ch,{initialData:p,onSuccess:()=>y(null),onCancel:()=>y(null)})})]})},lw=({initialData:t,onSubmit:e,onCancel:r,isEditing:i,submitLabel:o})=>{const{register:l,handleSubmit:u,reset:d,setValue:h,formState:{errors:p}}=aw();return T.useEffect(()=>{t?(h("name",t.name),h("observations",t.observations||"")):d({name:"",observations:""})},[t,h,d]),m.jsxs("form",{onSubmit:u(e),className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-black dark:text-white mb-1",children:"Nome do Caf"}),m.jsx("input",{type:"text",...l("name",{required:"Nome  obrigatrio"}),className:"w-full rounded-md border-natural-100 dark:border-gray-600 bg-white dark:bg-gray-700 shadow-sm focus:border-espresso-500 focus:ring-espresso-500 py-2 px-3 border text-black dark:text-white font-medium",placeholder:"Ex: Colombia Huila"}),p.name&&m.jsx("p",{className:"text-xs text-red-500 mt-1",children:p.name.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-black dark:text-white mb-1",children:"Observaes (Opcional)"}),m.jsx("textarea",{...l("observations"),rows:3,className:"w-full rounded-md border-natural-100 dark:border-gray-600 bg-white dark:bg-gray-700 shadow-sm focus:border-espresso-500 focus:ring-espresso-500 py-2 px-3 border text-black dark:text-white font-medium",placeholder:"Ex: Notas sensoriais, fornecedor..."})]}),m.jsxs("div",{className:"flex gap-3 mt-4",children:[m.jsx("button",{type:"button",onClick:r,className:"flex-1 py-2 px-4 text-sm font-bold text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-espresso-500",children:"Cancelar"}),m.jsx("button",{type:"submit",className:"flex-1 bg-espresso-600 text-white py-2 px-4 rounded-lg hover:bg-espresso-700 transition-colors font-bold",children:o||(i?"Salvar":"Cadastrar")})]})]})},EP=()=>{const{state:t,actions:e}=Zn(),{showToast:r}=ei(),i=Hr(),[o,l]=T.useState(!1),[u,d]=T.useState(null),[h,p]=T.useState(null),[y,v]=T.useState(!1),[w,b]=T.useState("");T.useEffect(()=>{const A=()=>v(window.innerWidth<1024);return A(),window.addEventListener("resize",A),()=>window.removeEventListener("resize",A)},[]);const k=u?t.coffees.find(A=>A.id===u):void 0,_=()=>{window.innerWidth<1024?i("/cafes/novo"):(d(null),l(!0))},S=A=>{window.innerWidth<1024?i(`/cafes/editar/${A.id}`):(d(A.id),l(!0))},C=A=>{p(A)},P=()=>{h&&(e.deleteCoffee(h),p(null))},j=t.coffees.filter(A=>A.name.toLowerCase().includes(w.toLowerCase())||A.observations&&A.observations.toLowerCase().includes(w.toLowerCase())),I=A=>{try{if(t.coffees.some(G=>G.name.trim().toLowerCase()===A.name.trim().toLowerCase()&&G.id!==u)){r("J existe um caf cadastrado com esse nome.","error");return}u?e.updateCoffee(u,A):e.addCoffee(A),l(!1)}catch(B){console.error(B),r("Erro ao salvar caf.","error")}};return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold text-black dark:text-white",children:"Gerenciar Cafs"}),m.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Cadastre, edite ou remova os cafs disponveis."})]}),m.jsxs("button",{onClick:_,className:"hidden sm:flex bg-espresso-600 text-white px-4 py-2 rounded-lg hover:bg-espresso-700 transition-colors shadow-sm items-center justify-center gap-2 font-bold",children:[m.jsx(xo,{size:20}),m.jsx("span",{children:"Novo Caf"})]})]}),m.jsxs("div",{className:"relative",children:[m.jsx(Ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),m.jsx("input",{type:"text",placeholder:"Buscar caf...",value:w,onChange:A=>b(A.target.value),className:"w-full pl-10 pr-4 py-3 rounded-lg border border-natural-100 dark:border-gray-600 bg-white dark:bg-gray-800 text-black dark:text-white focus:outline-none focus:ring-2 focus:ring-espresso-500 shadow-sm"})]}),m.jsx("button",{onClick:_,className:"fixed bottom-20 right-4 sm:hidden z-40 bg-espresso-600 text-white p-4 rounded-full shadow-lg hover:bg-espresso-700 active:scale-95 transition-all ripple touch-target","aria-label":"Novo Caf",children:m.jsx(xo,{size:24})}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:j.length===0?m.jsx("div",{className:"col-span-full py-12 text-center text-gray-500 dark:text-gray-400",children:m.jsxs("div",{className:"flex flex-col items-center gap-3",children:[m.jsx(Ks,{size:48,className:"text-gray-300 dark:text-gray-600"}),m.jsx("p",{className:"text-lg font-medium",children:"Nenhum caf encontrado"}),m.jsx("p",{className:"text-sm",children:"Tente buscar por outro termo"})]})}):j.map((A,B)=>m.jsxs(ml.div,{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-natural-100 dark:border-gray-700 relative",initial:y?{opacity:0,y:20}:void 0,animate:y?{opacity:1,y:0}:void 0,transition:y?{duration:.15,delay:B*.05}:void 0,whileTap:y?{scale:.98}:void 0,children:[m.jsx("div",{className:"flex items-start justify-between",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"bg-natural-50 dark:bg-gray-700 p-3 rounded-full text-black dark:text-white",children:m.jsx(gl,{size:24})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-bold text-black dark:text-white",children:A.name}),A.observations&&m.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:A.observations}),m.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-2 font-mono",children:["ID: ",A.id]})]})]})}),m.jsxs("div",{className:"absolute top-4 right-4 flex gap-2",children:[m.jsx("button",{onClick:()=>S(A),className:"p-3 text-white bg-espresso-600 hover:bg-espresso-700 rounded-full transition-colors shadow-sm touch-target-sm ripple",title:"Editar",children:m.jsx(vl,{size:18})}),m.jsx("button",{onClick:()=>C(A.id),className:"p-3 text-white bg-red-600 hover:bg-red-700 rounded-full transition-colors shadow-sm touch-target-sm ripple",title:"Excluir",children:m.jsx(so,{size:18})})]})]},A.id))}),m.jsx(Qn,{isOpen:!!h,onClose:()=>p(null),title:"Confirmar Excluso",children:m.jsxs("div",{className:"space-y-4",children:[m.jsx("div",{className:"flex items-center justify-center p-4 bg-red-50 dark:bg-red-900/20 rounded-full w-16 h-16 mx-auto",children:m.jsx(so,{size:32,className:"text-red-600 dark:text-red-400"})}),m.jsxs("div",{className:"text-center space-y-2",children:[m.jsx("p",{className:"text-black dark:text-white font-medium",children:"Tem certeza que deseja excluir este caf?"}),m.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Esta ao no pode ser desfeita. Todo o histrico e estoque vinculados a este caf sero perdidos permanentemente."})]}),m.jsxs("div",{className:"flex gap-3 mt-6",children:[m.jsx("button",{onClick:()=>p(null),className:"flex-1 py-2 px-4 text-sm font-bold text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-espresso-500",children:"Cancelar"}),m.jsx("button",{onClick:P,className:"flex-1 py-2 px-4 text-sm font-bold text-white bg-red-600 border border-transparent rounded-lg shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Excluir"})]})]})}),m.jsx(Qn,{isOpen:o,onClose:()=>l(!1),title:u?"Editar Caf":"Novo Caf",children:m.jsx(lw,{initialData:k,onSubmit:I,onCancel:()=>l(!1),isEditing:!!u})})]})},Ty=()=>{const{id:t}=Uy(),e=Hr(),{state:r,actions:i}=Zn(),{showToast:o}=ei(),l=!!t,u=t?r.coffees.find(h=>h.id===t):void 0,d=h=>{try{if(r.coffees.some(y=>y.name.trim().toLowerCase()===h.name.trim().toLowerCase()&&y.id!==t)){o("J existe um caf cadastrado com esse nome.","error");return}l&&t?i.updateCoffee(t,h):i.addCoffee(h),e("/cafes")}catch(p){console.error(p),o("Erro ao salvar caf.","error")}};return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"hidden lg:flex items-center gap-4",children:[m.jsx("button",{onClick:()=>e("/cafes"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full text-black dark:text-white transition-colors",children:m.jsx(bh,{size:24})}),m.jsx("h2",{className:"text-2xl font-bold text-black dark:text-white",children:l?"Editar Caf":"Novo Caf"})]}),m.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl",children:m.jsx(lw,{initialData:u,onSubmit:d,onCancel:()=>e("/cafes"),isEditing:l})})]})},Cy=()=>{const{id:t}=Uy(),e=Hr(),{state:r}=Zn(),i=!!t,o=t?r.movements.find(d=>d.id===t):void 0,l=()=>{e(-1)},u=()=>{e(-1)};return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"hidden lg:flex items-center gap-4",children:[m.jsx("button",{onClick:u,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full text-black dark:text-white transition-colors",children:m.jsx(bh,{size:24})}),m.jsx("h2",{className:"text-2xl font-bold text-black dark:text-white",children:i?"Editar Movimentao":"Nova Movimentao"})]}),m.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl",children:m.jsx(Ch,{initialData:o,onSuccess:l,onCancel:u})})]})},TP=()=>{const[t,e]=T.useState(""),[r,i]=T.useState(""),[o,l]=T.useState(""),[u,d]=T.useState(!1),[h,p]=T.useState(!1),{showToast:y}=ei(),v=Hr(),w=async b=>{b.preventDefault(),d(!0);try{if(h){if(!o.trim()){y("Por favor, informe seu nome.","error"),d(!1);return}const{error:k}=await Ie.auth.signUp({email:t,password:r,options:{data:{name:o}}});if(k)throw k;y("Cadastro realizado! Verifique seu email para confirmar.","success"),p(!1),l(""),i("")}else{const{error:k}=await Ie.auth.signInWithPassword({email:t,password:r});if(k)throw k;y("Login realizado com sucesso!","success"),v("/")}}catch(k){console.error("Erro na autenticao:",k),k.message.includes("Email not confirmed")?y("Seu email ainda no foi confirmado. Verifique sua caixa de entrada.","warning"):k.message.includes("Invalid login credentials")?y("Email ou senha incorretos.","error"):y(k.message||"Erro ao realizar operao","error")}finally{d(!1)}};return m.jsx("div",{className:"min-h-screen bg-natural-50 dark:bg-gray-900 flex flex-col justify-center items-center p-4",children:m.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-natural-100 dark:border-gray-700 overflow-hidden",children:[m.jsxs("div",{className:"bg-espresso-600 p-6 flex flex-col items-center justify-center text-white",children:[m.jsx("div",{className:"p-3 bg-white/10 rounded-full mb-3",children:m.jsx(gl,{size:40})}),m.jsx("h1",{className:"text-2xl font-bold",children:"Studio Gro"}),m.jsx("p",{className:"text-gray-300 text-sm mt-1",children:"Gesto de Estoque"})]}),m.jsxs("div",{className:"p-8",children:[m.jsx("h2",{className:"text-xl font-bold text-center mb-6 text-black dark:text-white",children:h?"Criar nova conta":"Acesse sua conta"}),m.jsxs("form",{onSubmit:w,className:"space-y-4",children:[h&&m.jsxs("div",{className:"animate-fade-in",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nome"}),m.jsx("input",{type:"text",value:o,onChange:b=>l(b.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-black dark:text-white focus:ring-2 focus:ring-espresso-600 dark:focus:ring-white focus:border-transparent outline-none transition-all",placeholder:"Seu nome",required:h})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),m.jsx("input",{type:"email",value:t,onChange:b=>e(b.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-black dark:text-white focus:ring-2 focus:ring-black dark:focus:ring-white focus:border-transparent outline-none transition-all",placeholder:"seu@email.com",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Senha"}),m.jsx("input",{type:"password",value:r,onChange:b=>i(b.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-black dark:text-white focus:ring-2 focus:ring-black dark:focus:ring-white focus:border-transparent outline-none transition-all",placeholder:"",required:!0,minLength:6}),h&&m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Mnimo de 6 caracteres"})]}),m.jsx("button",{type:"submit",disabled:u,className:"w-full bg-espresso-600 hover:bg-espresso-700 text-white font-bold py-3 px-4 rounded-lg transition-colors flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed mt-6 shadow-sm",children:u?m.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):h?"Cadastrar":"Entrar"})]})]}),m.jsx("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-4 text-center border-t border-natural-100 dark:border-gray-700",children:m.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[h?"J tem uma conta?":"Ainda no tem acesso?",m.jsx("button",{onClick:()=>{p(!h),e(""),i(""),l("")},className:"ml-2 font-bold text-espresso-600 dark:text-white hover:underline focus:outline-none",children:h?"Fazer Login":"Cadastre-se"})]})})]})})},CP=()=>{const{user:t}=Nl(),{showToast:e}=ei(),[r,i]=T.useState(""),[o,l]=T.useState(""),[u,d]=T.useState(!1);T.useEffect(()=>{var p;t&&(i(((p=t.user_metadata)==null?void 0:p.name)||""),l(t.email||""))},[t]);const h=async p=>{p.preventDefault(),d(!0);try{const{error:y}=await Ie.auth.updateUser({data:{name:r}});if(y)throw y;e("Perfil atualizado com sucesso!","success")}catch(y){console.error("Erro ao atualizar perfil:",y),e("Erro ao atualizar perfil.","error")}finally{d(!1)}};return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-3 bg-espresso-600 rounded-lg text-white",children:m.jsx(Yv,{size:24})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold text-black dark:text-white",children:"Meu Perfil"}),m.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium",children:"Gerencie suas informaes pessoais"})]})]}),m.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-natural-100 dark:border-gray-700 p-6 max-w-2xl",children:m.jsxs("form",{onSubmit:h,className:"space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-black dark:text-white mb-2",children:"Email"}),m.jsx("input",{type:"email",value:o,disabled:!0,className:"w-full px-4 py-2 rounded-lg border border-gray-200 dark:border-gray-600 bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400 cursor-not-allowed font-medium"}),m.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"O email no pode ser alterado."})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-black dark:text-white mb-2",children:"Nome"}),m.jsx("input",{type:"text",value:r,onChange:p=>i(p.target.value),className:"w-full px-4 py-2 rounded-lg border border-natural-100 dark:border-gray-600 bg-white dark:bg-gray-700 text-black dark:text-white focus:ring-2 focus:ring-espresso-600 dark:focus:ring-white focus:border-transparent outline-none transition-all font-medium",placeholder:"Seu nome"})]})]}),m.jsx("div",{className:"flex justify-end pt-4 border-t border-natural-100 dark:border-gray-700",children:m.jsx("button",{type:"submit",disabled:u,className:"flex items-center gap-2 bg-espresso-600 hover:bg-espresso-700 text-white font-bold py-2 px-6 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:u?m.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):m.jsxs(m.Fragment,{children:[m.jsx(IR,{size:18}),"Salvar Alteraes"]})})})]})})]})},jP=({children:t})=>{const{session:e,loading:r}=Nl();return r?m.jsx("div",{className:"min-h-screen flex items-center justify-center",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-espresso-600"})}):e?m.jsx(m.Fragment,{children:t}):m.jsx(uk,{to:"/login",replace:!0})};function RP(){return m.jsx(Ik,{children:m.jsxs(Cm,{children:[m.jsx(pr,{path:"/login",element:m.jsx(TP,{})}),m.jsx(pr,{path:"*",element:m.jsx(jP,{children:m.jsx(QR,{children:m.jsxs(Cm,{children:[m.jsx(pr,{path:"/",element:m.jsx(_P,{})}),m.jsx(pr,{path:"/historico",element:m.jsx(SP,{})}),m.jsx(pr,{path:"/cafes",element:m.jsx(EP,{})}),m.jsx(pr,{path:"/cafes/novo",element:m.jsx(Ty,{})}),m.jsx(pr,{path:"/cafes/editar/:id",element:m.jsx(Ty,{})}),m.jsx(pr,{path:"/movimentacoes/nova",element:m.jsx(Cy,{})}),m.jsx(pr,{path:"/movimentacoes/editar/:id",element:m.jsx(Cy,{})}),m.jsx(pr,{path:"/perfil",element:m.jsx(CP,{})})]})})})})]})})}function PP(){return m.jsx(WR,{children:m.jsx(YR,{children:m.jsx(JR,{children:m.jsx(RP,{})})})})}class NP extends T.Component{constructor(){super(...arguments);hm(this,"state",{hasError:!1,error:null,errorInfo:null})}static getDerivedStateFromError(r){return{hasError:!0,error:r,errorInfo:null}}componentDidCatch(r,i){console.error("Uncaught error:",r,i),this.setState({error:r,errorInfo:i})}render(){return this.state.hasError?m.jsxs("div",{style:{padding:"20px",fontFamily:"sans-serif",color:"#333"},children:[m.jsx("h1",{children:"Algo deu errado."}),m.jsx("p",{children:"Por favor, tire um print desta tela e envie para o suporte."}),m.jsxs("details",{style:{whiteSpace:"pre-wrap",marginTop:"10px",padding:"10px",background:"#f5f5f5",borderRadius:"5px"},children:[m.jsx("summary",{children:"Detalhes do erro"}),m.jsx("p",{style:{color:"red",fontWeight:"bold"},children:this.state.error&&this.state.error.toString()}),m.jsx("p",{style:{fontSize:"0.8em"},children:this.state.errorInfo&&this.state.errorInfo.componentStack})]})]}):this.props.children}}const jy=document.getElementById("root");jy&&fb.createRoot(jy).render(m.jsx(T.StrictMode,{children:m.jsx(NP,{children:m.jsx(PP,{})})}));
